import{i as fe,j as e,a as qs,B as t,r as q,f as Ge,g as Xe,h as Ze,k as Ce,l as h,m as Qe,I as le,E as Pe,G as Me,X as ve,H as Ee,R as Mn,Z as En,y as Ct,U as Dt,F as De,K as $e,S as Oe,M as oe,d as pt,e as Ae,C as ge,D as dt,a6 as vt,A as gt,W as Ot,a7 as Hs,a8 as zn,a9 as $n,aa as Hn,ab as An,N as Wn}from"./mui-vendor-C85vPdgr.js";import{r as o,b as _t,u as Nn,f as Ln,L as Bn}from"./react-vendor-QLNaZ7XN.js";import{r as je,u as Be,e as it,c as et,f as Ke,g as ke,h as Ie,R as at,d as He,a as ze,i as tt,j as de,D as Se,k as pe,l as Fn,m as As,n as es,_ as Un}from"./index-DqUIUroV.js";import{t as Vn,P as ot,a as Gn,d as Kn}from"./PlayDetailChip-5NlSkerD.js";import{D as Ne,C as Te,P as Re,d as st,u as nt,a as lt}from"./useLongPress-m94hGOtv.js";import{A as qn,m as Yn}from"./motion-vendor-CXcnLVtk.js";import"./chart-vendor-DVL1rbVz.js";var os={},Jn=fe;Object.defineProperty(os,"__esModule",{value:!0});var Ue=os.default=void 0,Xn=Jn(je()),Zn=e;Ue=os.default=(0,Xn.default)((0,Zn.jsx)("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4m0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7"}),"VisibilityOutlined");var is={},Qn=fe;Object.defineProperty(is,"__esModule",{value:!0});var Ve=is.default=void 0,el=Qn(je()),tl=e;Ve=is.default=(0,el.default)((0,tl.jsx)("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5-.59 1.22-1.42 2.27-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6m-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14M2.01 3.87l2.68 2.68C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45zm7.5 7.5 2.61 2.61c-.04.01-.08.02-.12.02-1.38 0-2.5-1.12-2.5-2.5 0-.05.01-.08.01-.13m-3.4-3.4 1.75 1.75c-.23.55-.36 1.15-.36 1.78 0 2.48 2.02 4.5 4.5 4.5.63 0 1.23-.13 1.77-.36l.98.98c-.88.24-1.8.38-2.75.38-3.79 0-7.17-2.13-8.82-5.5.7-1.43 1.72-2.61 2.93-3.53"}),"VisibilityOffOutlined");var as={},sl=fe;Object.defineProperty(as,"__esModule",{value:!0});var Ys=as.default=void 0,nl=sl(je()),ll=e;Ys=as.default=(0,nl.default)((0,ll.jsx)("path",{d:"M15.61 7.41 14.2 6l-6 6 6 6 1.41-1.41L11.03 12z"}),"NavigateBeforeOutlined");var cs={},rl=fe;Object.defineProperty(cs,"__esModule",{value:!0});var ts=cs.default=void 0,ol=rl(je()),il=e;ts=cs.default=(0,ol.default)((0,il.jsx)("path",{d:"M10.02 6 8.61 7.41 13.19 12l-4.58 4.59L10.02 18l6-6z"}),"NavigateNextOutlined");var ds={},al=fe;Object.defineProperty(ds,"__esModule",{value:!0});var Js=ds.default=void 0,cl=al(je()),dl=e;Js=ds.default=(0,cl.default)((0,dl.jsx)("path",{d:"M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zm-7.76-2.78c-1.17-.52-2.61-.9-4.24-.9-1.63 0-3.07.39-4.24.9C6.68 14.13 6 15.21 6 16.39V18h12v-1.61c0-1.18-.68-2.26-1.76-2.74M8.07 16c.09-.23.13-.39.91-.69.97-.38 1.99-.56 3.02-.56s2.05.18 3.02.56c.77.3.81.46.91.69zM12 8c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m0-2c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"GroupsOutlined");var xs={},xl=fe;Object.defineProperty(xs,"__esModule",{value:!0});var Xs=xs.default=void 0,hl=xl(je()),ul=e;Xs=xs.default=(0,hl.default)((0,ul.jsx)("path",{d:"M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 10c2.7 0 5.8 1.29 6 2H6c.23-.72 3.31-2 6-2m0-12C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 10c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonOutlined");var hs={},gl=fe;Object.defineProperty(hs,"__esModule",{value:!0});var Zs=hs.default=void 0,pl=gl(je()),fl=e;Zs=hs.default=(0,pl.default)((0,fl.jsx)("path",{d:"M18 9h-2.5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1H18c.55 0 1-.45 1-1v-4c0-.55-.45-1-1-1m-.5 4.5H16v-3h1.5zm-8 1.5H5v-2.5c0-.55.45-1 1-1h2v-1H5V9h3.5c.55 0 1 .45 1 1v1.5c0 .55-.45 1-1 1h-2v1h3zm3.25-4h-1.5V9.5h1.5zm0 3.5h-1.5V13h1.5zM22 6v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h3V2h2v2h6V2h2v2h3c1.1 0 2 .9 2 2m-2 12V6h-7.25v1.5h-1.5V6H4v12h7.25v-1.5h1.5V18z"}),"ScoreboardOutlined");var us={},jl=fe;Object.defineProperty(us,"__esModule",{value:!0});var Qs=us.default=void 0,ml=jl(je()),Ws=e;Qs=us.default=(0,ml.default)([(0,Ws.jsx)("path",{d:"m21.41 11.41-8.83-8.83c-.37-.37-.88-.58-1.41-.58H4c-1.1 0-2 .9-2 2v7.17c0 .53.21 1.04.59 1.41l8.83 8.83c.78.78 2.05.78 2.83 0l7.17-7.17c.78-.78.78-2.04-.01-2.83M12.83 20 4 11.17V4h7.17L20 12.83z"},"0"),(0,Ws.jsx)("circle",{cx:"6.5",cy:"6.5",r:"1.5"},"1")],"SellOutlined");var gs={},yl=fe;Object.defineProperty(gs,"__esModule",{value:!0});var en=gs.default=void 0,bl=yl(je()),bt=e;en=gs.default=(0,bl.default)([(0,bt.jsx)("path",{d:"M12 22C6.49 22 2 17.51 2 12S6.49 2 12 2s10 4.04 10 9c0 3.31-2.69 6-6 6h-1.77c-.28 0-.5.22-.5.5 0 .12.05.23.13.33.41.47.64 1.06.64 1.67 0 1.38-1.12 2.5-2.5 2.5m0-18c-4.41 0-8 3.59-8 8s3.59 8 8 8c.28 0 .5-.22.5-.5 0-.16-.08-.28-.14-.35-.41-.46-.63-1.05-.63-1.65 0-1.38 1.12-2.5 2.5-2.5H16c2.21 0 4-1.79 4-4 0-3.86-3.59-7-8-7"},"0"),(0,bt.jsx)("circle",{cx:"6.5",cy:"11.5",r:"1.5"},"1"),(0,bt.jsx)("circle",{cx:"9.5",cy:"7.5",r:"1.5"},"2"),(0,bt.jsx)("circle",{cx:"14.5",cy:"7.5",r:"1.5"},"3"),(0,bt.jsx)("circle",{cx:"17.5",cy:"11.5",r:"1.5"},"4")],"PaletteOutlined");var ps={},Cl=fe;Object.defineProperty(ps,"__esModule",{value:!0});var tn=ps.default=void 0,vl=Cl(je()),Ns=e;tn=ps.default=(0,vl.default)([(0,Ns.jsx)("path",{d:"M20 3H4c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h4v2h8v-2h4c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2m0 14H4V5h16z"},"0"),(0,Ns.jsx)("path",{d:"M6 8.25h8v1.5H6zm10.5 1.5H18v-1.5h-1.5V7H15v4h1.5zm-6.5 2.5h8v1.5h-8zM7.5 15H9v-4H7.5v1.25H6v1.5h1.5z"},"1")],"DisplaySettingsOutlined");var fs={},Il=fe;Object.defineProperty(fs,"__esModule",{value:!0});var sn=fs.default=void 0,Sl=Il(je()),wl=e;sn=fs.default=(0,Sl.default)((0,wl.jsx)("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"StorageOutlined");var js={},kl=fe;Object.defineProperty(js,"__esModule",{value:!0});var nn=js.default=void 0,Tl=kl(je()),Rl=e;nn=js.default=(0,Tl.default)((0,Rl.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined");var ms={},_l=fe;Object.defineProperty(ms,"__esModule",{value:!0});var ln=ms.default=void 0,Dl=_l(je()),Ol=e;ln=ms.default=(0,Dl.default)((0,Ol.jsx)("path",{d:"M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"}),"LinkOutlined");function Pl({teams:y,setTeams:m,setMembers:D,selectedTeam:f,setSelectedTeam:R,createTeam:O,showSnackbar:V}){const[T,G]=o.useState(!1),[P,U]=o.useState(""),[C,v]=o.useState(null),W=qs(),H=Be("md"),{handleTouchEnd:E,setSwiperRef:u,getSwiperRef:Y}=it(2),[I,B]=o.useState(""),g="tutorial-team-swipe",[ee,te]=o.useState(()=>H&&y.length>0&&!localStorage.getItem(g)),[re,ae]=o.useState(()=>{var s;return((s=y[0])==null?void 0:s.id)||""}),ue=o.useRef(y.length),ie=s=>{if(I){const x=Y(I);x&&(x.allowTouchMove=!0),B("")}if(!s.destination)return;const r=Array.from(y),[l]=r.splice(s.source.index,1);r.splice(s.destination.index,0,l),m(r)},we=()=>{v(-1),U(""),G(!0)},j=s=>{v(s),U(y[s].name),G(!0)},w=()=>{if(C===-1){const s=O(P);m(r=>[...r,s]),D(r=>({...r,[s.id]:[]})),f||R(s.id),H&&!localStorage.getItem(g)&&(ae(s.id),te(!0))}else if(C!==null){const s=y[C].id;m(r=>r.map((l,x)=>x===C?{...l,name:P}:l)),f===s&&R(s)}G(!1)},b=()=>{G(!1)},L=s=>{var X;const r=y[s];let l=[];D(J=>{l=J[r.id]||[];const K={...J};return delete K[r.id],K});const x=f,_=y.filter((J,K)=>K!==s);m(_),f===r.id&&R(((X=_[0])==null?void 0:X.id)||""),V("チームを削除しました","success",{actionLabel:"元に戻す",onAction:()=>{m(J=>{const K=[...J];return K.splice(s,0,r),K}),D(J=>({...J,[r.id]:l})),R(x)},autoHideDuration:5e3})};o.useEffect(()=>{H&&y.length>0&&ue.current===0&&!localStorage.getItem(g)&&(ae(y[0].id),te(!0)),ue.current=y.length},[y,H]);const i=({t:s,idx:r,dragProvided:l})=>{const x=l.dragHandleProps,{onPointerDown:_,...X}=x||{},J=nt(K=>{_==null||_(K);const se=Y(s.id);se&&(se.allowTouchMove=!1),B(s.id)});return e.jsx(t,{ref:l.innerRef,...l.draggableProps,style:l.draggableProps.style,children:e.jsx(Mn,{open:ee&&re===s.id,onClose:()=>te(!1),disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,arrow:!0,placement:"bottom",TransitionComponent:En,slotProps:{tooltip:{sx:{backgroundColor:"#F5F5F9",color:"rgba(0, 0, 0, 0.87)",border:`1px solid ${W.palette.text.secondary}`,pointerEvents:"auto"}},arrow:{sx:{color:"#F5F5F9","&::before":{border:`1px solid ${W.palette.text.secondary}`}}}},title:e.jsxs(t,{sx:{p:1,maxWidth:260},children:[e.jsx(Ct,{variant:"body2",sx:{whiteSpace:"pre-line"},children:Vn.teamSwipe.text}),e.jsx(t,{sx:{textAlign:"right",mt:1},children:e.jsx(Dt,{component:"button",variant:"body2",onClick:()=>{localStorage.setItem(g,"1"),te(!1)},children:"了解した"})})]}),children:e.jsx(t,{children:e.jsxs(tt,{onSwiper:K=>u(s.id,K),threshold:20,slidesPerView:"auto",style:{overflow:"hidden"},onTouchStart:(K,se)=>se.stopPropagation(),onTouchEnd:K=>E(s.id,K),children:[e.jsx(de,{style:{width:"100%",flex:"0 0 auto"},children:e.jsx(t,{...X,...J,sx:{display:"flex",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",bgcolor:"background.paper",touchAction:I===s.id?"none":"pan-y",cursor:"grab"},children:e.jsx(t,{sx:{flexGrow:1},children:s.name})})}),e.jsx(de,{style:{width:Se,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"primary.main"},children:e.jsx(le,{size:"small",onClick:()=>j(r),children:e.jsx(lt,{fontSize:"small",sx:{color:"common.white"}})})})}),e.jsx(de,{style:{width:Se,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"error.main"},children:e.jsx(le,{size:"small",onClick:()=>L(r),children:e.jsx(Ie,{fontSize:"small",sx:{color:"common.white"}})})})})]})})})})};return e.jsxs(e.Fragment,{children:[e.jsxs(t,{children:[e.jsx(t,{sx:{maxWidth:1024,mx:"auto",display:"flex",justifyContent:"flex-end",mb:1},children:e.jsx(q,{onClick:we,variant:"contained",startIcon:e.jsx(et,{}),children:"追加"})}),e.jsx(Ke,{component:Ge,storageKey:"teams-grid",sx:{maxWidth:1024,mx:"auto"},children:e.jsx(Ne,{onDragEnd:ie,children:H?e.jsx(Te,{droppableId:"teams",children:s=>e.jsxs(t,{ref:s.innerRef,...s.droppableProps,children:[e.jsx(t,{sx:{display:"flex",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",...ke},children:e.jsx(t,{sx:{flexGrow:1},children:"チーム名"})}),y.map((r,l)=>e.jsx(Re,{draggableId:r.id,index:l,children:x=>e.jsx(i,{t:r,idx:l,dragProvided:x})},r.id)),s.placeholder]})}):e.jsxs(Xe,{size:"small",children:[e.jsx(Ze,{children:e.jsxs(Ce,{sx:{backgroundColor:s=>s.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(h,{}),e.jsx(h,{children:"チーム名"}),e.jsx(h,{})]})}),e.jsx(Te,{droppableId:"teams",children:s=>e.jsxs(Qe,{ref:s.innerRef,...s.droppableProps,children:[y.map((r,l)=>e.jsx(Re,{draggableId:r.id,index:l,children:x=>e.jsxs(Ce,{ref:x.innerRef,...x.draggableProps,style:x.draggableProps.style,onClick:()=>j(l),sx:{cursor:"pointer",height:50},children:[e.jsx(h,{padding:"checkbox",onClick:_=>_.stopPropagation(),children:e.jsx(t,{onClick:_=>_.stopPropagation(),...x.dragHandleProps,sx:{cursor:"grab",display:"inline-flex",touchAction:"none",width:32,height:32,alignItems:"center",justifyContent:"center"},children:e.jsx(st,{})})}),e.jsx(h,{children:r.name}),e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:_=>_.stopPropagation(),sx:{width:32,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(le,{size:"small",onClick:()=>L(l),sx:{width:24,height:24},children:e.jsx(Ie,{fontSize:"small",color:"error"})})})})]})},r.id)),s.placeholder]})})]})})})]}),e.jsxs(at,{open:T,onClose:b,children:[e.jsxs(Pe,{children:["チーム名",C===-1?"追加":"編集"]}),e.jsx(Me,{sx:{mt:2},children:e.jsx(ve,{label:"チーム名",value:P,onChange:s=>U(s.target.value),fullWidth:!0,margin:"dense"})}),e.jsxs(Ee,{children:[e.jsx(q,{onClick:b,startIcon:e.jsx(He,{}),color:"inherit",sx:{color:{xs:"black",md:"inherit"}},children:"キャンセル"}),e.jsx(q,{onClick:w,disabled:P.trim()==="",startIcon:e.jsx(ze,{}),children:"OK"})]})]})]})}const Ls=32,Yt=80,Jt=200,Xt=200,Zt=64,Ml=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)+Date.now().toString(36);function El({teams:y,members:m,setMembers:D,selectedTeam:f,setSelectedTeam:R,showSnackbar:O}){const[V,T]=o.useState(null),[G,P]=o.useState(""),[U,C]=o.useState(""),[v,W]=o.useState([]),[H,E]=o.useState(!0),[u,Y]=o.useState(!1),I=Be("md"),B=Be("sm"),g=Jt+16+(B?0:Yt+Xt+Zt),{handleTouchEnd:ee,setSwiperRef:te,getSwiperRef:re}=it(2),[ae,ue]=o.useState(""),ie=s=>{if(ae){const x=re(ae);x&&(x.allowTouchMove=!0),ue("")}if(!s.destination||!f)return;const r=Array.from(m[f]||[]),[l]=r.splice(s.source.index,1);r.splice(s.destination.index,0,l),D(x=>({...x,[f]:r}))},we=()=>{T(-1),P(""),C(""),W([]),E(!0),Y(!0)},j=s=>{T(s);const r=m[f][s];P(String(r.no)),C(r.name),W(r.positions||[]),E(r.visible!==!1),Y(!0)},w=()=>{f&&(V===-1?D(s=>({...s,[f]:[...s[f]||[],{id:Ml(),no:Number(G),name:U,positions:v,visible:H}]})):V!==null&&D(s=>({...s,[f]:s[f].map((r,l)=>l===V?{...r,no:Number(G),name:U,positions:v,visible:H}:r)})),Y(!1))},b=()=>{Y(!1)},L=s=>{if(!f)return;let r;D(l=>{const x=[...l[f]||[]];r=x[s];const _=x.filter((X,J)=>J!==s);return{...l,[f]:_}}),O("メンバーを削除しました","success",{actionLabel:"元に戻す",onAction:()=>{r&&D(l=>{const x=[...l[f]||[]];return x.splice(s,0,r),{...l,[f]:x}})},autoHideDuration:5e3})},i=({m:s,idx:r,dragProvided:l})=>{const x=l.dragHandleProps,{onPointerDown:_,...X}=x||{},J=nt(K=>{_==null||_(K);const se=re(s.id);se&&(se.allowTouchMove=!1),ue(s.id)});return e.jsx(t,{ref:l.innerRef,...l.draggableProps,style:l.draggableProps.style,children:e.jsxs(tt,{onSwiper:K=>te(s.id,K),threshold:20,slidesPerView:"auto",style:{overflow:"hidden",width:"100%",minWidth:g},onTouchStart:(K,se)=>se.stopPropagation(),onTouchEnd:K=>ee(s.id,K),children:[e.jsx(de,{style:{width:"100%",minWidth:g,flex:"0 0 auto"},children:e.jsxs(t,{...X,...J,sx:{display:"flex",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",bgcolor:"background.paper",cursor:"grab",touchAction:ae===s.id?"none":"pan-y",width:"100%",minWidth:g},children:[!B&&e.jsx(t,{sx:{width:Yt},children:s.no}),e.jsx(t,{sx:{width:Jt,flexShrink:0,whiteSpace:"nowrap",overflow:"hidden"},children:s.name}),!B&&e.jsx(t,{sx:{width:Xt,whiteSpace:"nowrap",overflow:"hidden"},children:(s.positions||[]).join(", ")}),!B&&e.jsx(t,{sx:{width:Zt,display:"flex",justifyContent:"center"},children:s.visible===!1?e.jsx(Ve,{}):e.jsx(Ue,{})})]})}),e.jsx(de,{style:{width:Se,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"primary.main"},children:e.jsx(le,{size:"small",onClick:()=>j(r),children:e.jsx(lt,{fontSize:"small",sx:{color:"common.white"}})})})}),e.jsx(de,{style:{width:Se,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"error.main"},children:e.jsx(le,{size:"small",onClick:()=>L(r),children:e.jsx(Ie,{fontSize:"small",sx:{color:"common.white"}})})})})]})})};return e.jsxs(e.Fragment,{children:[e.jsxs(t,{children:[e.jsx(t,{sx:{maxWidth:1024,mx:"auto"},children:e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"team-select-label",children:"チーム"}),e.jsx(Oe,{labelId:"team-select-label",value:f,label:"チーム",onChange:s=>R(s.target.value),children:y.map(s=>e.jsx(oe,{value:s.id,children:s.name},s.id))})]})}),e.jsx(t,{sx:{maxWidth:1024,mx:"auto",display:"flex",justifyContent:"flex-end",mt:2,mb:1},children:e.jsx(q,{onClick:we,variant:"contained",startIcon:e.jsx(et,{}),children:"追加"})}),e.jsx(Ke,{component:Ge,storageKey:"members-grid",sx:{maxWidth:1024,mx:"auto"},children:e.jsx(Ne,{onDragEnd:ie,children:I?e.jsx(Te,{droppableId:"members",children:s=>{var r;return e.jsxs(t,{ref:s.innerRef,...s.droppableProps,children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",width:"100%",minWidth:g,...ke},children:[!B&&e.jsx(t,{sx:{width:Yt},children:"番号"}),e.jsx(t,{sx:{width:Jt,flexShrink:0},children:"名前"}),!B&&e.jsx(t,{sx:{width:Xt},children:"ポジション"}),!B&&e.jsx(t,{sx:{width:Zt,textAlign:"center"},children:"表示"})]}),(r=m[f])==null?void 0:r.map((l,x)=>e.jsx(Re,{draggableId:l.id,index:x,children:_=>e.jsx(i,{m:l,idx:x,dragProvided:_})},l.id)),s.placeholder]})}}):e.jsxs(Xe,{size:"small",children:[e.jsx(Ze,{children:e.jsxs(Ce,{sx:{backgroundColor:s=>s.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(h,{}),e.jsx(h,{children:"番号"}),e.jsx(h,{children:"名前"}),!B&&e.jsx(h,{children:"ポジション"}),e.jsx(h,{children:"表示"}),e.jsx(h,{})]})}),e.jsx(Te,{droppableId:"members",children:s=>{var r;return e.jsxs(Qe,{ref:s.innerRef,...s.droppableProps,children:[(r=m[f])==null?void 0:r.map((l,x)=>e.jsx(Re,{draggableId:l.id,index:x,children:_=>e.jsxs(Ce,{ref:_.innerRef,..._.draggableProps,"data-index":x,onClick:()=>j(x),sx:{cursor:"pointer",height:50},children:[e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:X=>X.stopPropagation(),..._.dragHandleProps,sx:{cursor:"grab",display:"inline-flex",width:Ls,height:32,alignItems:"center",justifyContent:"center"},children:e.jsx(st,{})})}),e.jsx(h,{children:l.no}),e.jsx(h,{children:l.name}),!B&&e.jsx(h,{children:(l.positions||[]).join(", ")}),e.jsx(h,{children:l.visible===!1?e.jsx(Ve,{}):e.jsx(Ue,{})}),e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:X=>X.stopPropagation(),sx:{width:Ls,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(le,{size:"small",onClick:()=>L(x),sx:{width:24,height:24},children:e.jsx(Ie,{fontSize:"small",color:"error"})})})})]})},l.id)),s.placeholder]})}})]})})})]}),e.jsxs(at,{open:u,onClose:b,children:[e.jsxs(Pe,{children:["メンバー",V===-1?"追加":"編集"]}),e.jsxs(Me,{children:[e.jsx(ve,{label:"番号",type:"number",value:G,onChange:s=>P(s.target.value),fullWidth:!0,margin:"dense"}),e.jsx(ve,{label:"名前",value:U,onChange:s=>C(s.target.value),fullWidth:!0,margin:"dense"}),e.jsxs(De,{margin:"dense",fullWidth:!0,children:[e.jsx($e,{id:"positions-label",children:"ポジション"}),e.jsxs(Oe,{labelId:"positions-label",multiple:!0,value:v,label:"ポジション",onChange:s=>W(typeof s.target.value=="string"?s.target.value.split(","):s.target.value),renderValue:s=>s.join(", "),children:[e.jsx(oe,{value:"レフト",children:"レフト"}),e.jsx(oe,{value:"センター",children:"センター"}),e.jsx(oe,{value:"ライト",children:"ライト"}),e.jsx(oe,{value:"セッター",children:"セッター"}),e.jsx(oe,{value:"リベロ",children:"リベロ"})]})]}),e.jsxs(pt,{value:H?"visible":"hidden",exclusive:!0,onChange:(s,r)=>r&&E(r==="visible"),fullWidth:!0,sx:{display:"flex",mt:1},children:[e.jsxs(Ae,{value:"visible",sx:{flex:1,whiteSpace:"nowrap",display:"flex",alignItems:"center",justifyContent:"center"},children:[e.jsx(Ue,{sx:{mr:1}}),"表示"]}),e.jsxs(Ae,{value:"hidden",sx:{flex:1,whiteSpace:"nowrap",display:"flex",alignItems:"center",justifyContent:"center"},children:[e.jsx(Ve,{sx:{mr:1}}),"非表示"]})]})]}),e.jsxs(Ee,{children:[e.jsx(q,{onClick:b,startIcon:e.jsx(He,{}),color:"inherit",children:"キャンセル"}),e.jsx(q,{onClick:w,disabled:G==="",startIcon:e.jsx(ze,{}),children:"OK"})]})]})]})}const Bs=!1;function zl({openAddPlayDialog:y,playCategories:m,setPlayCategories:D,openEditPlayDialog:f,scoreInput:R,renderIcon:O,rallyCategoryTags:V,handlePlayDelete:T,openAddDetailDialog:G,playDetails:P,setPlayDetails:U,openEditDetailDialog:C,theme:v,rallyDetailTags:W,handleDetailDelete:H}){const E=j=>{if(re){const L=te(re);L&&(L.allowTouchMove=!0),ae("")}if(!j.destination)return;const w=Array.from(m),[b]=w.splice(j.source.index,1);w.splice(j.destination.index,0,b),D(w)},u=_t.useMemo(()=>{const j={};return m.forEach(w=>{j[w.id]=[]}),P.forEach((w,b)=>{(j[w.playCategoryId]||(j[w.playCategoryId]=[])).push(b)}),j},[m,P]),Y=j=>{if(re){const _=te(re);_&&(_.allowTouchMove=!0),ae("")}const{source:w,destination:b}=j;if(!b||w.droppableId!==b.droppableId)return;const L=w.droppableId,i=L==="play-details"?Object.values(u).flat():u[L.replace("play-details-","")];if(!i)return;const s=i[w.index],r=i[b.index],l=Array.from(P),[x]=l.splice(s,1);l.splice(r,0,x),U(l)},I=Be("md"),B=Be("sm"),{handleTouchEnd:g,setSwiperRef:ee,getSwiperRef:te}=it(2),[re,ae]=_t.useState("");let ue=0;const ie=({p:j,idx:w,dragProvided:b})=>{const L=b.dragHandleProps,{onPointerDown:i,...s}=L||{},r=nt(l=>{i==null||i(l);const x=te(j.id);x&&(x.allowTouchMove=!1),ae(j.id)});return e.jsx(t,{ref:b.innerRef,...b.draggableProps,style:b.draggableProps.style,children:e.jsxs(tt,{onSwiper:l=>ee(j.id,l),threshold:20,slidesPerView:"auto",style:{overflow:"hidden"},onTouchStart:(l,x)=>x.stopPropagation(),onTouchEnd:l=>g(j.id,l),children:[e.jsx(de,{style:{width:"100%",flex:"0 0 auto"},children:e.jsxs(t,{...s,...r,sx:{display:"grid",gridTemplateColumns:B?"1fr":"1fr 1fr 1fr",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",bgcolor:"background.paper",touchAction:re===j.id?"none":"pan-y",cursor:"grab"},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[e.jsx(ge,{label:j.name,size:"small",variant:"outlined",sx:{backgroundColor:"transparent",borderColor:j.color,color:j.color}}),R.showRallyIcons&&e.jsx(t,{children:O(j)})]}),!B&&e.jsx(t,{sx:{display:"flex",gap:.5,flexWrap:"wrap"},children:(j.tags||[]).map(l=>{const x=V.find(X=>X.id===l),_=(x==null?void 0:x.color)||pe;return e.jsx(ge,{label:(x==null?void 0:x.name)||l,size:"small",sx:{backgroundColor:_,color:"#fff"}},l)})}),!B&&e.jsx(t,{sx:{display:"flex",alignItems:"center"},children:j.visible===!1?e.jsx(Ve,{}):e.jsx(Ue,{})})]})}),e.jsx(de,{style:{width:Se,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"primary.main"},children:e.jsx(le,{size:"small",onClick:()=>f(w),children:e.jsx(lt,{fontSize:"small",sx:{color:"common.white"}})})})}),e.jsx(de,{style:{width:Se,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"error.main"},children:e.jsx(le,{size:"small",onClick:()=>T(w),disabled:j.id==="init-serve",children:e.jsx(Ie,{fontSize:"small",sx:{color:"common.white"}})})})})]})})},we=({d:j,i:w,dragProvided:b})=>{const L=b.dragHandleProps,{onPointerDown:i,...s}=L||{},r=nt(l=>{i==null||i(l);const x=te(j.id);x&&(x.allowTouchMove=!1),ae(j.id)});return e.jsx(t,{ref:b.innerRef,...b.draggableProps,style:b.draggableProps.style,children:e.jsxs(tt,{onSwiper:l=>ee(j.id,l),threshold:20,slidesPerView:"auto",style:{overflow:"hidden"},onTouchStart:(l,x)=>x.stopPropagation(),onTouchEnd:l=>g(j.id,l),children:[e.jsx(de,{style:{width:"100%",flex:"0 0 auto"},children:e.jsxs(t,{...s,...r,sx:{display:"grid",gridTemplateColumns:B?"1fr":"1fr 1fr 1fr 1fr 0.3fr",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",bgcolor:"background.paper",touchAction:re===j.id?"none":"pan-y",cursor:"grab"},children:[e.jsx(t,{children:e.jsx(ge,{label:j.name,size:"small",sx:{backgroundColor:j.pointType==="得点"?v.scoreColor:v.lossColor,border:`1px solid ${j.pointType==="得点"?v.scoreColor:v.lossColor}`,color:"#fff"}})}),!B&&e.jsxs(e.Fragment,{children:[e.jsx(t,{children:j.pointType}),e.jsx(t,{children:j.pointUnitType}),e.jsx(t,{sx:{display:"flex",gap:.5,flexWrap:"wrap"},children:(j.tags||[]).map(l=>{const x=W.find(X=>X.id===l),_=(x==null?void 0:x.color)||pe;return e.jsx(ge,{label:(x==null?void 0:x.name)||l,size:"small",sx:{backgroundColor:_,color:"#fff"}},l)})}),e.jsx(t,{sx:{display:"flex",alignItems:"center"},children:j.visible===!1?e.jsx(Ve,{}):e.jsx(Ue,{})})]})]})}),e.jsx(de,{style:{width:Se,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"primary.main"},children:e.jsx(le,{size:"small",onClick:()=>C(w),children:e.jsx(lt,{fontSize:"small",sx:{color:"common.white"}})})})}),e.jsx(de,{style:{width:Se,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"error.main"},children:e.jsx(le,{size:"small",onClick:()=>H(w),children:e.jsx(Ie,{fontSize:"small",sx:{color:"common.white"}})})})})]})})};return e.jsxs(t,{children:[e.jsx(t,{sx:{maxWidth:1024,mx:"auto",display:"flex",justifyContent:"flex-end",mb:1},children:e.jsx(q,{onClick:y,variant:"contained",startIcon:e.jsx(et,{}),children:"追加"})}),e.jsx(Ke,{component:Ge,storageKey:"play-category-grid",sx:{maxWidth:1024,mx:"auto"},children:I?e.jsx(Ne,{onDragEnd:E,children:e.jsx(Te,{droppableId:"play-categories",children:j=>e.jsxs(t,{ref:j.innerRef,...j.droppableProps,children:[e.jsxs(t,{sx:{display:"grid",gridTemplateColumns:B?"1fr":"1fr 1fr 1fr",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",...ke},children:[e.jsx(t,{children:"プレー区分"}),!B&&e.jsxs(e.Fragment,{children:[e.jsx(t,{children:"ラリー区分タグ"}),e.jsx(t,{children:"表示"})]})]}),m.map((w,b)=>e.jsx(Re,{draggableId:w.id,index:b,children:L=>e.jsx(ie,{p:w,idx:b,dragProvided:L})},w.id)),j.placeholder]})})}):e.jsxs(Xe,{size:"small",sx:{minWidth:600},children:[e.jsx(Ze,{children:e.jsxs(Ce,{sx:{backgroundColor:j=>j.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(h,{sx:{width:48}}),e.jsx(h,{children:"プレー区分"}),Bs,R.showRallyIcons&&e.jsx(h,{children:"アイコン"}),e.jsx(h,{children:"タグ"}),e.jsx(h,{children:"表示"}),e.jsx(h,{})]})}),e.jsx(Ne,{onDragEnd:E,children:e.jsx(Te,{droppableId:"play-categories",children:j=>e.jsxs(Qe,{ref:j.innerRef,...j.droppableProps,children:[m.map((w,b)=>e.jsx(Re,{draggableId:w.id,index:b,children:L=>e.jsxs(Ce,{ref:L.innerRef,...L.draggableProps,"data-index":b,onClick:()=>f(b),sx:{cursor:"pointer",height:50},children:[e.jsx(h,{padding:"checkbox",sx:{width:48},children:e.jsx(t,{onClick:i=>i.stopPropagation(),...L.dragHandleProps,sx:{cursor:"grab",display:"inline-flex",width:32,height:32,alignItems:"center",justifyContent:"center"},children:e.jsx(st,{})})}),e.jsx(h,{children:e.jsx(ge,{label:w.name,size:"small",variant:"outlined",sx:{backgroundColor:"transparent",borderColor:w.color,color:w.color}})}),Bs,R.showRallyIcons&&e.jsx(h,{children:O(w)}),e.jsx(h,{children:(w.tags||[]).map(i=>{const s=V.find(l=>l.id===i),r=(s==null?void 0:s.color)||pe;return e.jsx(ge,{label:(s==null?void 0:s.name)||i,size:"small",sx:{mr:.5,mb:.5,backgroundColor:r,color:"#fff"}},i)})}),e.jsx(h,{children:w.visible===!1?e.jsx(Ve,{}):e.jsx(Ue,{})}),e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:i=>i.stopPropagation(),sx:{width:32,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(le,{size:"small",onClick:w.id==="init-serve"?void 0:()=>T(b),disabled:w.id==="init-serve",sx:{width:24,height:24},children:e.jsx(Ie,{fontSize:"small",color:w.id==="init-serve"?"disabled":"error"})})})})]})},w.id)),j.placeholder]})})})]})}),e.jsx(t,{sx:{maxWidth:1024,mx:"auto",display:"flex",justifyContent:"flex-end",mb:1,mt:2},children:e.jsx(q,{onClick:G,variant:"contained",startIcon:e.jsx(et,{}),children:"追加"})}),e.jsx(Ke,{component:Ge,storageKey:"play-detail-grid",sx:{maxWidth:1024,mx:"auto"},children:I?e.jsx(Ne,{onDragEnd:Y,children:e.jsxs(t,{children:[e.jsxs(t,{sx:{display:"grid",gridTemplateColumns:B?"1fr":"1fr 1fr 1fr 1fr 0.3fr",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",...ke},children:[e.jsx(t,{children:"プレー詳細"}),!B&&e.jsxs(e.Fragment,{children:[e.jsx(t,{children:"得点区分"}),e.jsx(t,{children:"得失点単位区分"}),e.jsx(t,{children:"タグ"}),e.jsx(t,{children:"表示"})]})]}),m.map(j=>{const w=P.map((b,L)=>({d:b,i:L})).filter(({d:b})=>b.playCategoryId===j.id);return e.jsxs(_t.Fragment,{children:[e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",px:1,borderBottom:1,borderColor:"divider",...ke},children:j.name}),e.jsx(Te,{droppableId:`play-details-${j.id}`,children:b=>e.jsxs(t,{ref:b.innerRef,...b.droppableProps,children:[w.map(({d:L,i},s)=>e.jsx(Re,{draggableId:L.id,index:s,children:r=>e.jsx(we,{d:L,i,dragProvided:r})},L.id)),b.placeholder]})})]},j.id)})]})}):e.jsxs(Xe,{size:"small",children:[e.jsx(Ze,{children:e.jsxs(Ce,{sx:{backgroundColor:j=>j.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(h,{}),e.jsx(h,{children:"プレー詳細"}),e.jsx(h,{children:"得点区分"}),e.jsx(h,{children:"得失点単位区分"}),e.jsx(h,{children:"タグ"}),e.jsx(h,{children:"表示"}),e.jsx(h,{})]})}),e.jsx(Ne,{onDragEnd:Y,children:e.jsx(Te,{droppableId:"play-details",children:j=>e.jsxs(Qe,{ref:j.innerRef,...j.droppableProps,children:[m.map(w=>e.jsxs(_t.Fragment,{children:[e.jsx(Ce,{sx:{backgroundColor:b=>b.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:e.jsx(h,{colSpan:7,children:w.name})}),P.map((b,L)=>({d:b,i:L})).filter(({d:b})=>b.playCategoryId===w.id).map(({d:b,i:L})=>{const i=ue++;return e.jsx(Re,{draggableId:b.id,index:i,children:s=>e.jsxs(Ce,{ref:s.innerRef,...s.draggableProps,"data-index":L,onClick:()=>C(L),sx:{cursor:"pointer",height:50},children:[e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:r=>r.stopPropagation(),...s.dragHandleProps,sx:{cursor:"grab",display:"inline-flex",width:32,height:32,alignItems:"center",justifyContent:"center"},children:e.jsx(st,{})})}),e.jsx(h,{children:e.jsx(ge,{label:b.name,size:"small",sx:{backgroundColor:b.pointType==="得点"?v.scoreColor:v.lossColor,border:`1px solid ${b.pointType==="得点"?v.scoreColor:v.lossColor}`,color:"#fff"}})}),e.jsx(h,{children:b.pointType}),e.jsx(h,{children:b.pointUnitType}),e.jsx(h,{children:(b.tags||[]).map(r=>{const l=W.find(_=>_.id===r),x=(l==null?void 0:l.color)||pe;return e.jsx(ge,{label:(l==null?void 0:l.name)||r,size:"small",sx:{mr:.5,mb:.5,backgroundColor:x,color:"#fff"}},r)})}),e.jsx(h,{children:b.visible===!1?e.jsx(Ve,{}):e.jsx(Ue,{})}),e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:r=>r.stopPropagation(),sx:{width:32,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(le,{size:"small",onClick:()=>H(L),sx:{width:24,height:24},children:e.jsx(Ie,{fontSize:"small",color:"error"})})})})]})},b.id)})]},w.id)),j.placeholder]})})})]})})]})}var ys={},$l=fe;Object.defineProperty(ys,"__esModule",{value:!0});var ss=ys.default=void 0,Hl=$l(je()),Al=e;ss=ys.default=(0,Hl.default)((0,Al.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy");function Wl({open:y,playCategories:m,playDetails:D,initial:f,onSave:R,onClose:O}){const[V,T]=o.useState(""),[G,P]=o.useState(""),[U,C]=o.useState(""),[v,W]=o.useState("");o.useEffect(()=>{if(f){const I=D.find(g=>g.id===f.sourceDetailId),B=D.find(g=>g.id===f.targetDetailId);T((I==null?void 0:I.playCategoryId)||""),P(f.sourceDetailId),C((B==null?void 0:B.playCategoryId)||""),W(f.targetDetailId)}else T(""),P(""),C(""),W("")},[f,D]);const H=()=>{R({enabled:(f==null?void 0:f.enabled)??!0,sourceDetailId:G,targetDetailId:v})},E=D.filter(I=>I.playCategoryId===V&&I.visible!==!1),u=D.filter(I=>I.playCategoryId===U&&I.visible!==!1),Y=!G||!v;return e.jsxs(dt,{open:y,onClose:O,fullWidth:!0,children:[e.jsxs(Pe,{children:["組み合わせ",f?"編集":"追加"]}),e.jsxs(Me,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(t,{sx:{display:"flex",gap:2},children:[e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"source-cat",children:"自チームプレー区分"}),e.jsx(Oe,{labelId:"source-cat",value:V,label:"自チームプレー区分",onChange:I=>{T(I.target.value),P("")},children:m.filter(I=>I.visible!==!1).map(I=>e.jsx(oe,{value:I.id,children:I.name},I.id))})]}),e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"target-cat",children:"相手プレー区分"}),e.jsx(Oe,{labelId:"target-cat",value:U,label:"相手プレー区分",onChange:I=>{C(I.target.value),W("")},children:m.filter(I=>I.visible!==!1).map(I=>e.jsx(oe,{value:I.id,children:I.name},I.id))})]})]}),e.jsxs(t,{sx:{display:"flex",gap:2},children:[e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"source-detail",children:"自チームプレー詳細"}),e.jsx(Oe,{labelId:"source-detail",value:G,label:"自チームプレー詳細",onChange:I=>P(I.target.value),children:E.map(I=>e.jsx(oe,{value:I.id,children:I.name},I.id))})]}),e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"target-detail",children:"相手プレー詳細"}),e.jsx(Oe,{labelId:"target-detail",value:v,label:"相手プレー詳細",onChange:I=>W(I.target.value),children:u.map(I=>e.jsx(oe,{value:I.id,children:I.name},I.id))})]})]})]}),e.jsxs(Ee,{children:[e.jsx(q,{onClick:O,color:"inherit",children:"キャンセル"}),e.jsx(q,{onClick:()=>{H(),O()},disabled:Y,children:"保存"})]})]})}function Nl({playCombinationSetting:y,onChange:m,playCategories:D,playDetails:f,showSnackbar:R}){const[O,V]=o.useState([...y.pairs]),[T,G]=o.useState(y.enabled),[P,U]=o.useState(!1),[C,v]=o.useState(null),W=qs(),H=Be("md"),{handleTouchEnd:E,setSwiperRef:u,getSwiperRef:Y}=it(3),[I,B]=o.useState(""),g=(i,s=T)=>{G(s),typeof i=="function"?V(r=>{const l=i(r);return m({enabled:s,pairs:l}),l}):(V(i),m({enabled:s,pairs:i}))},ee=i=>{if(I){const l=Y(I);l&&(l.allowTouchMove=!0),B("")}if(!i.destination)return;const s=Array.from(O),[r]=s.splice(i.source.index,1);s.splice(i.destination.index,0,r),g(s)},te=i=>{g([...O,i])},re=(i,s)=>{const r=[...O];r[i]=s,g(r)},ae=i=>{const s=O[i];g(O.filter((r,l)=>l!==i)),R("組み合わせを削除しました","success",{actionLabel:"元に戻す",onAction:()=>g(r=>{const l=[...r];return l.splice(i,0,s),l}),autoHideDuration:5e3})},ue=i=>{g([...O,{...O[i]}])},ie=({p:i,idx:s,sDetail:r,tDetail:l,prov:x})=>{var _,X,J,K;return e.jsxs(t,{ref:x.innerRef,...x.draggableProps,onClick:()=>{v(s),U(!0)},sx:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",alignItems:"center",p:1,borderBottom:1,borderColor:"divider",cursor:"pointer"},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1,minWidth:0},children:[e.jsx(t,{...x.dragHandleProps,sx:{display:"flex",alignItems:"center"},children:e.jsx(st,{})}),e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:.5,alignItems:"flex-start",minWidth:0},children:[e.jsx(ot,{label:b((r==null?void 0:r.playCategoryId)||""),variant:"outlined",sx:{bgcolor:"transparent",color:(_=w((r==null?void 0:r.playCategoryId)||""))==null?void 0:_.color,borderColor:(X=w((r==null?void 0:r.playCategoryId)||""))==null?void 0:X.color}}),e.jsx(ot,{label:(r==null?void 0:r.name)||"",sx:{bgcolor:L(r),color:"common.white"}})]})]}),e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:.5,alignItems:"flex-start",minWidth:0},children:[e.jsx(ot,{label:b((l==null?void 0:l.playCategoryId)||""),variant:"outlined",sx:{bgcolor:"transparent",color:(J=w((l==null?void 0:l.playCategoryId)||""))==null?void 0:J.color,borderColor:(K=w((l==null?void 0:l.playCategoryId)||""))==null?void 0:K.color}}),e.jsx(ot,{label:(l==null?void 0:l.name)||"",sx:{bgcolor:L(l),color:"common.white"}})]}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1,justifyContent:"flex-start",justifySelf:"flex-start",width:1,minWidth:0},children:[e.jsx(vt,{sx:{ml:0},checked:i.enabled,onChange:se=>{const be=[...O];be[s]={...i,enabled:se.target.checked},g(be)}}),e.jsx(le,{size:"small",sx:{ml:"auto"},onClick:se=>{se.stopPropagation(),ue(s)},children:e.jsx(ss,{fontSize:"small"})}),e.jsx(le,{size:"small",onClick:se=>{se.stopPropagation(),ae(s)},children:e.jsx(Ie,{fontSize:"small",color:"error"})})]})]})},we=({p:i,idx:s,sDetail:r,tDetail:l,prov:x})=>{var S,F,A,N;const _=String(s),X=o.useRef(null),[J,K]=o.useState(0);o.useLayoutEffect(()=>{var Q;const ne=((Q=X.current)==null?void 0:Q.offsetHeight)??0;ne&&ne!==J&&K(ne)},[r,l,J]);const se=x.dragHandleProps,{onPointerDown:be,...n}=se||{},d=nt(ne=>{be==null||be(ne);const Q=Y(_);Q&&(Q.allowTouchMove=!1),B(_)});return e.jsx(t,{ref:x.innerRef,...x.draggableProps,children:e.jsxs(tt,{onSwiper:ne=>u(_,ne),threshold:20,slidesPerView:"auto",style:{overflow:"hidden",height:J||void 0},onTouchStart:(ne,Q)=>Q.stopPropagation(),onTouchEnd:ne=>E(_,ne),children:[e.jsx(de,{style:{width:"100%",flex:"0 0 auto"},children:e.jsxs(t,{ref:X,...n,...d,sx:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",alignItems:"center",p:1,borderBottom:1,borderColor:"divider",bgcolor:"background.paper",touchAction:I===_?"none":"pan-y",cursor:"grab"},children:[e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:.5,alignItems:"flex-start",minWidth:0},children:[e.jsx(ot,{label:b((r==null?void 0:r.playCategoryId)||""),variant:"outlined",sx:{bgcolor:"transparent",color:(S=w((r==null?void 0:r.playCategoryId)||""))==null?void 0:S.color,borderColor:(F=w((r==null?void 0:r.playCategoryId)||""))==null?void 0:F.color}}),e.jsx(ot,{label:(r==null?void 0:r.name)||"",sx:{bgcolor:L(r),color:"common.white"}})]}),e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:.5,alignItems:"flex-start",minWidth:0},children:[e.jsx(ot,{label:b((l==null?void 0:l.playCategoryId)||""),variant:"outlined",sx:{bgcolor:"transparent",color:(A=w((l==null?void 0:l.playCategoryId)||""))==null?void 0:A.color,borderColor:(N=w((l==null?void 0:l.playCategoryId)||""))==null?void 0:N.color}}),e.jsx(ot,{label:(l==null?void 0:l.name)||"",sx:{bgcolor:L(l),color:"common.white"}})]}),e.jsx(t,{sx:{display:"flex",justifyContent:"flex-start",justifySelf:"flex-start",width:1,minWidth:0},children:e.jsx(vt,{sx:{ml:0},checked:i.enabled,onChange:ne=>{const Q=[...O];Q[s]={...i,enabled:ne.target.checked},g(Q)}})})]})}),e.jsx(de,{style:{width:Se,flex:"0 0 auto",height:J||void 0},children:e.jsx(t,{sx:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"primary.main"},children:e.jsx(le,{size:"small",onClick:()=>{v(s),U(!0)},children:e.jsx(lt,{fontSize:"small",sx:{color:"common.white"}})})})}),e.jsx(de,{style:{width:Se,flex:"0 0 auto",height:J||void 0},children:e.jsx(t,{sx:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"secondary.main"},children:e.jsx(le,{size:"small",onClick:()=>{ue(s)},children:e.jsx(ss,{fontSize:"small",sx:{color:"common.white"}})})})}),e.jsx(de,{style:{width:Se,flex:"0 0 auto",height:J||void 0},children:e.jsx(t,{sx:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"error.main"},children:e.jsx(le,{size:"small",onClick:()=>{ae(s)},children:e.jsx(Ie,{fontSize:"small",sx:{color:"common.white"}})})})})]})})},j=i=>f.find(s=>s.id===i),w=i=>D.find(s=>s.id===i),b=i=>{var s;return((s=w(i))==null?void 0:s.name)||""},L=i=>(i==null?void 0:i.pointType)==="得点"?W.palette.success.main:(i==null?void 0:i.pointType)==="失点"?W.palette.error.main:void 0;return e.jsxs(t,{children:[e.jsxs(t,{sx:{display:"flex",flexDirection:"row",gap:.5,mb:1,maxWidth:1024,justifyContent:"space-between",margin:"auto"},children:[e.jsxs(t,{children:[e.jsx(vt,{checked:T,onChange:i=>g(O,i.target.checked)}),"自動反映"]}),e.jsx(q,{onClick:()=>{v(null),U(!0)},variant:"contained",startIcon:e.jsx(et,{}),children:"追加"})]}),e.jsx(Ke,{component:Ge,storageKey:"play-combination-grid",sx:{maxWidth:1024,mx:"auto"},children:e.jsx(Ne,{onDragEnd:ee,children:e.jsx(Te,{droppableId:"pairs",children:i=>e.jsxs(t,{ref:i.innerRef,...i.droppableProps,children:[e.jsxs(t,{sx:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",borderTopLeftRadius:s=>s.shape.borderRadius,borderTopRightRadius:s=>s.shape.borderRadius,...ke},children:[e.jsx(t,{sx:{minWidth:0,pl:H?0:4},children:"入力"}),e.jsx(t,{sx:{minWidth:0},children:"相手"}),e.jsx(t,{sx:{minWidth:0},children:"ON/OFF"})]}),O.map((s,r)=>{const l=j(s.sourceDetailId),x=j(s.targetDetailId);return e.jsx(Re,{draggableId:`pc-${r}`,index:r,children:_=>H?e.jsx(we,{p:s,idx:r,sDetail:l,tDetail:x,prov:_}):e.jsx(ie,{p:s,idx:r,sDetail:l,tDetail:x,prov:_})},r)}),i.placeholder]})})})}),e.jsx(gt,{severity:"info",sx:{mt:2,maxWidth:1024,mx:"auto"},children:"「プレー組み合わせ」機能を有効にすると、片方のチームでプレー詳細を選択した際に、ここで有効化した組み合わせに従って相手側のプレーが自動入力されます。"}),e.jsx(Wl,{open:P,playCategories:D,playDetails:f,initial:C!==null?O[C]:void 0,onSave:i=>{C===null?te(i):re(C,i)},onClose:()=>U(!1)})]})}const Fs=!1,Us=!1,Vs=!1;function Ll({tags:y,setTags:m,rallyCategoryTags:D,setRallyCategoryTags:f,rallyDetailTags:R,setRallyDetailTags:O,setMatches:V,setPlayCategories:T,setPlayDetails:G,showSnackbar:P}){const[U,C]=o.useState(null),[v,W]=o.useState(""),[H,E]=o.useState(pe),[u,Y]=o.useState(!1),[I,B]=o.useState(null),[g,ee]=o.useState(""),[te,re]=o.useState(pe),[ae,ue]=o.useState(!1),[ie,we]=o.useState(null),[j,w]=o.useState(""),[b,L]=o.useState(pe),[i,s]=o.useState(!1),r=Be("md"),{handleTouchEnd:l,setSwiperRef:x,getSwiperRef:_}=it(2),{handleTouchEnd:X,setSwiperRef:J,getSwiperRef:K}=it(2),{handleTouchEnd:se,setSwiperRef:be,getSwiperRef:n}=it(2),[d,S]=o.useState(""),[F,A]=o.useState(""),[N,ne]=o.useState(""),Q=c=>{if(d){const M=_(d);M&&(M.allowTouchMove=!0),S("")}if(!c.destination)return;const p=Array.from(y),[$]=p.splice(c.source.index,1);p.splice(c.destination.index,0,$),m(p)},ce=c=>{if(F){const M=K(F);M&&(M.allowTouchMove=!0),A("")}if(!c.destination)return;const p=Array.from(D),[$]=p.splice(c.source.index,1);p.splice(c.destination.index,0,$),f(p)},qe=c=>{if(N){const M=n(N);M&&(M.allowTouchMove=!0),ne("")}if(!c.destination)return;const p=Array.from(R),[$]=p.splice(c.source.index,1);p.splice(c.destination.index,0,$),O(p)},ft=()=>{C(-1),W(""),E(pe),Y(!0)},It=c=>{C(c),W(y[c].name),E(y[c].color),Y(!0)},xt=()=>{U===-1?m(c=>[...c,{id:crypto.randomUUID(),name:v,color:H}]):U!==null&&m(c=>c.map((p,$)=>$===U?{...p,name:v,color:H}:p)),Y(!1)},ht=()=>{Y(!1)},jt=c=>{const p=y[c];let $=[];m(M=>M.filter((z,xe)=>xe!==c)),V(M=>($=M.map(z=>({...z,tags:[...z.tags]})),M.map(z=>({...z,tags:z.tags.filter(xe=>xe!==p.id)})))),P("試合タグを削除しました","success",{actionLabel:"元に戻す",onAction:()=>{m(M=>{const z=[...M];return z.splice(c,0,p),z}),V(()=>$)},autoHideDuration:5e3})},Pt=()=>{B(-1),ee(""),re(pe),ue(!0)},ut=c=>{B(c),ee(D[c].name),re(D[c].color),ue(!0)},Le=()=>{I===-1?f(c=>[...c,{id:crypto.randomUUID(),name:g,color:te}]):I!==null&&f(c=>c.map((p,$)=>$===I?{...p,name:g,color:te}:p)),ue(!1)},Fe=()=>{ue(!1)},rt=c=>{const p=D[c];let $=[];f(M=>M.filter((z,xe)=>xe!==c)),T(M=>($=M.map(z=>({...z,tags:[...z.tags||[]]})),M.map(z=>({...z,tags:(z.tags||[]).filter(xe=>xe!==p.id)})))),P("プレー区分タグを削除しました","success",{actionLabel:"元に戻す",onAction:()=>{f(M=>{const z=[...M];return z.splice(c,0,p),z}),T(()=>$)},autoHideDuration:5e3})},Mt=()=>{we(-1),w(""),L(pe),s(!0)},Ye=c=>{we(c),w(R[c].name),L(R[c].color),s(!0)},Et=()=>{ie===-1?O(c=>[...c,{id:crypto.randomUUID(),name:j,color:b}]):ie!==null&&O(c=>c.map((p,$)=>$===ie?{...p,name:j,color:b}:p)),s(!1)},We=()=>{s(!1)},St=c=>{const p=R[c];let $=[];O(M=>M.filter((z,xe)=>xe!==c)),G(M=>($=M.map(z=>({...z,tags:[...z.tags||[]]})),M.map(z=>({...z,tags:(z.tags||[]).filter(xe=>xe!==p.id)})))),P("プレー詳細タグを削除しました","success",{actionLabel:"元に戻す",onAction:()=>{O(M=>{const z=[...M];return z.splice(c,0,p),z}),G(()=>$)},autoHideDuration:5e3})};return e.jsxs(e.Fragment,{children:[e.jsxs(t,{children:[e.jsxs(t,{sx:{maxWidth:1024,mx:"auto",display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[e.jsx(t,{sx:{fontWeight:"bold"},children:"試合タグ"}),e.jsx(q,{onClick:ft,variant:"contained",startIcon:e.jsx(et,{}),children:"追加"})]}),e.jsx(Ke,{component:Ge,storageKey:"match-tag-grid",sx:{maxWidth:1024,mx:"auto"},children:e.jsx(Ne,{onDragEnd:Q,children:r?e.jsx(Te,{droppableId:"match-tags",children:c=>e.jsxs(t,{ref:c.innerRef,...c.droppableProps,children:[e.jsx(t,{sx:{display:"flex",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",...ke},children:e.jsx(t,{sx:{flexGrow:1},children:"タグ名称"})}),y.map((p,$)=>e.jsx(Re,{draggableId:p.id,index:$,children:M=>{const z=M.dragHandleProps,{onPointerDown:xe,...Je}=z||{},ct=nt(he=>{xe==null||xe(he);const _e=_(p.id);_e&&(_e.allowTouchMove=!1),S(p.id)});return e.jsx(t,{ref:M.innerRef,...M.draggableProps,style:M.draggableProps.style,children:e.jsxs(tt,{onSwiper:he=>x(p.id,he),threshold:20,slidesPerView:"auto",style:{overflow:"hidden"},onTouchStart:(he,_e)=>_e.stopPropagation(),onTouchEnd:he=>l(p.id,he),children:[e.jsx(de,{style:{width:"100%",flex:"0 0 auto"},children:e.jsx(t,{...Je,...ct,sx:{display:"flex",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",bgcolor:"background.paper",cursor:"grab",touchAction:d===p.id?"none":"pan-y"},children:e.jsx(t,{sx:{flexGrow:1},children:e.jsx(ge,{label:p.name,size:"small",sx:{backgroundColor:p.color,border:`1px solid ${p.color}`,color:"#fff"}})})})}),e.jsx(de,{style:{width:Se,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"primary.main"},children:e.jsx(le,{size:"small",onClick:()=>It($),children:e.jsx(lt,{fontSize:"small",sx:{color:"common.white"}})})})}),e.jsx(de,{style:{width:Se,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"error.main"},children:e.jsx(le,{size:"small",onClick:()=>jt($),children:e.jsx(Ie,{fontSize:"small",sx:{color:"common.white"}})})})})]})})}},p.id)),c.placeholder]})}):e.jsxs(Xe,{size:"small",children:[e.jsx(Ze,{children:e.jsxs(Ce,{sx:{backgroundColor:c=>c.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(h,{}),e.jsx(h,{children:"タグ名称"}),Fs,e.jsx(h,{})]})}),e.jsx(Te,{droppableId:"match-tags",children:c=>e.jsxs(Qe,{ref:c.innerRef,...c.droppableProps,children:[y.map((p,$)=>e.jsx(Re,{draggableId:p.id,index:$,children:M=>e.jsxs(Ce,{ref:M.innerRef,...M.draggableProps,"data-index":$,onClick:()=>It($),sx:{cursor:"pointer",height:50},children:[e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:z=>z.stopPropagation(),...M.dragHandleProps,sx:{cursor:"grab",display:"inline-flex",width:32,height:32,alignItems:"center",justifyContent:"center"},children:e.jsx(st,{})})}),e.jsx(h,{children:e.jsx(ge,{label:p.name,size:"small",sx:{backgroundColor:p.color,border:`1px solid ${p.color}`,color:"#fff"}})}),Fs,e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:z=>z.stopPropagation(),sx:{width:32,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(le,{size:"small",onClick:()=>jt($),sx:{width:24,height:24},children:e.jsx(Ie,{fontSize:"small",color:"error"})})})})]})},p.id)),c.placeholder]})})]})})}),e.jsxs(t,{sx:{maxWidth:1024,mx:"auto",display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,mt:2},children:[e.jsx(t,{sx:{fontWeight:"bold"},children:"プレー区分タグ"}),e.jsx(q,{onClick:Pt,variant:"contained",startIcon:e.jsx(et,{}),children:"追加"})]}),e.jsx(Ke,{component:Ge,storageKey:"play-category-tag-grid",sx:{maxWidth:1024,mx:"auto"},children:e.jsx(Ne,{onDragEnd:ce,children:r?e.jsx(Te,{droppableId:"rally-category-tags",children:c=>e.jsxs(t,{ref:c.innerRef,...c.droppableProps,children:[e.jsx(t,{sx:{display:"flex",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",...ke},children:e.jsx(t,{sx:{flexGrow:1},children:"タグ名称"})}),D.map((p,$)=>e.jsx(Re,{draggableId:p.id,index:$,children:M=>{const z=M.dragHandleProps,{onPointerDown:xe,...Je}=z||{},ct=nt(he=>{xe==null||xe(he);const _e=K(p.id);_e&&(_e.allowTouchMove=!1),A(p.id)});return e.jsx(t,{ref:M.innerRef,...M.draggableProps,style:M.draggableProps.style,children:e.jsxs(tt,{onSwiper:he=>J(p.id,he),threshold:20,slidesPerView:"auto",style:{overflow:"hidden"},onTouchStart:(he,_e)=>_e.stopPropagation(),onTouchEnd:he=>X(p.id,he),children:[e.jsx(de,{style:{width:"100%",flex:"0 0 auto"},children:e.jsx(t,{...Je,...ct,sx:{display:"flex",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",bgcolor:"background.paper",cursor:"grab",touchAction:F===p.id?"none":"pan-y"},children:e.jsx(t,{sx:{flexGrow:1},children:e.jsx(ge,{label:p.name,size:"small",sx:{backgroundColor:p.color,border:`1px solid ${p.color}`,color:"#fff"}})})})}),e.jsx(de,{style:{width:Se,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"primary.main"},children:e.jsx(le,{size:"small",onClick:()=>ut($),children:e.jsx(lt,{fontSize:"small",sx:{color:"common.white"}})})})}),e.jsx(de,{style:{width:Se,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"error.main"},children:e.jsx(le,{size:"small",onClick:()=>rt($),children:e.jsx(Ie,{fontSize:"small",sx:{color:"common.white"}})})})})]})})}},p.id)),c.placeholder]})}):e.jsxs(Xe,{size:"small",children:[e.jsx(Ze,{children:e.jsxs(Ce,{sx:{backgroundColor:c=>c.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(h,{}),e.jsx(h,{children:"タグ名称"}),Us,e.jsx(h,{})]})}),e.jsx(Te,{droppableId:"rally-category-tags",children:c=>e.jsxs(Qe,{ref:c.innerRef,...c.droppableProps,children:[D.map((p,$)=>e.jsx(Re,{draggableId:p.id,index:$,children:M=>e.jsxs(Ce,{ref:M.innerRef,...M.draggableProps,"data-index":$,onClick:()=>ut($),sx:{cursor:"pointer",height:50},children:[e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:z=>z.stopPropagation(),...M.dragHandleProps,sx:{cursor:"grab",display:"inline-flex",width:32,height:32,alignItems:"center",justifyContent:"center"},children:e.jsx(st,{})})}),e.jsx(h,{children:e.jsx(ge,{label:p.name,size:"small",sx:{backgroundColor:p.color,border:`1px solid ${p.color}`,color:"#fff"}})}),Us,e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:z=>z.stopPropagation(),sx:{width:32,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(le,{size:"small",onClick:()=>rt($),sx:{width:24,height:24},children:e.jsx(Ie,{fontSize:"small",color:"error"})})})})]})},p.id)),c.placeholder]})})]})})}),e.jsxs(t,{sx:{maxWidth:1024,mx:"auto",display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,mt:2},children:[e.jsx(t,{sx:{fontWeight:"bold"},children:"プレー詳細タグ"}),e.jsx(q,{onClick:Mt,variant:"contained",startIcon:e.jsx(et,{}),children:"追加"})]}),e.jsx(Ke,{component:Ge,storageKey:"play-detail-tag-grid",sx:{maxWidth:1024,mx:"auto"},children:e.jsx(Ne,{onDragEnd:qe,children:r?e.jsx(Te,{droppableId:"rally-detail-tags",children:c=>e.jsxs(t,{ref:c.innerRef,...c.droppableProps,children:[e.jsx(t,{sx:{display:"flex",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",...ke},children:e.jsx(t,{sx:{flexGrow:1},children:"タグ名称"})}),R.map((p,$)=>e.jsx(Re,{draggableId:p.id,index:$,children:M=>{const z=M.dragHandleProps,{onPointerDown:xe,...Je}=z||{},ct=nt(he=>{xe==null||xe(he);const _e=n(p.id);_e&&(_e.allowTouchMove=!1),ne(p.id)});return e.jsx(t,{ref:M.innerRef,...M.draggableProps,style:M.draggableProps.style,children:e.jsxs(tt,{onSwiper:he=>be(p.id,he),threshold:20,slidesPerView:"auto",style:{overflow:"hidden"},onTouchStart:(he,_e)=>_e.stopPropagation(),onTouchEnd:he=>se(p.id,he),children:[e.jsx(de,{style:{width:"100%",flex:"0 0 auto"},children:e.jsx(t,{...Je,...ct,sx:{display:"flex",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",bgcolor:"background.paper",cursor:"grab",touchAction:N===p.id?"none":"pan-y"},children:e.jsx(t,{sx:{flexGrow:1},children:e.jsx(ge,{label:p.name,size:"small",sx:{backgroundColor:p.color,border:`1px solid ${p.color}`,color:"#fff"}})})})}),e.jsx(de,{style:{width:Se,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"primary.main"},children:e.jsx(le,{size:"small",onClick:()=>Ye($),children:e.jsx(lt,{fontSize:"small",sx:{color:"common.white"}})})})}),e.jsx(de,{style:{width:Se,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"error.main"},children:e.jsx(le,{size:"small",onClick:()=>St($),children:e.jsx(Ie,{fontSize:"small",sx:{color:"common.white"}})})})})]})})}},p.id)),c.placeholder]})}):e.jsxs(Xe,{size:"small",children:[e.jsx(Ze,{children:e.jsxs(Ce,{sx:{backgroundColor:c=>c.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(h,{}),e.jsx(h,{children:"タグ名称"}),Vs,e.jsx(h,{})]})}),e.jsx(Te,{droppableId:"rally-detail-tags",children:c=>e.jsxs(Qe,{ref:c.innerRef,...c.droppableProps,children:[R.map((p,$)=>e.jsx(Re,{draggableId:p.id,index:$,children:M=>e.jsxs(Ce,{ref:M.innerRef,...M.draggableProps,"data-index":$,onClick:()=>Ye($),sx:{cursor:"pointer",height:50},children:[e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:z=>z.stopPropagation(),...M.dragHandleProps,sx:{cursor:"grab",display:"inline-flex",width:32,height:32,alignItems:"center",justifyContent:"center"},children:e.jsx(st,{})})}),e.jsx(h,{children:e.jsx(ge,{label:p.name,size:"small",sx:{backgroundColor:p.color,border:`1px solid ${p.color}`,color:"#fff"}})}),Vs,e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:z=>z.stopPropagation(),sx:{width:32,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(le,{size:"small",onClick:()=>St($),sx:{width:24,height:24},children:e.jsx(Ie,{fontSize:"small",color:"error"})})})})]})},p.id)),c.placeholder]})})]})})})]}),e.jsxs(at,{open:u,onClose:ht,children:[e.jsxs(Pe,{children:["タグ",U===-1?"追加":"編集"]}),e.jsxs(Me,{sx:{mt:2},children:[e.jsx(ve,{label:"タグ名称",value:v,onChange:c=>W(c.target.value),fullWidth:!0,margin:"dense"}),e.jsx(ve,{label:"色",type:"color",value:H,onChange:c=>E(c.target.value),fullWidth:!0,margin:"dense",InputLabelProps:{shrink:!0},sx:{mt:2}})]}),e.jsxs(Ee,{children:[e.jsx(q,{onClick:ht,startIcon:e.jsx(He,{}),color:"inherit",children:"キャンセル"}),e.jsx(q,{onClick:xt,disabled:v.trim()==="",startIcon:e.jsx(ze,{}),children:"OK"})]})]}),e.jsxs(at,{open:ae,onClose:Fe,children:[e.jsxs(Pe,{children:["タグ",I===-1?"追加":"編集"]}),e.jsxs(Me,{sx:{mt:2},children:[e.jsx(ve,{label:"タグ名称",value:g,onChange:c=>ee(c.target.value),fullWidth:!0,margin:"dense"}),e.jsx(ve,{label:"色",type:"color",value:te,onChange:c=>re(c.target.value),fullWidth:!0,margin:"dense",InputLabelProps:{shrink:!0},sx:{mt:2}})]}),e.jsxs(Ee,{children:[e.jsx(q,{onClick:Fe,startIcon:e.jsx(He,{}),color:"inherit",children:"キャンセル"}),e.jsx(q,{onClick:Le,disabled:g.trim()==="",startIcon:e.jsx(ze,{}),children:"OK"})]})]}),e.jsxs(at,{open:i,onClose:We,children:[e.jsxs(Pe,{children:["タグ",ie===-1?"追加":"編集"]}),e.jsxs(Me,{sx:{mt:2},children:[e.jsx(ve,{label:"タグ名称",value:j,onChange:c=>w(c.target.value),fullWidth:!0,margin:"dense"}),e.jsx(ve,{label:"色",type:"color",value:b,onChange:c=>L(c.target.value),fullWidth:!0,margin:"dense",InputLabelProps:{shrink:!0},sx:{mt:2}})]}),e.jsxs(Ee,{children:[e.jsx(q,{onClick:We,startIcon:e.jsx(He,{}),color:"inherit",children:"キャンセル"}),e.jsx(q,{onClick:Et,disabled:j.trim()==="",startIcon:e.jsx(ze,{}),children:"OK"})]})]})]})}const Bl=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)+Date.now().toString(36);function Fl({statsSettings:y,setStatsSettings:m,playCategories:D,playDetails:f,rallyCategoryTags:R,rallyDetailTags:O,showSnackbar:V}){const[T,G]=o.useState(null),[P,U]=o.useState(""),[C,v]=o.useState(""),[W,H]=o.useState([]),[E,u]=o.useState([]),[Y,I]=o.useState(""),[B,g]=o.useState(""),[ee,te]=o.useState("合算"),[re,ae]=o.useState(!1),ue=Be("md"),ie=Be("sm"),{handleTouchEnd:we,setSwiperRef:j,getSwiperRef:w}=it(2),[b,L]=o.useState(""),i=n=>{if(b){const F=w(b);F&&(F.allowTouchMove=!0),L("")}if(!n.destination)return;const d=Array.from(y),[S]=d.splice(n.source.index,1);d.splice(n.destination.index,0,S),m(d)},s=n=>{var d;return((d=D.find(S=>S.id===n))==null?void 0:d.name)||""},r=n=>{var d;return((d=f.find(S=>S.id===n))==null?void 0:d.name)||""},l=n=>{const d=n.playCategoryId?s(n.playCategoryId):n.playCategoryTags?n.playCategoryTags.map(ne=>{var Q;return((Q=R.find(ce=>ce.id===ne))==null?void 0:Q.name)||ne}).join(", "):"",S=n.playDetailId?r(n.playDetailId):n.playDetailTags?n.playDetailTags.map(ne=>{var Q;return((Q=O.find(ce=>ce.id===ne))==null?void 0:Q.name)||ne}).join(", "):"",F=n.pointType||"",A=n.pointUnitType||"",N=n.aggregateType||"合算";return[d,S,F,A,N].filter(ne=>ne).join(", ")},x=()=>{G(-1),U(""),v(""),H([]),u([]),I(""),g(""),te("合算"),ae(!0)},_=n=>{const d=y[n];G(n),U(d.playCategoryId||""),v(d.playDetailId||""),H(d.playCategoryTags||[]),u(d.playDetailTags||[]),I(d.pointType||""),g(d.pointUnitType||""),te(d.aggregateType||"合算"),ae(!0)},X=()=>{const n=P!=="",d=C!=="",S=W.length>0,F=E.length>0,A=Y!=="",N=B!=="";return n&&!d&&!S&&!F&&!A&&!N||n&&d&&!S&&!F&&!A&&!N||n&&!d&&!S&&!F&&A&&!N||n&&!d&&!S&&!F&&!A&&N||n&&!d&&!S&&!F&&A&&N||!n&&!d&&!S&&!F&&A&&!N||!n&&!d&&!S&&!F&&A&&N||!n&&!d&&!S&&!F&&!A&&N||S&&!n&&!d&&!F&&!A&&!N||S&&F&&!n&&!d&&!A&&!N||S&&F&&!n&&!d&&A&&!N||S&&F&&!n&&!d&&!A&&N||S&&F&&!n&&!d&&A&&N||S&&!n&&!d&&A&&!N||S&&!n&&!d&&!A&&N||S&&!n&&!d&&A&&N||F&&!n&&!d&&!S&&!A&&!N||F&&!n&&!d&&!S&&A&&!N||F&&!n&&!d&&!S&&!A&&N||F&&!n&&!d&&!S&&A&&N},J=()=>{const n={id:T===-1?Bl():y[T].id,playCategoryId:P||void 0,playDetailId:C||void 0,playCategoryTags:P===""&&W.length>0?W:void 0,playDetailTags:C===""&&E.length>0?E:void 0,pointType:C?void 0:Y||void 0,pointUnitType:C?void 0:B||void 0,aggregateType:ee};T===-1?m(d=>[...d,n]):T!==null&&m(d=>d.map((S,F)=>F===T?n:S)),ae(!1)},K=()=>{ae(!1)},se=n=>{const d=y[n];m(S=>S.filter((F,A)=>A!==n)),V("スタッツを削除しました","success",{actionLabel:"元に戻す",onAction:()=>{m(S=>{const F=[...S];return F.splice(n,0,d),F})},autoHideDuration:5e3})},be=({s:n,idx:d,dragProvided:S})=>{const F=S.dragHandleProps,{onPointerDown:A,...N}=F||{},ne=nt(Q=>{A==null||A(Q);const ce=w(n.id);ce&&(ce.allowTouchMove=!1),L(n.id)});return e.jsx(t,{ref:S.innerRef,...S.draggableProps,style:S.draggableProps.style,children:e.jsxs(tt,{onSwiper:Q=>j(n.id,Q),threshold:20,slidesPerView:"auto",style:{overflow:"hidden"},onTouchStart:(Q,ce)=>ce.stopPropagation(),onTouchEnd:Q=>we(n.id,Q),children:[e.jsx(de,{style:{width:"100%",flex:"0 0 auto"},children:e.jsx(t,{...N,...ne,sx:{display:"grid",gridTemplateColumns:ie?"1fr":"repeat(5, 1fr)",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",bgcolor:"background.paper",touchAction:b===n.id?"none":"pan-y",cursor:"grab"},children:ie?e.jsx(t,{children:l(n)}):e.jsxs(e.Fragment,{children:[e.jsx(t,{sx:{pr:1},children:n.playCategoryId?s(n.playCategoryId):n.playCategoryTags&&n.playCategoryTags.length>0?e.jsx(t,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:n.playCategoryTags.map(Q=>{const ce=R.find(qe=>qe.id===Q);return e.jsx(ge,{label:(ce==null?void 0:ce.name)||Q,size:"small",sx:{backgroundColor:(ce==null?void 0:ce.color)||pe,color:"#fff"}},Q)})}):""}),e.jsx(t,{sx:{pr:1},children:n.playDetailId?r(n.playDetailId):n.playDetailTags&&n.playDetailTags.length>0?e.jsx(t,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:n.playDetailTags.map(Q=>{const ce=O.find(qe=>qe.id===Q);return e.jsx(ge,{label:(ce==null?void 0:ce.name)||Q,size:"small",sx:{backgroundColor:(ce==null?void 0:ce.color)||pe,color:"#fff"}},Q)})}):""}),e.jsx(t,{sx:{pr:1},children:n.pointType||""}),e.jsx(t,{sx:{pr:1},children:n.pointUnitType||""}),e.jsx(t,{children:n.aggregateType||"合算"})]})})}),e.jsx(de,{style:{width:Se,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"primary.main"},children:e.jsx(le,{size:"small",onClick:()=>_(d),children:e.jsx(lt,{fontSize:"small",sx:{color:"common.white"}})})})}),e.jsx(de,{style:{width:Se,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"error.main"},children:e.jsx(le,{size:"small",onClick:()=>se(d),children:e.jsx(Ie,{fontSize:"small",sx:{color:"common.white"}})})})})]})})};return e.jsxs(e.Fragment,{children:[e.jsxs(t,{children:[e.jsx(t,{sx:{maxWidth:1024,mx:"auto",display:"flex",justifyContent:"flex-end",mb:1},children:e.jsx(q,{onClick:x,variant:"contained",startIcon:e.jsx(et,{}),children:"追加"})}),e.jsx(Ke,{component:Ge,storageKey:"stats-grid",sx:{maxWidth:1024,mx:"auto"},children:ue?e.jsx(Ne,{onDragEnd:i,children:e.jsx(Te,{droppableId:"stats-settings",children:n=>e.jsxs(t,{ref:n.innerRef,...n.droppableProps,children:[e.jsx(t,{sx:{display:"grid",gridTemplateColumns:ie?"1fr":"repeat(5, 1fr)",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",...ke},children:ie?e.jsx(t,{children:"スタッツ"}):e.jsxs(e.Fragment,{children:[e.jsx(t,{children:"プレー区分"}),e.jsx(t,{children:"プレー詳細"}),e.jsx(t,{children:"得点区分"}),e.jsx(t,{children:"得失点単位区分"}),e.jsx(t,{children:"集計方法"})]})}),y.map((d,S)=>e.jsx(Re,{draggableId:d.id,index:S,children:F=>e.jsx(be,{s:d,idx:S,dragProvided:F})},d.id)),n.placeholder]})})}):e.jsxs(Xe,{size:"small",children:[e.jsx(Ze,{children:e.jsxs(Ce,{sx:{backgroundColor:n=>n.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(h,{padding:"checkbox",sx:{width:48}}),e.jsx(h,{children:"プレー区分"}),e.jsx(h,{children:"プレー詳細"}),e.jsx(h,{children:"得点区分"}),e.jsx(h,{children:"得失点単位区分"}),e.jsx(h,{children:"集計方法"}),e.jsx(h,{})]})}),e.jsx(Ne,{onDragEnd:i,children:e.jsx(Te,{droppableId:"stats-settings",children:n=>e.jsxs(Qe,{ref:n.innerRef,...n.droppableProps,children:[y.map((d,S)=>e.jsx(Re,{draggableId:d.id,index:S,children:F=>e.jsxs(Ce,{ref:F.innerRef,...F.draggableProps,"data-index":S,onClick:()=>_(S),sx:{cursor:"pointer",height:50},children:[e.jsx(h,{padding:"checkbox",sx:{width:48},children:e.jsx(t,{onClick:A=>A.stopPropagation(),...F.dragHandleProps,sx:{cursor:"grab",display:"inline-flex",width:32,height:32,alignItems:"center",justifyContent:"center"},children:e.jsx(st,{})})}),e.jsx(h,{children:d.playCategoryId?s(d.playCategoryId):d.playCategoryTags&&d.playCategoryTags.length>0?e.jsx(t,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:d.playCategoryTags.map(A=>{const N=R.find(ne=>ne.id===A);return e.jsx(ge,{label:(N==null?void 0:N.name)||A,size:"small",sx:{backgroundColor:(N==null?void 0:N.color)||pe,color:"#fff"}},A)})}):""}),e.jsx(h,{children:d.playDetailId?r(d.playDetailId):d.playDetailTags&&d.playDetailTags.length>0?e.jsx(t,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:d.playDetailTags.map(A=>{const N=O.find(ne=>ne.id===A);return e.jsx(ge,{label:(N==null?void 0:N.name)||A,size:"small",sx:{backgroundColor:(N==null?void 0:N.color)||pe,color:"#fff"}},A)})}):""}),e.jsx(h,{children:d.pointType||""}),e.jsx(h,{children:d.pointUnitType||""}),e.jsx(h,{children:d.aggregateType||"合算"}),e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:A=>A.stopPropagation(),sx:{width:32,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(le,{size:"small",onClick:()=>se(S),sx:{width:24,height:24},children:e.jsx(Ie,{fontSize:"small",color:"error"})})})})]})},d.id)),n.placeholder]})})})]})})]}),e.jsxs(at,{open:re,onClose:K,children:[e.jsxs(Pe,{children:["スタッツ設定",T===-1?"追加":"編集"]}),e.jsxs(Me,{children:[e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"stat-category-label",children:"プレー区分"}),e.jsxs(Oe,{labelId:"stat-category-label",value:P,label:"プレー区分",onChange:n=>{U(n.target.value),v(""),H([]),u([])},disabled:W.length>0||E.length>0,children:[e.jsx(oe,{value:"",children:"なし"}),D.map(n=>e.jsx(oe,{value:n.id,children:n.name},n.id))]})]}),e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"stat-detail-label",children:"プレー詳細"}),e.jsxs(Oe,{labelId:"stat-detail-label",value:C,label:"プレー詳細",onChange:n=>{v(n.target.value),I(""),g(""),H([]),u([])},disabled:Y!==""||B!==""||W.length>0||E.length>0,children:[e.jsx(oe,{value:"",children:"なし"}),f.filter(n=>n.playCategoryId===P).map(n=>e.jsx(oe,{value:n.id,children:n.name},n.id))]})]}),e.jsx(Ot,{multiple:!0,options:R,getOptionLabel:n=>n.name,value:R.filter(n=>W.includes(n.id)),onChange:(n,d)=>{H(d.map(S=>S.id)),d.length>0&&(U(""),v(""))},disabled:P!==""||C!=="",renderTags:(n,d)=>n.map((S,F)=>{const{key:A,...N}=d({index:F});return e.jsx(ge,{...N,label:S.name,size:"small",sx:{backgroundColor:S.color||pe,color:"#fff"}},A)}),renderInput:n=>e.jsx(ve,{...n,label:"プレー区分タグ",margin:"dense"}),fullWidth:!0}),e.jsx(Ot,{multiple:!0,options:O,getOptionLabel:n=>n.name,value:O.filter(n=>E.includes(n.id)),onChange:(n,d)=>{u(d.map(S=>S.id)),d.length>0&&(U(""),v(""))},disabled:P!==""||C!=="",renderTags:(n,d)=>n.map((S,F)=>{const{key:A,...N}=d({index:F});return e.jsx(ge,{...N,label:S.name,size:"small",sx:{backgroundColor:S.color||pe,color:"#fff"}},A)}),renderInput:n=>e.jsx(ve,{...n,label:"プレー詳細タグ",margin:"dense"}),fullWidth:!0}),e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"stat-point-label",children:"得点区分"}),e.jsxs(Oe,{labelId:"stat-point-label",value:Y,label:"得点区分",onChange:n=>{I(n.target.value),n.target.value!==""&&v("")},disabled:C!=="",children:[e.jsx(oe,{value:"",children:"なし"}),e.jsx(oe,{value:"得点",children:"得点"}),e.jsx(oe,{value:"失点",children:"失点"})]})]}),e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"stat-unit-label",children:"得失点単位区分"}),e.jsxs(Oe,{labelId:"stat-unit-label",value:B,label:"得失点単位区分",onChange:n=>{g(n.target.value),n.target.value!==""&&v("")},disabled:C!=="",children:[e.jsx(oe,{value:"",children:"なし"}),e.jsx(oe,{value:"メンバー",children:"メンバー"}),e.jsx(oe,{value:"チーム",children:"チーム"})]})]}),e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"stat-aggregate-label",children:"集計方法"}),e.jsxs(Oe,{labelId:"stat-aggregate-label",value:ee,label:"集計方法",onChange:n=>te(n.target.value),children:[e.jsx(oe,{value:"合算",children:"合算"}),e.jsx(oe,{value:"セット平均",children:"セット平均"})]})]})]}),e.jsxs(Ee,{children:[e.jsx(q,{onClick:K,color:"inherit",startIcon:e.jsx(He,{}),children:"キャンセル"}),e.jsx(q,{onClick:J,disabled:!X(),startIcon:e.jsx(ze,{}),children:"OK"})]})]})]})}var bs={},Ul=fe;Object.defineProperty(bs,"__esModule",{value:!0});var rn=bs.default=void 0,Vl=Ul(je()),Gl=e;rn=bs.default=(0,Vl.default)((0,Gl.jsx)("path",{d:"M9.37 5.51c-.18.64-.27 1.31-.27 1.99 0 4.08 3.32 7.4 7.4 7.4.68 0 1.35-.09 1.99-.27C17.45 17.19 14.93 19 12 19c-3.86 0-7-3.14-7-7 0-2.93 1.81-5.45 4.37-6.49M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1"}),"DarkModeOutlined");var Cs={},Kl=fe;Object.defineProperty(Cs,"__esModule",{value:!0});var on=Cs.default=void 0,ql=Kl(je()),Yl=e;on=Cs.default=(0,ql.default)((0,Yl.jsx)("path",{d:"M12 9c1.65 0 3 1.35 3 3s-1.35 3-3 3-3-1.35-3-3 1.35-3 3-3m0-2c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5M2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1m18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1M11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1m0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1M5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0z"}),"LightModeOutlined");const Qt=[{id:"light1",name:"ライトモード１",setting:{mode:"light",appBarColor:"#F5F5F5",appBarTextColor:"#000000",buttonColor:"#1C8139",scoreColor:"#1C8139",lossColor:"#D21972"}},{id:"light2",name:"ライトモード２",setting:{mode:"light",appBarColor:"#F2EDE3",appBarTextColor:"#000000",buttonColor:"#48A588",scoreColor:"#48A588",lossColor:"#CE5164"}},{id:"dark1",name:"ダークモード１",setting:{mode:"dark",appBarColor:"#333333",appBarTextColor:"#FFFFFF",buttonColor:"#90CAF9",scoreColor:"#90CAF9",lossColor:"#F48FB1"}},{id:"dark2",name:"ダークモード２",setting:{mode:"dark",appBarColor:"#121212",appBarTextColor:"#FFFFFF",buttonColor:"#BB86FC",scoreColor:"#419552",lossColor:"#C77584"}}];function Jl({theme:y,onThemeChange:m,adminMode:D}){var V;const f=(V=Qt.find(T=>T.name===y.name))==null?void 0:V.id,R=(T,G)=>{if(!G)return;const P=Qt.find(U=>U.id===G);P&&m({name:P.name,...P.setting})},O=[{key:"buttonColor",label:"ボタンカラー"},{key:"scoreColor",label:"得点カラー"},{key:"lossColor",label:"失点カラー"}];return e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:2,mt:1,maxWidth:1024,width:"100%",mx:"auto"},children:[e.jsxs(t,{sx:{display:D?"flex":"none",alignItems:"center"},children:[e.jsx(t,{sx:{mr:2},children:"アプリカラー"}),e.jsx("input",{type:"color",value:y.appBarColor,onChange:T=>m({...y,appBarColor:T.target.value}),title:"背景色"}),e.jsx("input",{type:"color",value:y.appBarTextColor,onChange:T=>m({...y,appBarTextColor:T.target.value}),title:"文字色",style:{marginLeft:8}})]}),O.map(({key:T,label:G})=>e.jsxs(t,{sx:{display:D?"flex":"none",alignItems:"center"},children:[e.jsx(t,{sx:{mr:2},children:G}),e.jsx("input",{type:"color",value:y[T],onChange:P=>m({...y,[T]:P.target.value})})]},T)),e.jsx(pt,{orientation:"vertical",exclusive:!0,value:f,onChange:R,sx:{"& .MuiToggleButton-root":{justifyContent:"flex-start"}},children:Qt.map(T=>e.jsxs(Ae,{value:T.id,sx:{textAlign:"left"},children:[T.setting.mode==="dark"?e.jsx(rn,{sx:{mr:1}}):e.jsx(on,{sx:{mr:1}}),T.name,f===T.id&&e.jsx(ze,{sx:{ml:"auto"}})]},T.id))})]})}var vs={},Xl=fe;Object.defineProperty(vs,"__esModule",{value:!0});var an=vs.default=void 0,Zl=Xl(je()),Ql=e;an=vs.default=(0,Zl.default)((0,Ql.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8"}),"Replay");function er({scoreInput:y,onScoreInputChange:m,dashboardVisible:D,onDashboardVisibleChange:f,showSnackbar:R,adminMode:O}){const[V,T]=o.useState(!1),G=()=>{try{const H=[];for(let E=0;E<localStorage.length;E++){const u=localStorage.key(E);u&&u.startsWith("tutorial-")&&H.push(u)}H.forEach(E=>localStorage.removeItem(E)),R("ガイド表示済み状態をクリアしました","success")}catch(H){console.error(H),R("ガイド表示済み状態のクリアに失敗しました","error")}},P=()=>T(!0),U=()=>T(!1),C=()=>{T(!1),G()},v=[{key:"rallyMemberRequired",label:"ラリー結果メンバー選択必須"},{key:"showRallyIcons",label:"ラリー結果アイコン表示"},{key:"showGridScrollHint",label:"グリッド横スクロール表記表示"},{key:"showScoreProgressArea",label:"得点推移エリア表示"}],W=(H,E)=>{m({...y,[H]:E})};return e.jsxs(t,{sx:{display:"flex",flexDirection:"column",mt:1,maxWidth:1024,width:"100%",mx:"auto"},children:[O&&v.map(({key:H,label:E})=>e.jsx(Hs,{control:e.jsx(vt,{checked:y[H],onChange:u=>W(H,u.target.checked)}),label:E,sx:{mb:1}},H)),e.jsx(Hs,{control:e.jsx(vt,{checked:D,onChange:H=>f(H.target.checked)}),label:"ダッシュボード表示",sx:{mb:1,display:"none"}}),e.jsx(q,{variant:"contained",startIcon:e.jsx(an,{}),onClick:P,sx:{bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark"},alignSelf:"flex-start",mt:2},children:"ガイド再表示"}),e.jsxs(dt,{open:V,onClose:U,children:[e.jsx(Pe,{children:"確認"}),e.jsx(Me,{sx:{mt:2},children:"ガイドを再表示しますか？"}),e.jsxs(Ee,{children:[e.jsx(q,{onClick:U,startIcon:e.jsx(He,{}),color:"inherit",children:"キャンセル"}),e.jsx(q,{onClick:C,startIcon:e.jsx(ze,{}),children:"OK"})]})]})]})}var Is={},tr=fe;Object.defineProperty(Is,"__esModule",{value:!0});var ns=Is.default=void 0,sr=tr(je()),nr=e;ns=Is.default=(0,sr.default)((0,nr.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 12H6V10h12z"}),"LockOpen");function lr({teams:y,matches:m,tags:D,matchLocks:f,setMatchLocks:R,lockGroupBy:O,setLockGroupBy:V}){const T=Be("md"),G=Be("sm"),P=E=>{var u;return((u=y.find(Y=>Y.id===E))==null?void 0:u.name)||""},U=G?"32px 100px 1fr 100px":"32px 100px 1fr 170px 210px 60px",C=O,v=Fn(m,C),W=E=>E.map(u=>{const Y=u.sets.filter(g=>g.my>g.opponent).length,I=u.sets.filter(g=>g.my<g.opponent).length,B=f[u.id];return e.jsxs(Ce,{sx:{height:50},children:[e.jsx(h,{padding:"checkbox",sx:{width:32},children:e.jsx(le,{size:"small",onClick:()=>R(g=>({...g,[u.id]:!g[u.id]})),children:B?e.jsx(es,{sx:{color:"#D21972"}}):e.jsx(ns,{sx:{color:"#1C8139"}})})}),e.jsx(h,{sx:{width:100},children:u.date}),e.jsx(h,{children:u.matchName}),e.jsx(h,{sx:{width:170},children:`${P(u.teamA)} - ${P(u.teamB)}`}),e.jsx(h,{sx:{width:210},children:u.tags.map(g=>{const ee=D.find(re=>re.id===g),te=(ee==null?void 0:ee.color)||pe;return e.jsx(ge,{label:(ee==null?void 0:ee.name)||g,size:"small",sx:{mr:.5,mb:.5,backgroundColor:te,color:"#fff"}},g)})}),e.jsxs(h,{sx:{width:60,textAlign:"left"},children:[Y,"-",I]})]},u.id)}),H=E=>E.map(u=>{const Y=u.sets.filter(g=>g.my>g.opponent).length,I=u.sets.filter(g=>g.my<g.opponent).length,B=f[u.id];return e.jsxs(t,{sx:{display:"grid",gridTemplateColumns:U,alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider"},children:[e.jsx(t,{children:e.jsx(le,{size:"small",onClick:()=>R(g=>({...g,[u.id]:!g[u.id]})),children:B?e.jsx(es,{sx:{color:"#D21972"}}):e.jsx(ns,{sx:{color:"#1C8139"}})})}),e.jsx(t,{children:u.date}),e.jsx(t,{children:u.matchName}),e.jsx(t,{children:G?e.jsxs(e.Fragment,{children:[e.jsx(t,{children:P(u.teamA)}),e.jsx(t,{children:P(u.teamB)})]}):`${P(u.teamA)} - ${P(u.teamB)}`}),!G&&e.jsxs(e.Fragment,{children:[e.jsx(t,{children:u.tags.map(g=>{const ee=D.find(re=>re.id===g),te=(ee==null?void 0:ee.color)||pe;return e.jsx(ge,{label:(ee==null?void 0:ee.name)||g,size:"small",sx:{mr:.5,mb:.5,backgroundColor:te,color:"#fff"}},g)})}),e.jsxs(t,{sx:{textAlign:"left"},children:[Y,"-",I]})]})]},u.id)});return e.jsxs(t,{children:[e.jsx(t,{sx:{maxWidth:1024,mx:"auto"},children:T?e.jsx(De,{size:"small",margin:"dense",children:e.jsxs(Oe,{value:O,onChange:E=>V(E.target.value),children:[e.jsx(oe,{value:"none",children:"グルーピングなし"}),e.jsx(oe,{value:"dateName",children:"試合日付＋試合名"}),e.jsx(oe,{value:"card",children:"対戦カード"})]})}):e.jsxs(pt,{exclusive:!0,value:O,onChange:(E,u)=>{u!==null&&V(u)},sx:{mb:1},children:[e.jsx(Ae,{value:"none",children:"グルーピングなし"}),e.jsx(Ae,{value:"dateName",children:"試合日付＋試合名"}),e.jsx(Ae,{value:"card",children:"対戦カード"})]})}),e.jsx(Ke,{component:Ge,storageKey:"match-lock-grid",sx:{maxWidth:1024,mx:"auto"},children:T?e.jsxs(t,{children:[e.jsxs(t,{sx:{display:"grid",gridTemplateColumns:U,alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",...ke},children:[e.jsx(t,{}),e.jsx(t,{children:"日付"}),e.jsx(t,{children:"試合名"}),e.jsx(t,{children:"対戦カード"}),!G&&e.jsxs(e.Fragment,{children:[e.jsx(t,{children:"タグ"}),e.jsx(t,{sx:{textAlign:"left"},children:"セット"})]})]}),C==="none"?H(v.all||[]):Object.entries(v).map(([E,u])=>{const Y=C==="card"?As(u[0].teamA,u[0].teamB,y):E;return e.jsxs(t,{children:[e.jsx(t,{sx:{display:"grid",gridTemplateColumns:U,alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",...ke},children:e.jsx(t,{sx:{gridColumn:"1 / -1"},children:Y})}),H(u)]},E)})]}):e.jsxs(Xe,{size:"small",children:[e.jsx(Ze,{children:e.jsxs(Ce,{sx:{backgroundColor:E=>E.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(h,{padding:"checkbox",sx:{width:32}}),e.jsx(h,{sx:{width:100,...ke},children:"日付"}),e.jsx(h,{sx:ke,children:"試合名"}),e.jsx(h,{sx:{width:170,...ke},children:"対戦カード"}),e.jsx(h,{sx:{width:210,...ke},children:"タグ"}),e.jsx(h,{sx:{width:60,textAlign:"left",...ke},children:"セット"})]})}),e.jsx(Qe,{children:C==="none"?W(v.all||[]):Object.entries(v).map(([E,u])=>{const Y=C==="card"?As(u[0].teamA,u[0].teamB,y):E;return e.jsxs(o.Fragment,{children:[e.jsx(Ce,{sx:{height:50},children:e.jsx(h,{colSpan:6,sx:ke,children:Y})}),W(u)]},E)})})]})}),e.jsx(t,{sx:{maxWidth:1024,mx:"auto",mt:1},children:e.jsx(gt,{severity:"info",children:"試合をロックすると、この試合は削除できなくなり閲覧のみとなります。ロック解除で編集・削除が可能です。"})})]})}var Ss={},rr=fe;Object.defineProperty(Ss,"__esModule",{value:!0});var cn=Ss.default=void 0,or=rr(je()),ir=e;cn=Ss.default=(0,or.default)((0,ir.jsx)("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 12H4V8h16z"}),"FolderOpen");var ws={},ar=fe;Object.defineProperty(ws,"__esModule",{value:!0});var ls=ws.default=void 0,cr=ar(je()),dr=e;ls=ws.default=(0,cr.default)((0,dr.jsx)("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"FileUpload");var ks={},xr=fe;Object.defineProperty(ks,"__esModule",{value:!0});var dn=ks.default=void 0,hr=xr(je()),ur=e;dn=ks.default=(0,hr.default)((0,ur.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"FileDownload");const gr=`[team]
サンプルチーム

[member]
サンプルチーム,1,バレーボーラー

[rally-play-category]
スパイク

[rally-play-detail]
スパイク,イン,得点,メンバー
スパイク,アウト,失点,メンバー
スパイク,アウト,失点,メンバー`,rs=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)+Date.now().toString(36),pr=y=>({id:crypto.randomUUID(),name:y}),fr=y=>({id:rs(),name:y,color:pe,iconType:"none",tags:[],visible:!0});function jr({onDeleteData:y,onImportData:m,onExportData:D,showSnackbar:f,teams:R,setTeams:O,setMembers:V,playCategories:T,setPlayCategories:G,setPlayDetails:P,adminMode:U}){const[C,v]=o.useState(!1),[W,H]=o.useState(null),[E,u]=o.useState(!1),[Y,I]=o.useState(!1),[B,g]=o.useState(gr),ee=()=>{v(!0)},te=async()=>{v(!1);try{await y(),f("全データを削除しました","success")}catch(i){console.error(i),f("全データの削除に失敗しました","error")}},re=()=>{v(!1)},ae=i=>{H(i.target.files&&i.target.files[0]?i.target.files[0]:null)},ue=()=>{u(!0)},ie=async()=>{u(!1);const i=W;H(null);try{i&&await m(i),f("インポートが完了しました","success")}catch(s){console.error(s),f("インポートに失敗しました","error")}},we=()=>{u(!1)},j=async()=>{try{await D(),f("エクスポートが完了しました","success")}catch(i){console.error(i),f("エクスポートに失敗しました","error")}},w=()=>{I(!0)},b=()=>{I(!1);try{const i=B.replace(/\r\n/g,`
`).split(`
`);let s="";const r=[],l={},x=[],_=[];for(const X of i){const J=X.trim();if(J!==""){if(J.startsWith("[")&&J.endsWith("]")){s=J.toLowerCase();continue}switch(s){case"[team]":r.push(pr(J));break;case"[member]":{const[K,se,be]=J.split(",").map(n=>n.trim());if(K&&se&&be){const n=[...R,...r].find(d=>d.name===K);if(n){const d={id:rs(),no:Number(se),name:be,positions:[],visible:!0};l[n.id]||(l[n.id]=[]),l[n.id].push(d)}}break}case"[rally-play-category]":x.push(fr(J));break;case"[rally-play-detail]":{const[K,se,be,n]=J.split(",").map(d=>d.trim());if(K&&se&&be&&n){const d=[...T,...x].find(S=>S.name===K);d&&_.push({id:rs(),playCategoryId:d.id,name:se,pointType:be,pointUnitType:n,tags:[],visible:!0})}break}default:break}}}r.length&&O(X=>[...X,...r]),Object.keys(l).length&&V(X=>{const J={...X};for(const[K,se]of Object.entries(l))J[K]=[...J[K]||[],...se];return J}),x.length&&G(X=>[...X,...x]),_.length&&P(X=>[...X,..._]),r.length||Object.keys(l).length||x.length||_.length?(f("一括登録が完了しました","success"),g("")):f("登録対象のデータがありません","error")}catch(i){console.error(i),f("一括登録に失敗しました","error")}},L=()=>{I(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs(t,{sx:{maxWidth:1024,width:"100%",mx:"auto",textAlign:"left",display:"flex",flexDirection:"column",gap:1,alignItems:"flex-start"},children:[e.jsx(t,{sx:{fontWeight:"bold"},children:"データエクスポート"}),e.jsx(t,{children:e.jsx(q,{variant:"contained",startIcon:e.jsx(dn,{}),onClick:j,children:"エクスポート"})}),e.jsx(t,{sx:{mt:2,fontWeight:"bold"},children:"データインポート"}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsxs(q,{variant:"outlined",component:"label",startIcon:e.jsx(cn,{}),children:["ファイル選択",e.jsx("input",{type:"file",accept:".zip",hidden:!0,onChange:ae})]}),e.jsx(q,{variant:"contained",startIcon:e.jsx(ls,{}),onClick:ue,disabled:!W,children:"インポート"})]}),U&&e.jsxs(e.Fragment,{children:[e.jsx(t,{sx:{mt:2,fontWeight:"bold"},children:"一括登録"}),e.jsx(ve,{value:B,onChange:i=>g(i.target.value),multiline:!0,minRows:10,fullWidth:!0}),e.jsx(t,{sx:{display:"flex",justifyContent:"flex-end",mt:1},children:e.jsx(q,{variant:"contained",startIcon:e.jsx(ls,{}),onClick:w,children:"一括登録"})})]}),e.jsx(t,{sx:{mt:2,fontWeight:"bold"},children:"データ削除"}),e.jsx(q,{variant:"contained",color:"error",startIcon:e.jsx(Ie,{}),onClick:ee,children:"全データ削除"})]}),e.jsxs(dt,{open:C,onClose:re,children:[e.jsx(Pe,{children:"削除確認"}),e.jsx(Me,{sx:{mt:2},children:"全データを削除しますか？"}),e.jsxs(Ee,{children:[e.jsx(q,{onClick:re,startIcon:e.jsx(He,{}),color:"inherit",children:"キャンセル"}),e.jsx(q,{onClick:te,color:"error",startIcon:e.jsx(ze,{}),children:"OK"})]})]}),e.jsxs(dt,{open:E,onClose:we,children:[e.jsx(Pe,{children:"確認"}),e.jsx(Me,{sx:{mt:2},children:"データをインポートしますか？"}),e.jsxs(Ee,{children:[e.jsx(q,{onClick:we,startIcon:e.jsx(He,{}),color:"inherit",children:"キャンセル"}),e.jsx(q,{onClick:ie,disabled:!W,startIcon:e.jsx(ze,{}),children:"OK"})]})]}),U&&e.jsxs(dt,{open:Y,onClose:L,children:[e.jsx(Pe,{children:"確認"}),e.jsx(Me,{sx:{mt:2},children:"一括登録を実行しますか？"}),e.jsxs(Ee,{children:[e.jsx(q,{onClick:L,startIcon:e.jsx(He,{}),color:"inherit",children:"キャンセル"}),e.jsx(q,{onClick:b,startIcon:e.jsx(ze,{}),children:"OK"})]})]})]})}var Ts={},mr=fe;Object.defineProperty(Ts,"__esModule",{value:!0});var xn=Ts.default=void 0,yr=mr(je()),br=e;xn=Ts.default=(0,yr.default)((0,br.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");const Cr=`MIT License

Copyright (c) 2025 shinya_sun_sun

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
`;function vr(y){if(!y)return"";let m=y.replace(/^git\+/,"");const D=m.match(/^git@github\.com:(.+)$/);D&&(m=`https://github.com/${D[1]}`);const f=m.match(/^git:\/\/github\.com\/(.+)$/);f&&(m=`https://github.com/${f[1]}`);const R=m.match(/^ssh:\/\/git@github\.com\/(.+)$/);return R&&(m=`https://github.com/${R[1]}`),m.startsWith("github.com/")&&(m=`https://${m}`),/^[a-zA-Z]+:\/\//.test(m)||(/^[^/]+\/[^/]+$/.test(m)?m=`https://github.com/${m}`:m=`https://${m}`),m=m.replace(/\.git$/,""),m}function Ir(){const[y,m]=o.useState(""),[D,f]=o.useState([]),[R,O]=o.useState(!0),[V,T]=o.useState({}),G={MIT:"https://opensource.org/license/mit/"};o.useEffect(()=>{Un(()=>import("./licenses-uPPrrUXe.js"),[]).then(C=>f(C.licenses)).finally(()=>O(!1))},[]);const P=o.useMemo(()=>D.filter(C=>C.name.toLowerCase().includes(y.toLowerCase())),[y,D]),U=async C=>{if(!V[C])try{const v=await fetch(`https://raw.githubusercontent.com/spdx/license-list-data/main/text/${C}.txt`);if(!v.ok)throw new Error("not ok");const W=await v.text();T(H=>({...H,[C]:W}))}catch{T(v=>({...v,[C]:""}))}};return e.jsxs(t,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[e.jsx(Ct,{variant:"h6",sx:{mb:1},children:"BreakPoint MIT License"}),e.jsx(t,{component:"pre",sx:{p:1,backgroundColor:C=>C.palette.mode==="dark"?"#343A42":"#f5f5f5",color:C=>C.palette.text.primary,whiteSpace:"pre-wrap",minHeight:128,overflow:"auto"},children:Cr}),e.jsx(ve,{label:"検索",value:y,onChange:C=>m(C.target.value),sx:{my:2}}),e.jsx(t,{sx:{flexGrow:1,overflow:"auto"},children:R?e.jsx(t,{sx:{display:"flex",justifyContent:"center",mt:2},children:e.jsx(zn,{})}):P.map(C=>{const v=C.license;return e.jsxs($n,{onChange:(W,H)=>{H&&U(v)},children:[e.jsxs(Hn,{expandIcon:e.jsx(xn,{}),children:[e.jsx(Ct,{sx:{flexGrow:1},children:C.name}),e.jsx(Ct,{variant:"body2",sx:{ml:2},children:v})]}),e.jsxs(An,{children:[(()=>{const W=vr(C.url);return W&&e.jsx(Dt,{href:W,target:"_blank",rel:"noopener",sx:{display:"block",mb:1,wordBreak:"break-all"},children:W})})(),C.license.startsWith("CC")&&C.attribution&&e.jsx(Ct,{variant:"body2",sx:{mb:1,whiteSpace:"pre-wrap"},children:C.attribution}),V[v]!==void 0&&(V[v]?e.jsx(t,{component:"pre",sx:{p:1,backgroundColor:W=>W.palette.mode==="dark"?"#343A42":"#f5f5f5",color:W=>W.palette.text.primary,whiteSpace:"pre-wrap",maxHeight:300,overflow:"auto"},children:V[v]}):e.jsx(Dt,{href:G[v]||`https://spdx.org/licenses/${v}.html`,target:"_blank",rel:"noopener",sx:{wordBreak:"break-all"},children:G[v]||`https://spdx.org/licenses/${v}.html`}))]})]},C.name)})})]})}const Sr=Yn.create(t),wr=new Set(["playCombinations","tags","stats"]),Gs=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)+Date.now().toString(36);function Ks(y){if(typeof window>"u")return y;try{const D=new DOMParser().parseFromString(y,"image/svg+xml"),f=new Set(["svg","g","path","circle","rect","line","polygon","polyline","text","defs","use"]),R=O=>{[...O.children].forEach(V=>{if(f.has(V.tagName))[...V.attributes].forEach(T=>{T.name.startsWith("on")&&V.removeAttribute(T.name)}),R(V);else{const T=document.createTextNode(V.outerHTML);V.replaceWith(T)}})};return R(D.documentElement),D.documentElement.outerHTML}catch{return""}}function kr({src:y,cropX:m,cropY:D,onChange:f}){const R=o.useRef(null),O=o.useRef(null),[V,T]=o.useState(!1),[G,P]=o.useState({x:0,y:0}),U=()=>R.current?{sx:R.current.clientWidth/R.current.naturalWidth,sy:R.current.clientHeight/R.current.naturalHeight}:{sx:1,sy:1},C=u=>{u.preventDefault(),u.stopPropagation();const Y=O.current.getBoundingClientRect();P({x:u.clientX-Y.left,y:u.clientY-Y.top}),T(!0)},v=u=>{if(!V||!R.current)return;const Y=R.current.getBoundingClientRect(),{sx:I,sy:B}=U(),g=u.clientX-Y.left-G.x,ee=u.clientY-Y.top-G.y,te=Math.min(Math.max(0,g/I),R.current.naturalWidth-64),re=Math.min(Math.max(0,ee/B),R.current.naturalHeight-64);f(Math.round(te),Math.round(re))},W=()=>T(!1),{sx:H,sy:E}=U();return e.jsxs(t,{sx:{position:"relative",display:"inline-block"},onMouseMove:v,onMouseUp:W,onMouseLeave:W,children:[e.jsx("img",{src:y,ref:R,style:{maxWidth:256}}),e.jsx(t,{ref:O,sx:{position:"absolute",left:m*H,top:D*E,width:64,height:64,border:"1px solid red",cursor:"move"},onMouseDown:C})]})}function Tr({name:y}){const m=o.useRef(null),[D,f]=o.useState(1);return o.useEffect(()=>{const R=m.current;if(!R)return;const O=R.getBBox().width;f(O>64?64/O:1)},[y]),e.jsx("svg",{width:64,height:64,children:e.jsx("g",{transform:`scale(${D})`,children:e.jsx("text",{ref:m,x:32/D,y:32/D,textAnchor:"middle",dominantBaseline:"middle",fontSize:8,children:y})})})}function zr({matches:y,teams:m,teamMembers:D,playCategories:f,playDetails:R,statsSettings:O,tags:V,rallyCategoryTags:T,rallyDetailTags:G,themeSetting:P,scoreInputSetting:U,onSave:C,onDirtyChange:v,onDeleteData:W,onImportData:H,onExportData:E,showSnackbar:u,dashboardVisible:Y,onDashboardVisibleChange:I,setAppBarLeftAction:B}){var $s;const[g,ee]=o.useState("teams");o.useEffect(()=>{window.scrollTo(0,0)},[g]);const[te,re]=o.useState(()=>{try{return localStorage.getItem("break-point-admin")==="1"}catch{return!1}}),ae=o.useRef(0),ue=o.useRef(),[ie,we]=o.useState([...m]),[j,w]=o.useState({...D}),[b,L]=o.useState((($s=m[0])==null?void 0:$s.id)||""),[i,s]=o.useState([...f]),[r,l]=o.useState(null),[x,_]=o.useState(""),[X,J]=o.useState(pe),[K,se]=o.useState("設定なし"),[be,n]=o.useState(""),[d,S]=o.useState(""),[F,A]=o.useState(0),[N,ne]=o.useState(0),[Q,ce]=o.useState([]),[qe,ft]=o.useState(!0),[It,xt]=o.useState(!1),[ht,jt]=o.useState(null),[Pt,ut]=o.useState(!1),[Le,Fe]=o.useState([...R]),[rt,Mt]=o.useState([...O]),[Ye,Et]=o.useState([...V]),[We,St]=o.useState([...T]),[c,p]=o.useState([...G]),[$,M]=o.useState({...P}),[z,xe]=o.useState({...U}),[Je,ct]=o.useState([...y]),[he,_e]=o.useState(()=>{const a={};return y.forEach(k=>{a[k.id]=!!k.locked}),a}),[hn,un]=o.useState("none"),zt=!0,mt=Nn(),wt=Ln();o.useEffect(()=>{if(!mt.pathname.startsWith("/settings"))return;mt.pathname.split("/")[2]},[zt,mt.pathname,wt]),o.useEffect(()=>{const k=mt.pathname.split("/")[2];ee(k??null)},[mt.pathname,zt]);const[yt,Rs]=o.useState(null),[$t,Ht]=o.useState(""),[kt,At]=o.useState(""),[Wt,Nt]=o.useState("得点"),[Lt,Bt]=o.useState("メンバー"),[Ft,Ut]=o.useState([]),[Vt,Gt]=o.useState(!0),[gn,Tt]=o.useState(!1),[_s,Ds]=o.useState(null),[pn,Kt]=o.useState(!1),fn=a=>({id:crypto.randomUUID(),name:a}),jn=a=>({id:Gs(),name:a,color:pe,iconType:"none",tags:[],visible:!0}),Rt=o.useMemo(()=>{const a=y.some(k=>!!k.locked!==he[k.id]);return JSON.stringify(ie)!==JSON.stringify(m)||JSON.stringify(j)!==JSON.stringify(D)||JSON.stringify(i)!==JSON.stringify(f)||JSON.stringify(Le)!==JSON.stringify(R)||JSON.stringify(rt)!==JSON.stringify(O)||JSON.stringify(Ye)!==JSON.stringify(V)||JSON.stringify(We)!==JSON.stringify(T)||JSON.stringify(c)!==JSON.stringify(G)||JSON.stringify($)!==JSON.stringify(P)||JSON.stringify(z)!==JSON.stringify(U)||a},[ie,j,i,Le,rt,Ye,We,c,$,z,he,m,D,f,R,O,V,T,G,P,U,y]),mn=o.useMemo(()=>[{key:"teams",label:"チーム",icon:e.jsx(Js,{})},{key:"members",label:"メンバー",icon:e.jsx(Xs,{})},{key:"scores",label:"ラリー",icon:e.jsx(Zs,{})},{key:"playCombinations",label:"プレー組み合わせ",icon:e.jsx(ln,{})},{key:"tags",label:"タグ",icon:e.jsx(Qs,{})},{key:"stats",label:"スタッツ",icon:e.jsx(Gn,{})},{key:"locks",label:"試合ロック",icon:e.jsx(es,{})},{key:"theme",label:"テーマ",icon:e.jsx(en,{})},{key:"display",label:"表示・操作",icon:e.jsx(tn,{})},{key:"data",label:"データ",icon:e.jsx(sn,{})},{key:"license",label:"ライセンス",icon:e.jsx(Kn,{})},{key:"version",label:"バージョン",icon:e.jsx(nn,{})}],[]),yn=o.useMemo(()=>[["teams","members","scores","playCombinations","tags","stats"],["display","theme"],["locks","data"],["license"],["version"]],[]),Os=o.useCallback(()=>{const a=Je.map(k=>({...k,locked:he[k.id]}));C(ie,j,i,Le,rt,Ye,We,c,$,z,a,!0)},[i,Le,he,Je,C,ie,j,rt,Ye,We,c,$,z]),bn=()=>{l(-1),_(""),J(pe),se("設定なし"),n(""),S(""),A(0),ne(0),ce([]),ft(!0),xt(!0)},Cn=a=>{l(a),_(i[a].name),J(i[a].color||pe);const k=i[a];se(k.iconType==="svg"?"SVG":k.iconType==="image"?"画像":"設定なし"),n(k.svg||""),S(k.image||""),A(k.cropX||0),ne(k.cropY||0),ce(k.tags||[]),ft(k.visible!==!1),xt(!0)},vn=()=>{const a=K==="SVG"?"svg":K==="画像"?"image":"none",k=a==="svg"?{iconType:a,svg:be}:a==="image"?{iconType:a,image:d,cropX:F,cropY:N}:{iconType:a};r===-1?s(Z=>[...Z,{...jn(x),...k,color:X,tags:Q,visible:qe}]):r!==null&&s(Z=>Z.map((me,ye)=>ye===r?{...me,name:x,...k,color:X,tags:Q,visible:qe}:me)),xt(!1)},Ps=()=>{xt(!1)},In=a=>{jt(a),ut(!0)},Sn=()=>{if(ht!==null&&i[ht].id!=="init-serve"){const a=ht,k=i[a];s(Z=>Z.filter((me,ye)=>ye!==a)),u("プレー区分を削除しました","success",{actionLabel:"元に戻す",onAction:()=>{s(Z=>{const me=[...Z];return me.splice(a,0,k),me})},autoHideDuration:5e3})}ut(!1),jt(null)},Ms=()=>{ut(!1)},wn=()=>{var a;Rs(-1),Ht(((a=i.find(k=>k.visible!==!1))==null?void 0:a.id)||""),At(""),Nt("得点"),Bt("メンバー"),Ut([]),Gt(!0),Tt(!0)},kn=a=>{const k=Le[a];Rs(a),Ht(k.playCategoryId),At(k.name),Nt(k.pointType),Bt(k.pointUnitType),Ut(k.tags||[]),Gt(k.visible!==!1),Tt(!0)},Tn=()=>{yt===-1?Fe(a=>[...a,{id:Gs(),playCategoryId:$t,name:kt,pointType:Wt,pointUnitType:Lt,tags:Ft,visible:Vt}]):yt!==null&&Fe(a=>a.map((k,Z)=>Z===yt?{...k,playCategoryId:$t,name:kt,pointType:Wt,pointUnitType:Lt,tags:Ft,visible:Vt}:k)),Tt(!1)},Es=()=>{Tt(!1)},Rn=a=>{Ds(a),Kt(!0)},_n=()=>{if(_s!==null){const a=_s,k=Le[a];Fe(Z=>Z.filter((me,ye)=>ye!==a)),u("プレー詳細を削除しました","success",{actionLabel:"元に戻す",onAction:()=>{Fe(Z=>{const me=[...Z];return me.splice(a,0,k),me})},autoHideDuration:5e3})}Kt(!1),Ds(null)},zs=()=>{Kt(!1)},Dn=o.useCallback(()=>{if(ae.current+=1,ue.current&&clearTimeout(ue.current),ue.current=window.setTimeout(()=>{ae.current=0},1e3),ae.current>=5){const a=te?"0":"1";try{localStorage.setItem("break-point-admin",a)}catch(k){console.error(k)}re(a==="1"),u(a==="1"?"管理者モードを有効にしました":"管理者モードを無効にしました","success"),ae.current=0}},[te,u]);o.useEffect(()=>()=>{ue.current&&clearTimeout(ue.current)},[]),o.useEffect(()=>(B(g?e.jsx(le,{onClick:()=>wt("/settings"),size:"small",children:e.jsx(Ys,{})}):null),()=>B(null)),[B,zt,g,wt]),o.useEffect(()=>(v==null||v(Rt),()=>v==null?void 0:v(!1)),[Rt,v]),o.useEffect(()=>{Rt&&Os()},[Rt,Os]);const On=a=>a.iconType==="svg"&&a.svg?e.jsx(t,{sx:{width:64,height:64},dangerouslySetInnerHTML:{__html:Ks(a.svg)}}):a.iconType==="image"&&a.image?e.jsx(t,{component:"img",src:a.image,sx:{width:64,height:64,objectFit:"none",objectPosition:`-${a.cropX||0}px -${a.cropY||0}px`}}):e.jsx(Tr,{name:a.name});return e.jsxs(t,{sx:{display:"flex",flexDirection:"column",height:g!==null?"auto":"100dvh",...g!==null?{overflowY:"auto"}:{}},children:[g===null?e.jsx(t,{children:yn.map((a,k)=>e.jsx(Wn,{orientation:"vertical",fullWidth:!0,variant:"outlined",sx:{mb:2,"& .MuiButton-root":{justifyContent:"flex-start",color:Z=>Z.palette.text.secondary,height:50,textAlign:"left"},"& .MuiButton-root .MuiButton-startIcon":{mr:1},"& .MuiButton-root .MuiButton-endIcon":{marginLeft:"auto"},"& .MuiButtonGroup-grouped":{borderColor:"divider"}},children:a.map(Z=>{const me=mn.find(ye=>ye.key===Z);return me?e.jsxs(q,{onClick:Z==="version"?Dn:()=>wt(`/settings/${Z}`),disableRipple:Z==="version",startIcon:me.icon,endIcon:Z==="version"?void 0:Z==="theme"?e.jsxs(t,{sx:{display:"flex",alignItems:"center",color:ye=>ye.palette.text.secondary},children:[e.jsx(t,{component:"span",sx:{mr:1,typography:"button"},children:$.name}),e.jsx(ts,{})]}):e.jsx(ts,{sx:{color:ye=>ye.palette.text.secondary}}),children:[me.label,wr.has(Z)&&e.jsx(ge,{label:"上級者",size:"small",variant:"outlined",sx:{ml:1,backgroundColor:"transparent",borderColor:ye=>ye.palette.primary.main,color:ye=>ye.palette.primary.main}}),Z==="version"&&e.jsx(t,{component:"span",sx:{ml:"auto",color:ye=>ye.palette.text.secondary},children:"0.0.0"})]},Z):null})},k))}):null,g!==null&&e.jsx(t,{sx:{mt:0,flexGrow:1,overflowY:"visible"},children:e.jsx(qn,{mode:"wait",children:g&&e.jsxs(Sr,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},sx:{display:"flex",flexDirection:"column",flexGrow:1},children:[g==="teams"&&e.jsx(Pl,{teams:ie,setTeams:we,setMembers:w,selectedTeam:b,setSelectedTeam:L,createTeam:fn,showSnackbar:u}),g==="members"&&(ie.length===0?e.jsxs(gt,{severity:"info",children:["チームを登録するとメンバーを設定できるようになります",e.jsx("br",{}),e.jsx(Dt,{component:Bn,to:"/settings/teams",children:"チーム設定へ"})]}):b&&e.jsx(El,{teams:ie,members:j,setMembers:w,selectedTeam:b,setSelectedTeam:L,showSnackbar:u})),g==="scores"&&e.jsx(zl,{openAddPlayDialog:bn,playCategories:i,setPlayCategories:s,openEditPlayDialog:Cn,scoreInput:z,renderIcon:On,rallyCategoryTags:We,handlePlayDelete:In,openAddDetailDialog:wn,playDetails:Le,setPlayDetails:Fe,openEditDetailDialog:kn,theme:$,rallyDetailTags:c,handleDetailDelete:Rn}),g==="playCombinations"&&e.jsx(Nl,{playCombinationSetting:z.playCombinationSetting,onChange:a=>xe(k=>({...k,playCombinationSetting:a})),playCategories:i,playDetails:Le,showSnackbar:u}),g==="stats"&&e.jsx(Fl,{statsSettings:rt,setStatsSettings:Mt,playCategories:i,playDetails:Le,rallyCategoryTags:We,rallyDetailTags:c,showSnackbar:u}),g==="tags"&&e.jsx(Ll,{tags:Ye,setTags:Et,rallyCategoryTags:We,setRallyCategoryTags:St,rallyDetailTags:c,setRallyDetailTags:p,setMatches:ct,setPlayCategories:s,setPlayDetails:Fe,showSnackbar:u}),g==="locks"&&e.jsx(lr,{teams:ie,matches:Je,tags:Ye,matchLocks:he,setMatchLocks:_e,lockGroupBy:hn,setLockGroupBy:un}),g==="theme"&&e.jsx(Jl,{theme:$,onThemeChange:M,adminMode:te}),g==="display"&&e.jsx(er,{scoreInput:z,onScoreInputChange:xe,dashboardVisible:Y,onDashboardVisibleChange:I,showSnackbar:u,adminMode:te}),g==="data"&&e.jsx(jr,{onDeleteData:W,onImportData:H,onExportData:E,showSnackbar:u,teams:ie,setTeams:we,setMembers:w,playCategories:i,setPlayCategories:s,setPlayDetails:Fe,adminMode:te}),g==="license"&&e.jsx(Ir,{})]},g)})}),e.jsxs(at,{open:It,onClose:Ps,children:[e.jsxs(Pe,{children:["プレー区分",r===-1?"追加":"編集"]}),e.jsxs(Me,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[e.jsx(ve,{label:"プレー区分",value:x,onChange:a=>_(a.target.value),fullWidth:!0,margin:"dense"}),e.jsx(ve,{label:"色",type:"color",value:X,onChange:a=>J(a.target.value),margin:"dense",InputLabelProps:{shrink:!0},fullWidth:!0}),e.jsx(Ot,{multiple:!0,options:We,getOptionLabel:a=>a.name,value:We.filter(a=>Q.includes(a.id)),onChange:(a,k)=>ce(k.map(Z=>Z.id)),renderTags:(a,k)=>a.map((Z,me)=>{const{key:ye,...qt}=k({index:me});return e.jsx(ge,{...qt,label:Z.name,size:"small",sx:{backgroundColor:Z.color||pe,color:"#fff"}},ye)}),renderInput:a=>e.jsx(ve,{...a,label:"タグ",margin:"dense"})}),e.jsxs(gt,{severity:"info",children:["プレー区分タグは設定＞タグメニューにて追加できます",e.jsx("br",{}),"プレー区分にタグを設定することにより、プレー区分を横串で集計することが可能となります"]}),e.jsxs(pt,{exclusive:!0,value:qe?"表示":"非表示",onChange:(a,k)=>k&&ft(k==="表示"),fullWidth:!0,children:[e.jsxs(Ae,{value:"表示",sx:{width:"50%",whiteSpace:"nowrap"},children:[e.jsx(Ue,{sx:{mr:1}}),"表示"]}),e.jsxs(Ae,{value:"非表示",sx:{width:"50%",whiteSpace:"nowrap"},children:[e.jsx(Ve,{sx:{mr:1}}),"非表示"]})]}),z.showRallyIcons&&e.jsxs(e.Fragment,{children:[e.jsxs(pt,{exclusive:!0,value:K,onChange:(a,k)=>k&&se(k),children:[e.jsx(Ae,{value:"設定なし",children:"設定なし"}),e.jsx(Ae,{value:"SVG",children:"SVG"}),e.jsx(Ae,{value:"画像",children:"画像"})]}),K==="SVG"&&e.jsxs(e.Fragment,{children:[e.jsx(t,{sx:{width:64,height:64},dangerouslySetInnerHTML:{__html:Ks(be)}}),e.jsx(ve,{multiline:!0,minRows:10,label:"SVG",value:be,onChange:a=>n(a.target.value),fullWidth:!0,margin:"dense"})]}),K==="画像"&&e.jsxs(e.Fragment,{children:[d&&e.jsx(kr,{src:d,cropX:F,cropY:N,onChange:(a,k)=>{A(a),ne(k)}}),e.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/bmp,image/tiff,image/gif",onChange:a=>{var me;const k=(me=a.target.files)==null?void 0:me[0];if(!k)return;const Z=new FileReader;Z.onload=()=>{S(Z.result)},Z.readAsDataURL(k)}})]})]})]}),e.jsxs(Ee,{children:[e.jsx(q,{onClick:Ps,color:"inherit",startIcon:e.jsx(He,{}),children:"キャンセル"}),e.jsx(q,{onClick:vn,disabled:x.trim()==="",startIcon:e.jsx(ze,{}),children:"OK"})]})]}),e.jsxs(at,{open:gn,onClose:Es,children:[e.jsxs(Pe,{children:["プレー詳細",yt===-1?"追加":"編集"]}),e.jsxs(Me,{children:[e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"detail-category-label",children:"プレー区分"}),e.jsx(Oe,{labelId:"detail-category-label",value:$t,label:"プレー区分",onChange:a=>Ht(a.target.value),children:i.map(a=>e.jsx(oe,{value:a.id,children:a.name},a.id))})]}),e.jsx(ve,{fullWidth:!0,label:"プレー詳細",value:kt,onChange:a=>At(a.target.value),margin:"dense"}),e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"detail-point-label",children:"得点区分"}),e.jsxs(Oe,{labelId:"detail-point-label",value:Wt,label:"得点区分",onChange:a=>Nt(a.target.value),children:[e.jsx(oe,{value:"得点",children:"得点"}),e.jsx(oe,{value:"失点",children:"失点"})]})]}),e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"detail-point-unit-label",children:"得失点単位区分"}),e.jsxs(Oe,{labelId:"detail-point-unit-label",value:Lt,label:"得失点単位区分",onChange:a=>Bt(a.target.value),disabled:yt!==-1,children:[e.jsx(oe,{value:"メンバー",children:"メンバー"}),e.jsx(oe,{value:"チーム",children:"チーム"})]})]}),e.jsx(gt,{severity:"warning",sx:{whiteSpace:"pre-line",mt:1},children:`得失点単位区分は追加時にのみ設定でき、後から変更できません
再設定する場合はプレー詳細を作り直してください`}),e.jsx(Ot,{multiple:!0,options:c,getOptionLabel:a=>a.name,value:c.filter(a=>Ft.includes(a.id)),onChange:(a,k)=>Ut(k.map(Z=>Z.id)),renderTags:(a,k)=>a.map((Z,me)=>{const ye=Z.color||pe,{key:qt,...Pn}=k({index:me});return e.jsx(ge,{...Pn,label:Z.name,size:"small",sx:{backgroundColor:ye,color:"#fff"}},qt)}),renderInput:a=>e.jsx(ve,{...a,label:"タグ",margin:"dense"})}),e.jsxs(gt,{severity:"info",sx:{mt:1},children:["プレー詳細タグは設定＞タグメニューにて追加できます",e.jsx("br",{}),"プレー詳細にタグを設定することにより、プレー詳細を横串で集計することが可能となります"]}),e.jsxs(pt,{exclusive:!0,value:Vt?"表示":"非表示",onChange:(a,k)=>k&&Gt(k==="表示"),fullWidth:!0,sx:{mt:2},children:[e.jsxs(Ae,{value:"表示",sx:{width:"50%",whiteSpace:"nowrap"},children:[e.jsx(Ue,{sx:{mr:1}}),"表示"]}),e.jsxs(Ae,{value:"非表示",sx:{width:"50%",whiteSpace:"nowrap"},children:[e.jsx(Ve,{sx:{mr:1}}),"非表示"]})]})]}),e.jsxs(Ee,{children:[e.jsx(q,{onClick:Es,color:"inherit",startIcon:e.jsx(He,{}),children:"キャンセル"}),e.jsx(q,{onClick:Tn,disabled:kt.trim()==="",startIcon:e.jsx(ze,{}),children:"OK"})]})]}),e.jsxs(dt,{open:Pt,onClose:Ms,children:[e.jsx(Pe,{children:"削除確認"}),e.jsxs(Me,{sx:{mt:2},children:["このプレー区分を削除しますか？",e.jsx(t,{sx:{mt:1},children:"削除すると、すでに入力されている試合のスコアや分析に影響が出る可能性があります。"})]}),e.jsxs(Ee,{children:[e.jsx(q,{onClick:Ms,color:"inherit",startIcon:e.jsx(He,{}),children:"キャンセル"}),e.jsx(q,{onClick:Sn,color:"error",startIcon:e.jsx(ze,{}),children:"OK"})]})]}),e.jsxs(dt,{open:pn,onClose:zs,children:[e.jsx(Pe,{children:"削除確認"}),e.jsxs(Me,{sx:{mt:2},children:["このプレー詳細を削除しますか？",e.jsx(t,{sx:{mt:1},children:"削除すると、すでに入力されている試合のスコアや分析に影響が出る可能性があります。"})]}),e.jsxs(Ee,{children:[e.jsx(q,{onClick:zs,color:"inherit",startIcon:e.jsx(He,{}),children:"キャンセル"}),e.jsx(q,{onClick:_n,color:"error",startIcon:e.jsx(ze,{}),children:"OK"})]})]})]})}export{zr as default};
