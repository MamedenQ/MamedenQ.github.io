import{i as fe,j as e,a as qs,B as t,r as K,f as Ge,g as Xe,h as Ze,k as be,l as h,m as Qe,I as le,E as Pe,G as Me,X as Ce,H as Ee,R as Mn,Z as En,y as Ct,U as Dt,F as De,K as $e,S as Oe,M as oe,d as pt,e as Ae,C as pe,D as dt,a6 as vt,A as gt,W as Ot,a7 as Hs,a8 as zn,a9 as $n,aa as Hn,ab as An,N as Wn}from"./mui-vendor-C85vPdgr.js";import{r as o,b as _t,u as Nn,f as Ln,L as Bn}from"./react-vendor-QLNaZ7XN.js";import{r as je,u as Be,e as it,c as et,f as Ke,g as we,h as ve,R as at,d as He,a as ze,i as tt,j as de,D as Ie,k as ge,l as Fn,m as As,n as es,_ as Un}from"./index-CgKcCnpe.js";import{t as Vn,P as ot,a as Gn,d as Kn}from"./PlayDetailChip-C7xf73Yl.js";import{D as Ne,C as Te,P as Re,d as st,u as nt,a as lt}from"./useLongPress-CNE105VB.js";import{A as qn,m as Yn}from"./motion-vendor-CXcnLVtk.js";import"./chart-vendor-DVL1rbVz.js";var os={},Jn=fe;Object.defineProperty(os,"__esModule",{value:!0});var Ue=os.default=void 0,Xn=Jn(je()),Zn=e;Ue=os.default=(0,Xn.default)((0,Zn.jsx)("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4m0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7"}),"VisibilityOutlined");var is={},Qn=fe;Object.defineProperty(is,"__esModule",{value:!0});var Ve=is.default=void 0,el=Qn(je()),tl=e;Ve=is.default=(0,el.default)((0,tl.jsx)("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5-.59 1.22-1.42 2.27-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6m-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14M2.01 3.87l2.68 2.68C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45zm7.5 7.5 2.61 2.61c-.04.01-.08.02-.12.02-1.38 0-2.5-1.12-2.5-2.5 0-.05.01-.08.01-.13m-3.4-3.4 1.75 1.75c-.23.55-.36 1.15-.36 1.78 0 2.48 2.02 4.5 4.5 4.5.63 0 1.23-.13 1.77-.36l.98.98c-.88.24-1.8.38-2.75.38-3.79 0-7.17-2.13-8.82-5.5.7-1.43 1.72-2.61 2.93-3.53"}),"VisibilityOffOutlined");var as={},sl=fe;Object.defineProperty(as,"__esModule",{value:!0});var Ys=as.default=void 0,nl=sl(je()),ll=e;Ys=as.default=(0,nl.default)((0,ll.jsx)("path",{d:"M15.61 7.41 14.2 6l-6 6 6 6 1.41-1.41L11.03 12z"}),"NavigateBeforeOutlined");var cs={},rl=fe;Object.defineProperty(cs,"__esModule",{value:!0});var ts=cs.default=void 0,ol=rl(je()),il=e;ts=cs.default=(0,ol.default)((0,il.jsx)("path",{d:"M10.02 6 8.61 7.41 13.19 12l-4.58 4.59L10.02 18l6-6z"}),"NavigateNextOutlined");var ds={},al=fe;Object.defineProperty(ds,"__esModule",{value:!0});var Js=ds.default=void 0,cl=al(je()),dl=e;Js=ds.default=(0,cl.default)((0,dl.jsx)("path",{d:"M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zm-7.76-2.78c-1.17-.52-2.61-.9-4.24-.9-1.63 0-3.07.39-4.24.9C6.68 14.13 6 15.21 6 16.39V18h12v-1.61c0-1.18-.68-2.26-1.76-2.74M8.07 16c.09-.23.13-.39.91-.69.97-.38 1.99-.56 3.02-.56s2.05.18 3.02.56c.77.3.81.46.91.69zM12 8c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m0-2c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"GroupsOutlined");var xs={},xl=fe;Object.defineProperty(xs,"__esModule",{value:!0});var Xs=xs.default=void 0,hl=xl(je()),ul=e;Xs=xs.default=(0,hl.default)((0,ul.jsx)("path",{d:"M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 10c2.7 0 5.8 1.29 6 2H6c.23-.72 3.31-2 6-2m0-12C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 10c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonOutlined");var hs={},gl=fe;Object.defineProperty(hs,"__esModule",{value:!0});var Zs=hs.default=void 0,pl=gl(je()),fl=e;Zs=hs.default=(0,pl.default)((0,fl.jsx)("path",{d:"M18 9h-2.5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1H18c.55 0 1-.45 1-1v-4c0-.55-.45-1-1-1m-.5 4.5H16v-3h1.5zm-8 1.5H5v-2.5c0-.55.45-1 1-1h2v-1H5V9h3.5c.55 0 1 .45 1 1v1.5c0 .55-.45 1-1 1h-2v1h3zm3.25-4h-1.5V9.5h1.5zm0 3.5h-1.5V13h1.5zM22 6v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h3V2h2v2h6V2h2v2h3c1.1 0 2 .9 2 2m-2 12V6h-7.25v1.5h-1.5V6H4v12h7.25v-1.5h1.5V18z"}),"ScoreboardOutlined");var us={},jl=fe;Object.defineProperty(us,"__esModule",{value:!0});var Qs=us.default=void 0,ml=jl(je()),Ws=e;Qs=us.default=(0,ml.default)([(0,Ws.jsx)("path",{d:"m21.41 11.41-8.83-8.83c-.37-.37-.88-.58-1.41-.58H4c-1.1 0-2 .9-2 2v7.17c0 .53.21 1.04.59 1.41l8.83 8.83c.78.78 2.05.78 2.83 0l7.17-7.17c.78-.78.78-2.04-.01-2.83M12.83 20 4 11.17V4h7.17L20 12.83z"},"0"),(0,Ws.jsx)("circle",{cx:"6.5",cy:"6.5",r:"1.5"},"1")],"SellOutlined");var gs={},yl=fe;Object.defineProperty(gs,"__esModule",{value:!0});var en=gs.default=void 0,bl=yl(je()),bt=e;en=gs.default=(0,bl.default)([(0,bt.jsx)("path",{d:"M12 22C6.49 22 2 17.51 2 12S6.49 2 12 2s10 4.04 10 9c0 3.31-2.69 6-6 6h-1.77c-.28 0-.5.22-.5.5 0 .12.05.23.13.33.41.47.64 1.06.64 1.67 0 1.38-1.12 2.5-2.5 2.5m0-18c-4.41 0-8 3.59-8 8s3.59 8 8 8c.28 0 .5-.22.5-.5 0-.16-.08-.28-.14-.35-.41-.46-.63-1.05-.63-1.65 0-1.38 1.12-2.5 2.5-2.5H16c2.21 0 4-1.79 4-4 0-3.86-3.59-7-8-7"},"0"),(0,bt.jsx)("circle",{cx:"6.5",cy:"11.5",r:"1.5"},"1"),(0,bt.jsx)("circle",{cx:"9.5",cy:"7.5",r:"1.5"},"2"),(0,bt.jsx)("circle",{cx:"14.5",cy:"7.5",r:"1.5"},"3"),(0,bt.jsx)("circle",{cx:"17.5",cy:"11.5",r:"1.5"},"4")],"PaletteOutlined");var ps={},Cl=fe;Object.defineProperty(ps,"__esModule",{value:!0});var tn=ps.default=void 0,vl=Cl(je()),Ns=e;tn=ps.default=(0,vl.default)([(0,Ns.jsx)("path",{d:"M20 3H4c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h4v2h8v-2h4c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2m0 14H4V5h16z"},"0"),(0,Ns.jsx)("path",{d:"M6 8.25h8v1.5H6zm10.5 1.5H18v-1.5h-1.5V7H15v4h1.5zm-6.5 2.5h8v1.5h-8zM7.5 15H9v-4H7.5v1.25H6v1.5h1.5z"},"1")],"DisplaySettingsOutlined");var fs={},Il=fe;Object.defineProperty(fs,"__esModule",{value:!0});var sn=fs.default=void 0,Sl=Il(je()),wl=e;sn=fs.default=(0,Sl.default)((0,wl.jsx)("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"StorageOutlined");var js={},kl=fe;Object.defineProperty(js,"__esModule",{value:!0});var nn=js.default=void 0,Tl=kl(je()),Rl=e;nn=js.default=(0,Tl.default)((0,Rl.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined");var ms={},_l=fe;Object.defineProperty(ms,"__esModule",{value:!0});var ln=ms.default=void 0,Dl=_l(je()),Ol=e;ln=ms.default=(0,Dl.default)((0,Ol.jsx)("path",{d:"M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"}),"LinkOutlined");function Pl({teams:p,setTeams:j,setMembers:D,selectedTeam:y,setSelectedTeam:R,createTeam:b,showSnackbar:U}){const[A,Y]=o.useState(!1),[W,V]=o.useState(""),[v,I]=o.useState(null),H=qs(),z=Be("md"),{handleTouchEnd:P,setSwiperRef:u,getSwiperRef:q}=it(2),[S,B]=o.useState(""),g="tutorial-team-swipe",[ee,te]=o.useState(()=>z&&p.length>0&&!localStorage.getItem(g)),[re,ae]=o.useState(()=>{var s;return((s=p[0])==null?void 0:s.id)||""}),ue=o.useRef(p.length),ie=s=>{if(S){const x=q(S);x&&(x.allowTouchMove=!0),B("")}if(!s.destination)return;const r=Array.from(p),[l]=r.splice(s.source.index,1);r.splice(s.destination.index,0,l),j(r)},Se=()=>{I(-1),V(""),Y(!0)},m=s=>{I(s),V(p[s].name),Y(!0)},k=()=>{if(v===-1){const s=b(W);j(r=>[...r,s]),D(r=>({...r,[s.id]:[]})),y||R(s.id),z&&!localStorage.getItem(g)&&(ae(s.id),te(!0))}else if(v!==null){const s=p[v].id;j(r=>r.map((l,x)=>x===v?{...l,name:W}:l)),y===s&&R(s)}Y(!1)},C=()=>{Y(!1)},L=s=>{var X;const r=p[s];let l=[];D(J=>{l=J[r.id]||[];const G={...J};return delete G[r.id],G});const x=y,_=p.filter((J,G)=>G!==s);j(_),y===r.id&&R(((X=_[0])==null?void 0:X.id)||""),U("チームを削除しました","success",{actionLabel:"元に戻す",onAction:()=>{j(J=>{const G=[...J];return G.splice(s,0,r),G}),D(J=>({...J,[r.id]:l})),R(x)},autoHideDuration:5e3})};o.useEffect(()=>{z&&p.length>0&&ue.current===0&&!localStorage.getItem(g)&&(ae(p[0].id),te(!0)),ue.current=p.length},[p,z]);const i=({t:s,idx:r,dragProvided:l})=>{const x=l.dragHandleProps,{onPointerDown:_,...X}=x||{},J=nt(G=>{_==null||_(G);const se=q(s.id);se&&(se.allowTouchMove=!1),B(s.id)});return e.jsx(t,{ref:l.innerRef,...l.draggableProps,style:l.draggableProps.style,children:e.jsx(Mn,{open:ee&&re===s.id,onClose:()=>te(!1),disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,arrow:!0,placement:"bottom",TransitionComponent:En,slotProps:{tooltip:{sx:{backgroundColor:"#F5F5F9",color:"rgba(0, 0, 0, 0.87)",border:`1px solid ${H.palette.text.secondary}`,pointerEvents:"auto"}},arrow:{sx:{color:"#F5F5F9","&::before":{border:`1px solid ${H.palette.text.secondary}`}}}},title:e.jsxs(t,{sx:{p:1,maxWidth:260},children:[e.jsx(Ct,{variant:"body2",sx:{whiteSpace:"pre-line"},children:Vn.teamSwipe.text}),e.jsx(t,{sx:{textAlign:"right",mt:1},children:e.jsx(Dt,{component:"button",variant:"body2",onClick:()=>{localStorage.setItem(g,"1"),te(!1)},children:"了解した"})})]}),children:e.jsx(t,{children:e.jsxs(tt,{onSwiper:G=>u(s.id,G),threshold:20,slidesPerView:"auto",style:{overflow:"hidden"},onTouchStart:(G,se)=>se.stopPropagation(),onTouchEnd:G=>P(s.id,G),children:[e.jsx(de,{style:{width:"100%",flex:"0 0 auto"},children:e.jsx(t,{...X,...J,sx:{display:"flex",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",bgcolor:"background.paper",touchAction:S===s.id?"none":"pan-y",cursor:"grab"},children:e.jsx(t,{sx:{flexGrow:1},children:s.name})})}),e.jsx(de,{style:{width:Ie,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"primary.main"},children:e.jsx(le,{size:"small",onClick:()=>m(r),children:e.jsx(lt,{fontSize:"small",sx:{color:"common.white"}})})})}),e.jsx(de,{style:{width:Ie,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"error.main"},children:e.jsx(le,{size:"small",onClick:()=>L(r),children:e.jsx(ve,{fontSize:"small",sx:{color:"common.white"}})})})})]})})})})};return e.jsxs(e.Fragment,{children:[e.jsxs(t,{children:[e.jsx(t,{sx:{maxWidth:1024,mx:"auto",display:"flex",justifyContent:"flex-end",mb:1},children:e.jsx(K,{onClick:Se,variant:"contained",startIcon:e.jsx(et,{}),children:"追加"})}),e.jsx(Ke,{component:Ge,storageKey:"teams-grid",sx:{maxWidth:1024,mx:"auto"},children:e.jsx(Ne,{onDragEnd:ie,children:z?e.jsx(Te,{droppableId:"teams",children:s=>e.jsxs(t,{ref:s.innerRef,...s.droppableProps,children:[e.jsx(t,{sx:{display:"flex",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",...we},children:e.jsx(t,{sx:{flexGrow:1},children:"チーム名"})}),p.map((r,l)=>e.jsx(Re,{draggableId:r.id,index:l,children:x=>e.jsx(i,{t:r,idx:l,dragProvided:x})},r.id)),s.placeholder]})}):e.jsxs(Xe,{size:"small",children:[e.jsx(Ze,{children:e.jsxs(be,{sx:{backgroundColor:s=>s.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(h,{}),e.jsx(h,{children:"チーム名"}),e.jsx(h,{})]})}),e.jsx(Te,{droppableId:"teams",children:s=>e.jsxs(Qe,{ref:s.innerRef,...s.droppableProps,children:[p.map((r,l)=>e.jsx(Re,{draggableId:r.id,index:l,children:x=>e.jsxs(be,{ref:x.innerRef,...x.draggableProps,style:x.draggableProps.style,onClick:()=>m(l),sx:{cursor:"pointer",height:50},children:[e.jsx(h,{padding:"checkbox",onClick:_=>_.stopPropagation(),children:e.jsx(t,{onClick:_=>_.stopPropagation(),...x.dragHandleProps,sx:{cursor:"grab",display:"inline-flex",touchAction:"none",width:32,height:32,alignItems:"center",justifyContent:"center"},children:e.jsx(st,{})})}),e.jsx(h,{children:r.name}),e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:_=>_.stopPropagation(),sx:{width:32,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(le,{size:"small",onClick:()=>L(l),sx:{width:24,height:24},children:e.jsx(ve,{fontSize:"small",color:"error"})})})})]})},r.id)),s.placeholder]})})]})})})]}),e.jsxs(at,{open:A,onClose:C,children:[e.jsxs(Pe,{children:["チーム名",v===-1?"追加":"編集"]}),e.jsx(Me,{sx:{mt:2},children:e.jsx(Ce,{label:"チーム名",value:W,onChange:s=>V(s.target.value),fullWidth:!0,margin:"dense"})}),e.jsxs(Ee,{children:[e.jsx(K,{onClick:C,startIcon:e.jsx(He,{}),color:"inherit",sx:{color:{xs:"black",md:"inherit"}},children:"キャンセル"}),e.jsx(K,{onClick:k,disabled:W.trim()==="",startIcon:e.jsx(ze,{}),children:"OK"})]})]})]})}const Ls=32,Yt=80,Jt=200,Xt=200,Zt=64,Ml=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)+Date.now().toString(36);function El({teams:p,members:j,setMembers:D,selectedTeam:y,setSelectedTeam:R,showSnackbar:b}){const[U,A]=o.useState(null),[Y,W]=o.useState(""),[V,v]=o.useState(""),[I,H]=o.useState([]),[z,P]=o.useState(!0),[u,q]=o.useState(!1),S=Be("md"),B=Be("sm"),g=Jt+16+(B?0:Yt+Xt+Zt),{handleTouchEnd:ee,setSwiperRef:te,getSwiperRef:re}=it(2),[ae,ue]=o.useState(""),ie=s=>{if(ae){const x=re(ae);x&&(x.allowTouchMove=!0),ue("")}if(!s.destination||!y)return;const r=Array.from(j[y]||[]),[l]=r.splice(s.source.index,1);r.splice(s.destination.index,0,l),D(x=>({...x,[y]:r}))},Se=()=>{A(-1),W(""),v(""),H([]),P(!0),q(!0)},m=s=>{A(s);const r=j[y][s];W(String(r.no)),v(r.name),H(r.positions||[]),P(r.visible!==!1),q(!0)},k=()=>{y&&(U===-1?D(s=>({...s,[y]:[...s[y]||[],{id:Ml(),no:Number(Y),name:V,positions:I,visible:z}]})):U!==null&&D(s=>({...s,[y]:s[y].map((r,l)=>l===U?{...r,no:Number(Y),name:V,positions:I,visible:z}:r)})),q(!1))},C=()=>{q(!1)},L=s=>{if(!y)return;let r;D(l=>{const x=[...l[y]||[]];r=x[s];const _=x.filter((X,J)=>J!==s);return{...l,[y]:_}}),b("メンバーを削除しました","success",{actionLabel:"元に戻す",onAction:()=>{r&&D(l=>{const x=[...l[y]||[]];return x.splice(s,0,r),{...l,[y]:x}})},autoHideDuration:5e3})},i=({m:s,idx:r,dragProvided:l})=>{const x=l.dragHandleProps,{onPointerDown:_,...X}=x||{},J=nt(G=>{_==null||_(G);const se=re(s.id);se&&(se.allowTouchMove=!1),ue(s.id)});return e.jsx(t,{ref:l.innerRef,...l.draggableProps,style:l.draggableProps.style,children:e.jsxs(tt,{onSwiper:G=>te(s.id,G),threshold:20,slidesPerView:"auto",style:{overflow:"hidden",width:"100%",minWidth:g},onTouchStart:(G,se)=>se.stopPropagation(),onTouchEnd:G=>ee(s.id,G),children:[e.jsx(de,{style:{width:"100%",minWidth:g,flex:"0 0 auto"},children:e.jsxs(t,{...X,...J,sx:{display:"flex",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",bgcolor:"background.paper",cursor:"grab",touchAction:ae===s.id?"none":"pan-y",width:"100%",minWidth:g},children:[!B&&e.jsx(t,{sx:{width:Yt},children:s.no}),e.jsx(t,{sx:{width:Jt,flexShrink:0,whiteSpace:"nowrap",overflow:"hidden"},children:s.name}),!B&&e.jsx(t,{sx:{width:Xt,whiteSpace:"nowrap",overflow:"hidden"},children:(s.positions||[]).join(", ")}),!B&&e.jsx(t,{sx:{width:Zt,display:"flex",justifyContent:"center"},children:s.visible===!1?e.jsx(Ve,{}):e.jsx(Ue,{})})]})}),e.jsx(de,{style:{width:Ie,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"primary.main"},children:e.jsx(le,{size:"small",onClick:()=>m(r),children:e.jsx(lt,{fontSize:"small",sx:{color:"common.white"}})})})}),e.jsx(de,{style:{width:Ie,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"error.main"},children:e.jsx(le,{size:"small",onClick:()=>L(r),children:e.jsx(ve,{fontSize:"small",sx:{color:"common.white"}})})})})]})})};return e.jsxs(e.Fragment,{children:[e.jsxs(t,{children:[e.jsx(t,{sx:{maxWidth:1024,mx:"auto"},children:e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"team-select-label",children:"チーム"}),e.jsx(Oe,{labelId:"team-select-label",value:y,label:"チーム",onChange:s=>R(s.target.value),children:p.map(s=>e.jsx(oe,{value:s.id,children:s.name},s.id))})]})}),e.jsx(t,{sx:{maxWidth:1024,mx:"auto",display:"flex",justifyContent:"flex-end",mt:2,mb:1},children:e.jsx(K,{onClick:Se,variant:"contained",startIcon:e.jsx(et,{}),children:"追加"})}),e.jsx(Ke,{component:Ge,storageKey:"members-grid",sx:{maxWidth:1024,mx:"auto"},children:e.jsx(Ne,{onDragEnd:ie,children:S?e.jsx(Te,{droppableId:"members",children:s=>{var r;return e.jsxs(t,{ref:s.innerRef,...s.droppableProps,children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",width:"100%",minWidth:g,...we},children:[!B&&e.jsx(t,{sx:{width:Yt},children:"番号"}),e.jsx(t,{sx:{width:Jt,flexShrink:0},children:"名前"}),!B&&e.jsx(t,{sx:{width:Xt},children:"ポジション"}),!B&&e.jsx(t,{sx:{width:Zt,textAlign:"center"},children:"表示"})]}),(r=j[y])==null?void 0:r.map((l,x)=>e.jsx(Re,{draggableId:l.id,index:x,children:_=>e.jsx(i,{m:l,idx:x,dragProvided:_})},l.id)),s.placeholder]})}}):e.jsxs(Xe,{size:"small",children:[e.jsx(Ze,{children:e.jsxs(be,{sx:{backgroundColor:s=>s.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(h,{}),e.jsx(h,{children:"番号"}),e.jsx(h,{children:"名前"}),!B&&e.jsx(h,{children:"ポジション"}),e.jsx(h,{children:"表示"}),e.jsx(h,{})]})}),e.jsx(Te,{droppableId:"members",children:s=>{var r;return e.jsxs(Qe,{ref:s.innerRef,...s.droppableProps,children:[(r=j[y])==null?void 0:r.map((l,x)=>e.jsx(Re,{draggableId:l.id,index:x,children:_=>e.jsxs(be,{ref:_.innerRef,..._.draggableProps,"data-index":x,onClick:()=>m(x),sx:{cursor:"pointer",height:50},children:[e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:X=>X.stopPropagation(),..._.dragHandleProps,sx:{cursor:"grab",display:"inline-flex",width:Ls,height:32,alignItems:"center",justifyContent:"center"},children:e.jsx(st,{})})}),e.jsx(h,{children:l.no}),e.jsx(h,{children:l.name}),!B&&e.jsx(h,{children:(l.positions||[]).join(", ")}),e.jsx(h,{children:l.visible===!1?e.jsx(Ve,{}):e.jsx(Ue,{})}),e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:X=>X.stopPropagation(),sx:{width:Ls,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(le,{size:"small",onClick:()=>L(x),sx:{width:24,height:24},children:e.jsx(ve,{fontSize:"small",color:"error"})})})})]})},l.id)),s.placeholder]})}})]})})})]}),e.jsxs(at,{open:u,onClose:C,children:[e.jsxs(Pe,{children:["メンバー",U===-1?"追加":"編集"]}),e.jsxs(Me,{children:[e.jsx(Ce,{label:"番号",type:"number",value:Y,onChange:s=>W(s.target.value),fullWidth:!0,margin:"dense"}),e.jsx(Ce,{label:"名前",value:V,onChange:s=>v(s.target.value),fullWidth:!0,margin:"dense"}),e.jsxs(De,{margin:"dense",fullWidth:!0,children:[e.jsx($e,{id:"positions-label",children:"ポジション"}),e.jsxs(Oe,{labelId:"positions-label",multiple:!0,value:I,label:"ポジション",onChange:s=>H(typeof s.target.value=="string"?s.target.value.split(","):s.target.value),renderValue:s=>s.join(", "),children:[e.jsx(oe,{value:"レフト",children:"レフト"}),e.jsx(oe,{value:"センター",children:"センター"}),e.jsx(oe,{value:"ライト",children:"ライト"}),e.jsx(oe,{value:"セッター",children:"セッター"}),e.jsx(oe,{value:"リベロ",children:"リベロ"})]})]}),e.jsxs(pt,{value:z?"visible":"hidden",exclusive:!0,onChange:(s,r)=>r&&P(r==="visible"),fullWidth:!0,sx:{display:"flex",mt:1},children:[e.jsxs(Ae,{value:"visible",sx:{flex:1,whiteSpace:"nowrap",display:"flex",alignItems:"center",justifyContent:"center"},children:[e.jsx(Ue,{sx:{mr:1}}),"表示"]}),e.jsxs(Ae,{value:"hidden",sx:{flex:1,whiteSpace:"nowrap",display:"flex",alignItems:"center",justifyContent:"center"},children:[e.jsx(Ve,{sx:{mr:1}}),"非表示"]})]})]}),e.jsxs(Ee,{children:[e.jsx(K,{onClick:C,startIcon:e.jsx(He,{}),color:"inherit",children:"キャンセル"}),e.jsx(K,{onClick:k,disabled:Y==="",startIcon:e.jsx(ze,{}),children:"OK"})]})]})]})}const Bs=!1;function zl({openAddPlayDialog:p,playCategories:j,setPlayCategories:D,openEditPlayDialog:y,scoreInput:R,renderIcon:b,rallyCategoryTags:U,handlePlayDelete:A,openAddDetailDialog:Y,playDetails:W,setPlayDetails:V,openEditDetailDialog:v,theme:I,rallyDetailTags:H,handleDetailDelete:z}){const P=m=>{if(re){const L=te(re);L&&(L.allowTouchMove=!0),ae("")}if(!m.destination)return;const k=Array.from(j),[C]=k.splice(m.source.index,1);k.splice(m.destination.index,0,C),D(k)},u=_t.useMemo(()=>{const m={};return j.forEach(k=>{m[k.id]=[]}),W.forEach((k,C)=>{(m[k.playCategoryId]||(m[k.playCategoryId]=[])).push(C)}),m},[j,W]),q=m=>{if(re){const _=te(re);_&&(_.allowTouchMove=!0),ae("")}const{source:k,destination:C}=m;if(!C||k.droppableId!==C.droppableId)return;const L=k.droppableId,i=L==="play-details"?Object.values(u).flat():u[L.replace("play-details-","")];if(!i)return;const s=i[k.index],r=i[C.index],l=Array.from(W),[x]=l.splice(s,1);l.splice(r,0,x),V(l)},S=Be("md"),B=Be("sm"),{handleTouchEnd:g,setSwiperRef:ee,getSwiperRef:te}=it(2),[re,ae]=_t.useState("");let ue=0;const ie=({p:m,idx:k,dragProvided:C})=>{const L=C.dragHandleProps,{onPointerDown:i,...s}=L||{},r=nt(l=>{i==null||i(l);const x=te(m.id);x&&(x.allowTouchMove=!1),ae(m.id)});return e.jsx(t,{ref:C.innerRef,...C.draggableProps,style:C.draggableProps.style,children:e.jsxs(tt,{onSwiper:l=>ee(m.id,l),threshold:20,slidesPerView:"auto",style:{overflow:"hidden"},onTouchStart:(l,x)=>x.stopPropagation(),onTouchEnd:l=>g(m.id,l),children:[e.jsx(de,{style:{width:"100%",flex:"0 0 auto"},children:e.jsxs(t,{...s,...r,sx:{display:"grid",gridTemplateColumns:B?"1fr":"1fr 1fr 1fr",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",bgcolor:"background.paper",touchAction:re===m.id?"none":"pan-y",cursor:"grab"},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[e.jsx(pe,{label:m.name,size:"small",variant:"outlined",sx:{backgroundColor:"transparent",borderColor:m.color,color:m.color}}),R.showRallyIcons&&e.jsx(t,{children:b(m)})]}),!B&&e.jsx(t,{sx:{display:"flex",gap:.5,flexWrap:"wrap"},children:(m.tags||[]).map(l=>{const x=U.find(X=>X.id===l),_=(x==null?void 0:x.color)||ge;return e.jsx(pe,{label:(x==null?void 0:x.name)||l,size:"small",sx:{backgroundColor:_,color:"#fff"}},l)})}),!B&&e.jsx(t,{sx:{display:"flex",alignItems:"center"},children:m.visible===!1?e.jsx(Ve,{}):e.jsx(Ue,{})})]})}),e.jsx(de,{style:{width:Ie,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"primary.main"},children:e.jsx(le,{size:"small",onClick:()=>y(k),children:e.jsx(lt,{fontSize:"small",sx:{color:"common.white"}})})})}),e.jsx(de,{style:{width:Ie,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"error.main"},children:e.jsx(le,{size:"small",onClick:()=>A(k),disabled:m.id==="init-serve",children:e.jsx(ve,{fontSize:"small",sx:{color:"common.white"}})})})})]})})},Se=({d:m,i:k,dragProvided:C})=>{const L=C.dragHandleProps,{onPointerDown:i,...s}=L||{},r=nt(l=>{i==null||i(l);const x=te(m.id);x&&(x.allowTouchMove=!1),ae(m.id)});return e.jsx(t,{ref:C.innerRef,...C.draggableProps,style:C.draggableProps.style,children:e.jsxs(tt,{onSwiper:l=>ee(m.id,l),threshold:20,slidesPerView:"auto",style:{overflow:"hidden"},onTouchStart:(l,x)=>x.stopPropagation(),onTouchEnd:l=>g(m.id,l),children:[e.jsx(de,{style:{width:"100%",flex:"0 0 auto"},children:e.jsxs(t,{...s,...r,sx:{display:"grid",gridTemplateColumns:B?"1fr":"1fr 1fr 1fr 1fr 0.3fr",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",bgcolor:"background.paper",touchAction:re===m.id?"none":"pan-y",cursor:"grab"},children:[e.jsx(t,{children:e.jsx(pe,{label:m.name,size:"small",sx:{backgroundColor:m.pointType==="得点"?I.scoreColor:I.lossColor,border:`1px solid ${m.pointType==="得点"?I.scoreColor:I.lossColor}`,color:"#fff"}})}),!B&&e.jsxs(e.Fragment,{children:[e.jsx(t,{children:m.pointType}),e.jsx(t,{children:m.pointUnitType}),e.jsx(t,{sx:{display:"flex",gap:.5,flexWrap:"wrap"},children:(m.tags||[]).map(l=>{const x=H.find(X=>X.id===l),_=(x==null?void 0:x.color)||ge;return e.jsx(pe,{label:(x==null?void 0:x.name)||l,size:"small",sx:{backgroundColor:_,color:"#fff"}},l)})}),e.jsx(t,{sx:{display:"flex",alignItems:"center"},children:m.visible===!1?e.jsx(Ve,{}):e.jsx(Ue,{})})]})]})}),e.jsx(de,{style:{width:Ie,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"primary.main"},children:e.jsx(le,{size:"small",onClick:()=>v(k),children:e.jsx(lt,{fontSize:"small",sx:{color:"common.white"}})})})}),e.jsx(de,{style:{width:Ie,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"error.main"},children:e.jsx(le,{size:"small",onClick:()=>z(k),children:e.jsx(ve,{fontSize:"small",sx:{color:"common.white"}})})})})]})})};return e.jsxs(t,{children:[e.jsx(t,{sx:{maxWidth:1024,mx:"auto",display:"flex",justifyContent:"flex-end",mb:1},children:e.jsx(K,{onClick:p,variant:"contained",startIcon:e.jsx(et,{}),children:"追加"})}),e.jsx(Ke,{component:Ge,storageKey:"play-category-grid",sx:{maxWidth:1024,mx:"auto"},children:S?e.jsx(Ne,{onDragEnd:P,children:e.jsx(Te,{droppableId:"play-categories",children:m=>e.jsxs(t,{ref:m.innerRef,...m.droppableProps,children:[e.jsxs(t,{sx:{display:"grid",gridTemplateColumns:B?"1fr":"1fr 1fr 1fr",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",...we},children:[e.jsx(t,{children:"プレー区分"}),!B&&e.jsxs(e.Fragment,{children:[e.jsx(t,{children:"ラリー区分タグ"}),e.jsx(t,{children:"表示"})]})]}),j.map((k,C)=>e.jsx(Re,{draggableId:k.id,index:C,children:L=>e.jsx(ie,{p:k,idx:C,dragProvided:L})},k.id)),m.placeholder]})})}):e.jsxs(Xe,{size:"small",sx:{minWidth:600},children:[e.jsx(Ze,{children:e.jsxs(be,{sx:{backgroundColor:m=>m.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(h,{sx:{width:48}}),e.jsx(h,{children:"プレー区分"}),Bs,R.showRallyIcons&&e.jsx(h,{children:"アイコン"}),e.jsx(h,{children:"タグ"}),e.jsx(h,{children:"表示"}),e.jsx(h,{})]})}),e.jsx(Ne,{onDragEnd:P,children:e.jsx(Te,{droppableId:"play-categories",children:m=>e.jsxs(Qe,{ref:m.innerRef,...m.droppableProps,children:[j.map((k,C)=>e.jsx(Re,{draggableId:k.id,index:C,children:L=>e.jsxs(be,{ref:L.innerRef,...L.draggableProps,"data-index":C,onClick:()=>y(C),sx:{cursor:"pointer",height:50},children:[e.jsx(h,{padding:"checkbox",sx:{width:48},children:e.jsx(t,{onClick:i=>i.stopPropagation(),...L.dragHandleProps,sx:{cursor:"grab",display:"inline-flex",width:32,height:32,alignItems:"center",justifyContent:"center"},children:e.jsx(st,{})})}),e.jsx(h,{children:e.jsx(pe,{label:k.name,size:"small",variant:"outlined",sx:{backgroundColor:"transparent",borderColor:k.color,color:k.color}})}),Bs,R.showRallyIcons&&e.jsx(h,{children:b(k)}),e.jsx(h,{children:(k.tags||[]).map(i=>{const s=U.find(l=>l.id===i),r=(s==null?void 0:s.color)||ge;return e.jsx(pe,{label:(s==null?void 0:s.name)||i,size:"small",sx:{mr:.5,mb:.5,backgroundColor:r,color:"#fff"}},i)})}),e.jsx(h,{children:k.visible===!1?e.jsx(Ve,{}):e.jsx(Ue,{})}),e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:i=>i.stopPropagation(),sx:{width:32,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(le,{size:"small",onClick:k.id==="init-serve"?void 0:()=>A(C),disabled:k.id==="init-serve",sx:{width:24,height:24},children:e.jsx(ve,{fontSize:"small",color:k.id==="init-serve"?"disabled":"error"})})})})]})},k.id)),m.placeholder]})})})]})}),e.jsx(t,{sx:{maxWidth:1024,mx:"auto",display:"flex",justifyContent:"flex-end",mb:1,mt:2},children:e.jsx(K,{onClick:Y,variant:"contained",startIcon:e.jsx(et,{}),children:"追加"})}),e.jsx(Ke,{component:Ge,storageKey:"play-detail-grid",sx:{maxWidth:1024,mx:"auto"},children:S?e.jsx(Ne,{onDragEnd:q,children:e.jsxs(t,{children:[e.jsxs(t,{sx:{display:"grid",gridTemplateColumns:B?"1fr":"1fr 1fr 1fr 1fr 0.3fr",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",...we},children:[e.jsx(t,{children:"プレー詳細"}),!B&&e.jsxs(e.Fragment,{children:[e.jsx(t,{children:"得点区分"}),e.jsx(t,{children:"得失点単位区分"}),e.jsx(t,{children:"タグ"}),e.jsx(t,{children:"表示"})]})]}),j.map(m=>{const k=W.map((C,L)=>({d:C,i:L})).filter(({d:C})=>C.playCategoryId===m.id);return e.jsxs(_t.Fragment,{children:[e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",px:1,borderBottom:1,borderColor:"divider",...we},children:m.name}),e.jsx(Te,{droppableId:`play-details-${m.id}`,children:C=>e.jsxs(t,{ref:C.innerRef,...C.droppableProps,children:[k.map(({d:L,i},s)=>e.jsx(Re,{draggableId:L.id,index:s,children:r=>e.jsx(Se,{d:L,i,dragProvided:r})},L.id)),C.placeholder]})})]},m.id)})]})}):e.jsxs(Xe,{size:"small",children:[e.jsx(Ze,{children:e.jsxs(be,{sx:{backgroundColor:m=>m.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(h,{}),e.jsx(h,{children:"プレー詳細"}),e.jsx(h,{children:"得点区分"}),e.jsx(h,{children:"得失点単位区分"}),e.jsx(h,{children:"タグ"}),e.jsx(h,{children:"表示"}),e.jsx(h,{})]})}),e.jsx(Ne,{onDragEnd:q,children:e.jsx(Te,{droppableId:"play-details",children:m=>e.jsxs(Qe,{ref:m.innerRef,...m.droppableProps,children:[j.map(k=>e.jsxs(_t.Fragment,{children:[e.jsx(be,{sx:{backgroundColor:C=>C.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:e.jsx(h,{colSpan:7,children:k.name})}),W.map((C,L)=>({d:C,i:L})).filter(({d:C})=>C.playCategoryId===k.id).map(({d:C,i:L})=>{const i=ue++;return e.jsx(Re,{draggableId:C.id,index:i,children:s=>e.jsxs(be,{ref:s.innerRef,...s.draggableProps,"data-index":L,onClick:()=>v(L),sx:{cursor:"pointer",height:50},children:[e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:r=>r.stopPropagation(),...s.dragHandleProps,sx:{cursor:"grab",display:"inline-flex",width:32,height:32,alignItems:"center",justifyContent:"center"},children:e.jsx(st,{})})}),e.jsx(h,{children:e.jsx(pe,{label:C.name,size:"small",sx:{backgroundColor:C.pointType==="得点"?I.scoreColor:I.lossColor,border:`1px solid ${C.pointType==="得点"?I.scoreColor:I.lossColor}`,color:"#fff"}})}),e.jsx(h,{children:C.pointType}),e.jsx(h,{children:C.pointUnitType}),e.jsx(h,{children:(C.tags||[]).map(r=>{const l=H.find(_=>_.id===r),x=(l==null?void 0:l.color)||ge;return e.jsx(pe,{label:(l==null?void 0:l.name)||r,size:"small",sx:{mr:.5,mb:.5,backgroundColor:x,color:"#fff"}},r)})}),e.jsx(h,{children:C.visible===!1?e.jsx(Ve,{}):e.jsx(Ue,{})}),e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:r=>r.stopPropagation(),sx:{width:32,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(le,{size:"small",onClick:()=>z(L),sx:{width:24,height:24},children:e.jsx(ve,{fontSize:"small",color:"error"})})})})]})},C.id)})]},k.id)),m.placeholder]})})})]})})]})}var ys={},$l=fe;Object.defineProperty(ys,"__esModule",{value:!0});var ss=ys.default=void 0,Hl=$l(je()),Al=e;ss=ys.default=(0,Hl.default)((0,Al.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy");function Wl({open:p,playCategories:j,playDetails:D,initial:y,onSave:R,onClose:b}){const[U,A]=o.useState(""),[Y,W]=o.useState(""),[V,v]=o.useState(""),[I,H]=o.useState("");o.useEffect(()=>{if(y){const S=D.find(g=>g.id===y.sourceDetailId),B=D.find(g=>g.id===y.targetDetailId);A((S==null?void 0:S.playCategoryId)||""),W(y.sourceDetailId),v((B==null?void 0:B.playCategoryId)||""),H(y.targetDetailId)}else A(""),W(""),v(""),H("")},[y,D]);const z=()=>{R({enabled:(y==null?void 0:y.enabled)??!0,sourceDetailId:Y,targetDetailId:I})},P=D.filter(S=>S.playCategoryId===U&&S.visible!==!1),u=D.filter(S=>S.playCategoryId===V&&S.visible!==!1),q=!Y||!I;return e.jsxs(dt,{open:p,onClose:b,fullWidth:!0,children:[e.jsxs(Pe,{children:["組み合わせ",y?"編集":"追加"]}),e.jsxs(Me,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(t,{sx:{display:"flex",gap:2},children:[e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"source-cat",children:"自チームプレー区分"}),e.jsx(Oe,{labelId:"source-cat",value:U,label:"自チームプレー区分",onChange:S=>{A(S.target.value),W("")},children:j.filter(S=>S.visible!==!1).map(S=>e.jsx(oe,{value:S.id,children:S.name},S.id))})]}),e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"target-cat",children:"相手プレー区分"}),e.jsx(Oe,{labelId:"target-cat",value:V,label:"相手プレー区分",onChange:S=>{v(S.target.value),H("")},children:j.filter(S=>S.visible!==!1).map(S=>e.jsx(oe,{value:S.id,children:S.name},S.id))})]})]}),e.jsxs(t,{sx:{display:"flex",gap:2},children:[e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"source-detail",children:"自チームプレー詳細"}),e.jsx(Oe,{labelId:"source-detail",value:Y,label:"自チームプレー詳細",onChange:S=>W(S.target.value),children:P.map(S=>e.jsx(oe,{value:S.id,children:S.name},S.id))})]}),e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"target-detail",children:"相手プレー詳細"}),e.jsx(Oe,{labelId:"target-detail",value:I,label:"相手プレー詳細",onChange:S=>H(S.target.value),children:u.map(S=>e.jsx(oe,{value:S.id,children:S.name},S.id))})]})]})]}),e.jsxs(Ee,{children:[e.jsx(K,{onClick:b,color:"inherit",children:"キャンセル"}),e.jsx(K,{onClick:()=>{z(),b()},disabled:q,children:"保存"})]})]})}function Nl({playCombinationSetting:p,onChange:j,playCategories:D,playDetails:y,showSnackbar:R}){const[b,U]=o.useState([...p.pairs]),[A,Y]=o.useState(p.enabled),[W,V]=o.useState(!1),[v,I]=o.useState(null),H=qs(),z=Be("md"),{handleTouchEnd:P,setSwiperRef:u,getSwiperRef:q}=it(3),[S,B]=o.useState(""),g=(i,s=A)=>{Y(s),typeof i=="function"?U(r=>{const l=i(r);return j({enabled:s,pairs:l}),l}):(U(i),j({enabled:s,pairs:i}))},ee=i=>{if(S){const l=q(S);l&&(l.allowTouchMove=!0),B("")}if(!i.destination)return;const s=Array.from(b),[r]=s.splice(i.source.index,1);s.splice(i.destination.index,0,r),g(s)},te=i=>{g([...b,i])},re=(i,s)=>{const r=[...b];r[i]=s,g(r)},ae=i=>{const s=b[i];g(b.filter((r,l)=>l!==i)),R("組み合わせを削除しました","success",{actionLabel:"元に戻す",onAction:()=>g(r=>{const l=[...r];return l.splice(i,0,s),l}),autoHideDuration:5e3})},ue=i=>{g([...b,{...b[i]}])},ie=({p:i,idx:s,sDetail:r,tDetail:l,prov:x})=>{var _,X,J,G;return e.jsxs(t,{ref:x.innerRef,...x.draggableProps,onClick:()=>{I(s),V(!0)},sx:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",alignItems:"center",p:1,borderBottom:1,borderColor:"divider",cursor:"pointer"},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1,minWidth:0},children:[e.jsx(t,{...x.dragHandleProps,sx:{display:"flex",alignItems:"center"},children:e.jsx(st,{})}),e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:.5,alignItems:"flex-start",minWidth:0},children:[e.jsx(ot,{label:C((r==null?void 0:r.playCategoryId)||""),variant:"outlined",sx:{bgcolor:"transparent",color:(_=k((r==null?void 0:r.playCategoryId)||""))==null?void 0:_.color,borderColor:(X=k((r==null?void 0:r.playCategoryId)||""))==null?void 0:X.color}}),e.jsx(ot,{label:(r==null?void 0:r.name)||"",sx:{bgcolor:L(r),color:"common.white"}})]})]}),e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:.5,alignItems:"flex-start",minWidth:0},children:[e.jsx(ot,{label:C((l==null?void 0:l.playCategoryId)||""),variant:"outlined",sx:{bgcolor:"transparent",color:(J=k((l==null?void 0:l.playCategoryId)||""))==null?void 0:J.color,borderColor:(G=k((l==null?void 0:l.playCategoryId)||""))==null?void 0:G.color}}),e.jsx(ot,{label:(l==null?void 0:l.name)||"",sx:{bgcolor:L(l),color:"common.white"}})]}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1,justifyContent:"flex-start",justifySelf:"flex-start",width:1,minWidth:0},children:[e.jsx(vt,{sx:{ml:0},checked:i.enabled,onChange:se=>{const ye=[...b];ye[s]={...i,enabled:se.target.checked},g(ye)}}),e.jsx(le,{size:"small",sx:{ml:"auto"},onClick:se=>{se.stopPropagation(),ue(s)},children:e.jsx(ss,{fontSize:"small"})}),e.jsx(le,{size:"small",onClick:se=>{se.stopPropagation(),ae(s)},children:e.jsx(ve,{fontSize:"small",color:"error"})})]})]})},Se=({p:i,idx:s,sDetail:r,tDetail:l,prov:x})=>{var w,F,$,N;const _=String(s),X=o.useRef(null),[J,G]=o.useState(0);o.useLayoutEffect(()=>{var Q;const ne=((Q=X.current)==null?void 0:Q.offsetHeight)??0;ne&&ne!==J&&G(ne)},[r,l,J]);const se=x.dragHandleProps,{onPointerDown:ye,...n}=se||{},d=nt(ne=>{ye==null||ye(ne);const Q=q(_);Q&&(Q.allowTouchMove=!1),B(_)});return e.jsx(t,{ref:x.innerRef,...x.draggableProps,children:e.jsxs(tt,{onSwiper:ne=>u(_,ne),threshold:20,slidesPerView:"auto",style:{overflow:"hidden",height:J||void 0},onTouchStart:(ne,Q)=>Q.stopPropagation(),onTouchEnd:ne=>P(_,ne),children:[e.jsx(de,{style:{width:"100%",flex:"0 0 auto"},children:e.jsxs(t,{ref:X,...n,...d,sx:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",alignItems:"center",p:1,borderBottom:1,borderColor:"divider",bgcolor:"background.paper",touchAction:S===_?"none":"pan-y",cursor:"grab"},children:[e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:.5,alignItems:"flex-start",minWidth:0},children:[e.jsx(ot,{label:C((r==null?void 0:r.playCategoryId)||""),variant:"outlined",sx:{bgcolor:"transparent",color:(w=k((r==null?void 0:r.playCategoryId)||""))==null?void 0:w.color,borderColor:(F=k((r==null?void 0:r.playCategoryId)||""))==null?void 0:F.color}}),e.jsx(ot,{label:(r==null?void 0:r.name)||"",sx:{bgcolor:L(r),color:"common.white"}})]}),e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:.5,alignItems:"flex-start",minWidth:0},children:[e.jsx(ot,{label:C((l==null?void 0:l.playCategoryId)||""),variant:"outlined",sx:{bgcolor:"transparent",color:($=k((l==null?void 0:l.playCategoryId)||""))==null?void 0:$.color,borderColor:(N=k((l==null?void 0:l.playCategoryId)||""))==null?void 0:N.color}}),e.jsx(ot,{label:(l==null?void 0:l.name)||"",sx:{bgcolor:L(l),color:"common.white"}})]}),e.jsx(t,{sx:{display:"flex",justifyContent:"flex-start",justifySelf:"flex-start",width:1,minWidth:0},children:e.jsx(vt,{sx:{ml:0},checked:i.enabled,onChange:ne=>{const Q=[...b];Q[s]={...i,enabled:ne.target.checked},g(Q)}})})]})}),e.jsx(de,{style:{width:Ie,flex:"0 0 auto",height:J||void 0},children:e.jsx(t,{sx:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"primary.main"},children:e.jsx(le,{size:"small",onClick:()=>{I(s),V(!0)},children:e.jsx(lt,{fontSize:"small",sx:{color:"common.white"}})})})}),e.jsx(de,{style:{width:Ie,flex:"0 0 auto",height:J||void 0},children:e.jsx(t,{sx:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"secondary.main"},children:e.jsx(le,{size:"small",onClick:()=>{ue(s)},children:e.jsx(ss,{fontSize:"small",sx:{color:"common.white"}})})})}),e.jsx(de,{style:{width:Ie,flex:"0 0 auto",height:J||void 0},children:e.jsx(t,{sx:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"error.main"},children:e.jsx(le,{size:"small",onClick:()=>{ae(s)},children:e.jsx(ve,{fontSize:"small",sx:{color:"common.white"}})})})})]})})},m=i=>y.find(s=>s.id===i),k=i=>D.find(s=>s.id===i),C=i=>{var s;return((s=k(i))==null?void 0:s.name)||""},L=i=>(i==null?void 0:i.pointType)==="得点"?H.palette.success.main:(i==null?void 0:i.pointType)==="失点"?H.palette.error.main:void 0;return e.jsxs(t,{children:[e.jsxs(t,{sx:{display:"flex",flexDirection:"row",gap:.5,mb:1,maxWidth:1024,justifyContent:"space-between",margin:"auto"},children:[e.jsxs(t,{children:[e.jsx(vt,{checked:A,onChange:i=>g(b,i.target.checked)}),"自動反映"]}),e.jsx(K,{onClick:()=>{I(null),V(!0)},variant:"contained",startIcon:e.jsx(et,{}),children:"追加"})]}),e.jsx(Ke,{component:Ge,storageKey:"play-combination-grid",sx:{maxWidth:1024,mx:"auto"},children:e.jsx(Ne,{onDragEnd:ee,children:e.jsx(Te,{droppableId:"pairs",children:i=>e.jsxs(t,{ref:i.innerRef,...i.droppableProps,children:[e.jsxs(t,{sx:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",borderTopLeftRadius:s=>s.shape.borderRadius,borderTopRightRadius:s=>s.shape.borderRadius,...we},children:[e.jsx(t,{sx:{minWidth:0,pl:z?0:4},children:"入力"}),e.jsx(t,{sx:{minWidth:0},children:"相手"}),e.jsx(t,{sx:{minWidth:0},children:"ON/OFF"})]}),b.map((s,r)=>{const l=m(s.sourceDetailId),x=m(s.targetDetailId);return e.jsx(Re,{draggableId:`pc-${r}`,index:r,children:_=>z?e.jsx(Se,{p:s,idx:r,sDetail:l,tDetail:x,prov:_}):e.jsx(ie,{p:s,idx:r,sDetail:l,tDetail:x,prov:_})},r)}),i.placeholder]})})})}),e.jsx(gt,{severity:"info",sx:{mt:2,maxWidth:1024,mx:"auto"},children:"「プレー組み合わせ」機能を有効にすると、片方のチームでプレー詳細を選択した際に、ここで有効化した組み合わせに従って相手側のプレーが自動入力されます。"}),e.jsx(Wl,{open:W,playCategories:D,playDetails:y,initial:v!==null?b[v]:void 0,onSave:i=>{v===null?te(i):re(v,i)},onClose:()=>V(!1)})]})}const Fs=!1,Us=!1,Vs=!1;function Ll({tags:p,setTags:j,rallyCategoryTags:D,setRallyCategoryTags:y,rallyDetailTags:R,setRallyDetailTags:b,setMatches:U,setPlayCategories:A,setPlayDetails:Y,showSnackbar:W}){const[V,v]=o.useState(null),[I,H]=o.useState(""),[z,P]=o.useState(ge),[u,q]=o.useState(!1),[S,B]=o.useState(null),[g,ee]=o.useState(""),[te,re]=o.useState(ge),[ae,ue]=o.useState(!1),[ie,Se]=o.useState(null),[m,k]=o.useState(""),[C,L]=o.useState(ge),[i,s]=o.useState(!1),r=Be("md"),{handleTouchEnd:l,setSwiperRef:x,getSwiperRef:_}=it(2),{handleTouchEnd:X,setSwiperRef:J,getSwiperRef:G}=it(2),{handleTouchEnd:se,setSwiperRef:ye,getSwiperRef:n}=it(2),[d,w]=o.useState(""),[F,$]=o.useState(""),[N,ne]=o.useState(""),Q=c=>{if(d){const O=_(d);O&&(O.allowTouchMove=!0),w("")}if(!c.destination)return;const f=Array.from(p),[E]=f.splice(c.source.index,1);f.splice(c.destination.index,0,E),j(f)},ce=c=>{if(F){const O=G(F);O&&(O.allowTouchMove=!0),$("")}if(!c.destination)return;const f=Array.from(D),[E]=f.splice(c.source.index,1);f.splice(c.destination.index,0,E),y(f)},qe=c=>{if(N){const O=n(N);O&&(O.allowTouchMove=!0),ne("")}if(!c.destination)return;const f=Array.from(R),[E]=f.splice(c.source.index,1);f.splice(c.destination.index,0,E),b(f)},ft=()=>{v(-1),H(""),P(ge),q(!0)},It=c=>{v(c),H(p[c].name),P(p[c].color),q(!0)},xt=()=>{V===-1?j(c=>[...c,{id:crypto.randomUUID(),name:I,color:z}]):V!==null&&j(c=>c.map((f,E)=>E===V?{...f,name:I,color:z}:f)),q(!1)},ht=()=>{q(!1)},jt=c=>{const f=p[c];let E=[];j(O=>O.filter((M,xe)=>xe!==c)),U(O=>(E=O.map(M=>({...M,tags:[...M.tags]})),O.map(M=>({...M,tags:M.tags.filter(xe=>xe!==f.id)})))),W("試合タグを削除しました","success",{actionLabel:"元に戻す",onAction:()=>{j(O=>{const M=[...O];return M.splice(c,0,f),M}),U(()=>E)},autoHideDuration:5e3})},Pt=()=>{B(-1),ee(""),re(ge),ue(!0)},ut=c=>{B(c),ee(D[c].name),re(D[c].color),ue(!0)},Le=()=>{S===-1?y(c=>[...c,{id:crypto.randomUUID(),name:g,color:te}]):S!==null&&y(c=>c.map((f,E)=>E===S?{...f,name:g,color:te}:f)),ue(!1)},Fe=()=>{ue(!1)},rt=c=>{const f=D[c];let E=[];y(O=>O.filter((M,xe)=>xe!==c)),A(O=>(E=O.map(M=>({...M,tags:[...M.tags||[]]})),O.map(M=>({...M,tags:(M.tags||[]).filter(xe=>xe!==f.id)})))),W("プレー区分タグを削除しました","success",{actionLabel:"元に戻す",onAction:()=>{y(O=>{const M=[...O];return M.splice(c,0,f),M}),A(()=>E)},autoHideDuration:5e3})},Mt=()=>{Se(-1),k(""),L(ge),s(!0)},Ye=c=>{Se(c),k(R[c].name),L(R[c].color),s(!0)},Et=()=>{ie===-1?b(c=>[...c,{id:crypto.randomUUID(),name:m,color:C}]):ie!==null&&b(c=>c.map((f,E)=>E===ie?{...f,name:m,color:C}:f)),s(!1)},We=()=>{s(!1)},St=c=>{const f=R[c];let E=[];b(O=>O.filter((M,xe)=>xe!==c)),Y(O=>(E=O.map(M=>({...M,tags:[...M.tags||[]]})),O.map(M=>({...M,tags:(M.tags||[]).filter(xe=>xe!==f.id)})))),W("プレー詳細タグを削除しました","success",{actionLabel:"元に戻す",onAction:()=>{b(O=>{const M=[...O];return M.splice(c,0,f),M}),Y(()=>E)},autoHideDuration:5e3})};return e.jsxs(e.Fragment,{children:[e.jsxs(t,{children:[e.jsxs(t,{sx:{maxWidth:1024,mx:"auto",display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[e.jsx(t,{sx:{fontWeight:"bold"},children:"試合タグ"}),e.jsx(K,{onClick:ft,variant:"contained",startIcon:e.jsx(et,{}),children:"追加"})]}),e.jsx(Ke,{component:Ge,storageKey:"match-tag-grid",sx:{maxWidth:1024,mx:"auto"},children:e.jsx(Ne,{onDragEnd:Q,children:r?e.jsx(Te,{droppableId:"match-tags",children:c=>e.jsxs(t,{ref:c.innerRef,...c.droppableProps,children:[e.jsx(t,{sx:{display:"flex",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",...we},children:e.jsx(t,{sx:{flexGrow:1},children:"タグ名称"})}),p.map((f,E)=>e.jsx(Re,{draggableId:f.id,index:E,children:O=>{const M=O.dragHandleProps,{onPointerDown:xe,...Je}=M||{},ct=nt(he=>{xe==null||xe(he);const _e=_(f.id);_e&&(_e.allowTouchMove=!1),w(f.id)});return e.jsx(t,{ref:O.innerRef,...O.draggableProps,style:O.draggableProps.style,children:e.jsxs(tt,{onSwiper:he=>x(f.id,he),threshold:20,slidesPerView:"auto",style:{overflow:"hidden"},onTouchStart:(he,_e)=>_e.stopPropagation(),onTouchEnd:he=>l(f.id,he),children:[e.jsx(de,{style:{width:"100%",flex:"0 0 auto"},children:e.jsx(t,{...Je,...ct,sx:{display:"flex",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",bgcolor:"background.paper",cursor:"grab",touchAction:d===f.id?"none":"pan-y"},children:e.jsx(t,{sx:{flexGrow:1},children:e.jsx(pe,{label:f.name,size:"small",sx:{backgroundColor:f.color,border:`1px solid ${f.color}`,color:"#fff"}})})})}),e.jsx(de,{style:{width:Ie,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"primary.main"},children:e.jsx(le,{size:"small",onClick:()=>It(E),children:e.jsx(lt,{fontSize:"small",sx:{color:"common.white"}})})})}),e.jsx(de,{style:{width:Ie,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"error.main"},children:e.jsx(le,{size:"small",onClick:()=>jt(E),children:e.jsx(ve,{fontSize:"small",sx:{color:"common.white"}})})})})]})})}},f.id)),c.placeholder]})}):e.jsxs(Xe,{size:"small",children:[e.jsx(Ze,{children:e.jsxs(be,{sx:{backgroundColor:c=>c.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(h,{}),e.jsx(h,{children:"タグ名称"}),Fs,e.jsx(h,{})]})}),e.jsx(Te,{droppableId:"match-tags",children:c=>e.jsxs(Qe,{ref:c.innerRef,...c.droppableProps,children:[p.map((f,E)=>e.jsx(Re,{draggableId:f.id,index:E,children:O=>e.jsxs(be,{ref:O.innerRef,...O.draggableProps,"data-index":E,onClick:()=>It(E),sx:{cursor:"pointer",height:50},children:[e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:M=>M.stopPropagation(),...O.dragHandleProps,sx:{cursor:"grab",display:"inline-flex",width:32,height:32,alignItems:"center",justifyContent:"center"},children:e.jsx(st,{})})}),e.jsx(h,{children:e.jsx(pe,{label:f.name,size:"small",sx:{backgroundColor:f.color,border:`1px solid ${f.color}`,color:"#fff"}})}),Fs,e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:M=>M.stopPropagation(),sx:{width:32,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(le,{size:"small",onClick:()=>jt(E),sx:{width:24,height:24},children:e.jsx(ve,{fontSize:"small",color:"error"})})})})]})},f.id)),c.placeholder]})})]})})}),e.jsxs(t,{sx:{maxWidth:1024,mx:"auto",display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,mt:2},children:[e.jsx(t,{sx:{fontWeight:"bold"},children:"プレー区分タグ"}),e.jsx(K,{onClick:Pt,variant:"contained",startIcon:e.jsx(et,{}),children:"追加"})]}),e.jsx(Ke,{component:Ge,storageKey:"play-category-tag-grid",sx:{maxWidth:1024,mx:"auto"},children:e.jsx(Ne,{onDragEnd:ce,children:r?e.jsx(Te,{droppableId:"rally-category-tags",children:c=>e.jsxs(t,{ref:c.innerRef,...c.droppableProps,children:[e.jsx(t,{sx:{display:"flex",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",...we},children:e.jsx(t,{sx:{flexGrow:1},children:"タグ名称"})}),D.map((f,E)=>e.jsx(Re,{draggableId:f.id,index:E,children:O=>{const M=O.dragHandleProps,{onPointerDown:xe,...Je}=M||{},ct=nt(he=>{xe==null||xe(he);const _e=G(f.id);_e&&(_e.allowTouchMove=!1),$(f.id)});return e.jsx(t,{ref:O.innerRef,...O.draggableProps,style:O.draggableProps.style,children:e.jsxs(tt,{onSwiper:he=>J(f.id,he),threshold:20,slidesPerView:"auto",style:{overflow:"hidden"},onTouchStart:(he,_e)=>_e.stopPropagation(),onTouchEnd:he=>X(f.id,he),children:[e.jsx(de,{style:{width:"100%",flex:"0 0 auto"},children:e.jsx(t,{...Je,...ct,sx:{display:"flex",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",bgcolor:"background.paper",cursor:"grab",touchAction:F===f.id?"none":"pan-y"},children:e.jsx(t,{sx:{flexGrow:1},children:e.jsx(pe,{label:f.name,size:"small",sx:{backgroundColor:f.color,border:`1px solid ${f.color}`,color:"#fff"}})})})}),e.jsx(de,{style:{width:Ie,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"primary.main"},children:e.jsx(le,{size:"small",onClick:()=>ut(E),children:e.jsx(lt,{fontSize:"small",sx:{color:"common.white"}})})})}),e.jsx(de,{style:{width:Ie,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"error.main"},children:e.jsx(le,{size:"small",onClick:()=>rt(E),children:e.jsx(ve,{fontSize:"small",sx:{color:"common.white"}})})})})]})})}},f.id)),c.placeholder]})}):e.jsxs(Xe,{size:"small",children:[e.jsx(Ze,{children:e.jsxs(be,{sx:{backgroundColor:c=>c.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(h,{}),e.jsx(h,{children:"タグ名称"}),Us,e.jsx(h,{})]})}),e.jsx(Te,{droppableId:"rally-category-tags",children:c=>e.jsxs(Qe,{ref:c.innerRef,...c.droppableProps,children:[D.map((f,E)=>e.jsx(Re,{draggableId:f.id,index:E,children:O=>e.jsxs(be,{ref:O.innerRef,...O.draggableProps,"data-index":E,onClick:()=>ut(E),sx:{cursor:"pointer",height:50},children:[e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:M=>M.stopPropagation(),...O.dragHandleProps,sx:{cursor:"grab",display:"inline-flex",width:32,height:32,alignItems:"center",justifyContent:"center"},children:e.jsx(st,{})})}),e.jsx(h,{children:e.jsx(pe,{label:f.name,size:"small",sx:{backgroundColor:f.color,border:`1px solid ${f.color}`,color:"#fff"}})}),Us,e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:M=>M.stopPropagation(),sx:{width:32,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(le,{size:"small",onClick:()=>rt(E),sx:{width:24,height:24},children:e.jsx(ve,{fontSize:"small",color:"error"})})})})]})},f.id)),c.placeholder]})})]})})}),e.jsxs(t,{sx:{maxWidth:1024,mx:"auto",display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,mt:2},children:[e.jsx(t,{sx:{fontWeight:"bold"},children:"プレー詳細タグ"}),e.jsx(K,{onClick:Mt,variant:"contained",startIcon:e.jsx(et,{}),children:"追加"})]}),e.jsx(Ke,{component:Ge,storageKey:"play-detail-tag-grid",sx:{maxWidth:1024,mx:"auto"},children:e.jsx(Ne,{onDragEnd:qe,children:r?e.jsx(Te,{droppableId:"rally-detail-tags",children:c=>e.jsxs(t,{ref:c.innerRef,...c.droppableProps,children:[e.jsx(t,{sx:{display:"flex",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",...we},children:e.jsx(t,{sx:{flexGrow:1},children:"タグ名称"})}),R.map((f,E)=>e.jsx(Re,{draggableId:f.id,index:E,children:O=>{const M=O.dragHandleProps,{onPointerDown:xe,...Je}=M||{},ct=nt(he=>{xe==null||xe(he);const _e=n(f.id);_e&&(_e.allowTouchMove=!1),ne(f.id)});return e.jsx(t,{ref:O.innerRef,...O.draggableProps,style:O.draggableProps.style,children:e.jsxs(tt,{onSwiper:he=>ye(f.id,he),threshold:20,slidesPerView:"auto",style:{overflow:"hidden"},onTouchStart:(he,_e)=>_e.stopPropagation(),onTouchEnd:he=>se(f.id,he),children:[e.jsx(de,{style:{width:"100%",flex:"0 0 auto"},children:e.jsx(t,{...Je,...ct,sx:{display:"flex",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",bgcolor:"background.paper",cursor:"grab",touchAction:N===f.id?"none":"pan-y"},children:e.jsx(t,{sx:{flexGrow:1},children:e.jsx(pe,{label:f.name,size:"small",sx:{backgroundColor:f.color,border:`1px solid ${f.color}`,color:"#fff"}})})})}),e.jsx(de,{style:{width:Ie,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"primary.main"},children:e.jsx(le,{size:"small",onClick:()=>Ye(E),children:e.jsx(lt,{fontSize:"small",sx:{color:"common.white"}})})})}),e.jsx(de,{style:{width:Ie,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"error.main"},children:e.jsx(le,{size:"small",onClick:()=>St(E),children:e.jsx(ve,{fontSize:"small",sx:{color:"common.white"}})})})})]})})}},f.id)),c.placeholder]})}):e.jsxs(Xe,{size:"small",children:[e.jsx(Ze,{children:e.jsxs(be,{sx:{backgroundColor:c=>c.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(h,{}),e.jsx(h,{children:"タグ名称"}),Vs,e.jsx(h,{})]})}),e.jsx(Te,{droppableId:"rally-detail-tags",children:c=>e.jsxs(Qe,{ref:c.innerRef,...c.droppableProps,children:[R.map((f,E)=>e.jsx(Re,{draggableId:f.id,index:E,children:O=>e.jsxs(be,{ref:O.innerRef,...O.draggableProps,"data-index":E,onClick:()=>Ye(E),sx:{cursor:"pointer",height:50},children:[e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:M=>M.stopPropagation(),...O.dragHandleProps,sx:{cursor:"grab",display:"inline-flex",width:32,height:32,alignItems:"center",justifyContent:"center"},children:e.jsx(st,{})})}),e.jsx(h,{children:e.jsx(pe,{label:f.name,size:"small",sx:{backgroundColor:f.color,border:`1px solid ${f.color}`,color:"#fff"}})}),Vs,e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:M=>M.stopPropagation(),sx:{width:32,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(le,{size:"small",onClick:()=>St(E),sx:{width:24,height:24},children:e.jsx(ve,{fontSize:"small",color:"error"})})})})]})},f.id)),c.placeholder]})})]})})})]}),e.jsxs(at,{open:u,onClose:ht,children:[e.jsxs(Pe,{children:["タグ",V===-1?"追加":"編集"]}),e.jsxs(Me,{sx:{mt:2},children:[e.jsx(Ce,{label:"タグ名称",value:I,onChange:c=>H(c.target.value),fullWidth:!0,margin:"dense"}),e.jsx(Ce,{label:"色",type:"color",value:z,onChange:c=>P(c.target.value),fullWidth:!0,margin:"dense",InputLabelProps:{shrink:!0},sx:{mt:2}})]}),e.jsxs(Ee,{children:[e.jsx(K,{onClick:ht,startIcon:e.jsx(He,{}),color:"inherit",children:"キャンセル"}),e.jsx(K,{onClick:xt,disabled:I.trim()==="",startIcon:e.jsx(ze,{}),children:"OK"})]})]}),e.jsxs(at,{open:ae,onClose:Fe,children:[e.jsxs(Pe,{children:["タグ",S===-1?"追加":"編集"]}),e.jsxs(Me,{sx:{mt:2},children:[e.jsx(Ce,{label:"タグ名称",value:g,onChange:c=>ee(c.target.value),fullWidth:!0,margin:"dense"}),e.jsx(Ce,{label:"色",type:"color",value:te,onChange:c=>re(c.target.value),fullWidth:!0,margin:"dense",InputLabelProps:{shrink:!0},sx:{mt:2}})]}),e.jsxs(Ee,{children:[e.jsx(K,{onClick:Fe,startIcon:e.jsx(He,{}),color:"inherit",children:"キャンセル"}),e.jsx(K,{onClick:Le,disabled:g.trim()==="",startIcon:e.jsx(ze,{}),children:"OK"})]})]}),e.jsxs(at,{open:i,onClose:We,children:[e.jsxs(Pe,{children:["タグ",ie===-1?"追加":"編集"]}),e.jsxs(Me,{sx:{mt:2},children:[e.jsx(Ce,{label:"タグ名称",value:m,onChange:c=>k(c.target.value),fullWidth:!0,margin:"dense"}),e.jsx(Ce,{label:"色",type:"color",value:C,onChange:c=>L(c.target.value),fullWidth:!0,margin:"dense",InputLabelProps:{shrink:!0},sx:{mt:2}})]}),e.jsxs(Ee,{children:[e.jsx(K,{onClick:We,startIcon:e.jsx(He,{}),color:"inherit",children:"キャンセル"}),e.jsx(K,{onClick:Et,disabled:m.trim()==="",startIcon:e.jsx(ze,{}),children:"OK"})]})]})]})}const Bl=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)+Date.now().toString(36);function Fl({statsSettings:p,setStatsSettings:j,playCategories:D,playDetails:y,rallyCategoryTags:R,rallyDetailTags:b,showSnackbar:U}){const[A,Y]=o.useState(null),[W,V]=o.useState(""),[v,I]=o.useState(""),[H,z]=o.useState([]),[P,u]=o.useState([]),[q,S]=o.useState(""),[B,g]=o.useState(""),[ee,te]=o.useState("合算"),[re,ae]=o.useState(!1),ue=Be("md"),ie=Be("sm"),{handleTouchEnd:Se,setSwiperRef:m,getSwiperRef:k}=it(2),[C,L]=o.useState(""),i=n=>{if(C){const F=k(C);F&&(F.allowTouchMove=!0),L("")}if(!n.destination)return;const d=Array.from(p),[w]=d.splice(n.source.index,1);d.splice(n.destination.index,0,w),j(d)},s=n=>{var d;return((d=D.find(w=>w.id===n))==null?void 0:d.name)||""},r=n=>{var d;return((d=y.find(w=>w.id===n))==null?void 0:d.name)||""},l=n=>{const d=n.playCategoryId?s(n.playCategoryId):n.playCategoryTags?n.playCategoryTags.map(ne=>{var Q;return((Q=R.find(ce=>ce.id===ne))==null?void 0:Q.name)||ne}).join(", "):"",w=n.playDetailId?r(n.playDetailId):n.playDetailTags?n.playDetailTags.map(ne=>{var Q;return((Q=b.find(ce=>ce.id===ne))==null?void 0:Q.name)||ne}).join(", "):"",F=n.pointType||"",$=n.pointUnitType||"",N=n.aggregateType||"合算";return[d,w,F,$,N].filter(ne=>ne).join(", ")},x=()=>{Y(-1),V(""),I(""),z([]),u([]),S(""),g(""),te("合算"),ae(!0)},_=n=>{const d=p[n];Y(n),V(d.playCategoryId||""),I(d.playDetailId||""),z(d.playCategoryTags||[]),u(d.playDetailTags||[]),S(d.pointType||""),g(d.pointUnitType||""),te(d.aggregateType||"合算"),ae(!0)},X=()=>{const n=W!=="",d=v!=="",w=H.length>0,F=P.length>0,$=q!=="",N=B!=="";return n&&!d&&!w&&!F&&!$&&!N||n&&d&&!w&&!F&&!$&&!N||n&&!d&&!w&&!F&&$&&!N||n&&!d&&!w&&!F&&!$&&N||n&&!d&&!w&&!F&&$&&N||!n&&!d&&!w&&!F&&$&&!N||!n&&!d&&!w&&!F&&$&&N||!n&&!d&&!w&&!F&&!$&&N||w&&!n&&!d&&!F&&!$&&!N||w&&F&&!n&&!d&&!$&&!N||w&&F&&!n&&!d&&$&&!N||w&&F&&!n&&!d&&!$&&N||w&&F&&!n&&!d&&$&&N||w&&!n&&!d&&$&&!N||w&&!n&&!d&&!$&&N||w&&!n&&!d&&$&&N||F&&!n&&!d&&!w&&!$&&!N||F&&!n&&!d&&!w&&$&&!N||F&&!n&&!d&&!w&&!$&&N||F&&!n&&!d&&!w&&$&&N},J=()=>{const n={id:A===-1?Bl():p[A].id,playCategoryId:W||void 0,playDetailId:v||void 0,playCategoryTags:W===""&&H.length>0?H:void 0,playDetailTags:v===""&&P.length>0?P:void 0,pointType:v?void 0:q||void 0,pointUnitType:v?void 0:B||void 0,aggregateType:ee};A===-1?j(d=>[...d,n]):A!==null&&j(d=>d.map((w,F)=>F===A?n:w)),ae(!1)},G=()=>{ae(!1)},se=n=>{const d=p[n];j(w=>w.filter((F,$)=>$!==n)),U("スタッツを削除しました","success",{actionLabel:"元に戻す",onAction:()=>{j(w=>{const F=[...w];return F.splice(n,0,d),F})},autoHideDuration:5e3})},ye=({s:n,idx:d,dragProvided:w})=>{const F=w.dragHandleProps,{onPointerDown:$,...N}=F||{},ne=nt(Q=>{$==null||$(Q);const ce=k(n.id);ce&&(ce.allowTouchMove=!1),L(n.id)});return e.jsx(t,{ref:w.innerRef,...w.draggableProps,style:w.draggableProps.style,children:e.jsxs(tt,{onSwiper:Q=>m(n.id,Q),threshold:20,slidesPerView:"auto",style:{overflow:"hidden"},onTouchStart:(Q,ce)=>ce.stopPropagation(),onTouchEnd:Q=>Se(n.id,Q),children:[e.jsx(de,{style:{width:"100%",flex:"0 0 auto"},children:e.jsx(t,{...N,...ne,sx:{display:"grid",gridTemplateColumns:ie?"1fr":"repeat(5, 1fr)",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",bgcolor:"background.paper",touchAction:C===n.id?"none":"pan-y",cursor:"grab"},children:ie?e.jsx(t,{children:l(n)}):e.jsxs(e.Fragment,{children:[e.jsx(t,{sx:{pr:1},children:n.playCategoryId?s(n.playCategoryId):n.playCategoryTags&&n.playCategoryTags.length>0?e.jsx(t,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:n.playCategoryTags.map(Q=>{const ce=R.find(qe=>qe.id===Q);return e.jsx(pe,{label:(ce==null?void 0:ce.name)||Q,size:"small",sx:{backgroundColor:(ce==null?void 0:ce.color)||ge,color:"#fff"}},Q)})}):""}),e.jsx(t,{sx:{pr:1},children:n.playDetailId?r(n.playDetailId):n.playDetailTags&&n.playDetailTags.length>0?e.jsx(t,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:n.playDetailTags.map(Q=>{const ce=b.find(qe=>qe.id===Q);return e.jsx(pe,{label:(ce==null?void 0:ce.name)||Q,size:"small",sx:{backgroundColor:(ce==null?void 0:ce.color)||ge,color:"#fff"}},Q)})}):""}),e.jsx(t,{sx:{pr:1},children:n.pointType||""}),e.jsx(t,{sx:{pr:1},children:n.pointUnitType||""}),e.jsx(t,{children:n.aggregateType||"合算"})]})})}),e.jsx(de,{style:{width:Ie,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"primary.main"},children:e.jsx(le,{size:"small",onClick:()=>_(d),children:e.jsx(lt,{fontSize:"small",sx:{color:"common.white"}})})})}),e.jsx(de,{style:{width:Ie,flex:"0 0 auto"},children:e.jsx(t,{sx:{height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"error.main"},children:e.jsx(le,{size:"small",onClick:()=>se(d),children:e.jsx(ve,{fontSize:"small",sx:{color:"common.white"}})})})})]})})};return e.jsxs(e.Fragment,{children:[e.jsxs(t,{children:[e.jsx(t,{sx:{maxWidth:1024,mx:"auto",display:"flex",justifyContent:"flex-end",mb:1},children:e.jsx(K,{onClick:x,variant:"contained",startIcon:e.jsx(et,{}),children:"追加"})}),e.jsx(Ke,{component:Ge,storageKey:"stats-grid",sx:{maxWidth:1024,mx:"auto"},children:ue?e.jsx(Ne,{onDragEnd:i,children:e.jsx(Te,{droppableId:"stats-settings",children:n=>e.jsxs(t,{ref:n.innerRef,...n.droppableProps,children:[e.jsx(t,{sx:{display:"grid",gridTemplateColumns:ie?"1fr":"repeat(5, 1fr)",alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",...we},children:ie?e.jsx(t,{children:"スタッツ"}):e.jsxs(e.Fragment,{children:[e.jsx(t,{children:"プレー区分"}),e.jsx(t,{children:"プレー詳細"}),e.jsx(t,{children:"得点区分"}),e.jsx(t,{children:"得失点単位区分"}),e.jsx(t,{children:"集計方法"})]})}),p.map((d,w)=>e.jsx(Re,{draggableId:d.id,index:w,children:F=>e.jsx(ye,{s:d,idx:w,dragProvided:F})},d.id)),n.placeholder]})})}):e.jsxs(Xe,{size:"small",children:[e.jsx(Ze,{children:e.jsxs(be,{sx:{backgroundColor:n=>n.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(h,{padding:"checkbox",sx:{width:48}}),e.jsx(h,{children:"プレー区分"}),e.jsx(h,{children:"プレー詳細"}),e.jsx(h,{children:"得点区分"}),e.jsx(h,{children:"得失点単位区分"}),e.jsx(h,{children:"集計方法"}),e.jsx(h,{})]})}),e.jsx(Ne,{onDragEnd:i,children:e.jsx(Te,{droppableId:"stats-settings",children:n=>e.jsxs(Qe,{ref:n.innerRef,...n.droppableProps,children:[p.map((d,w)=>e.jsx(Re,{draggableId:d.id,index:w,children:F=>e.jsxs(be,{ref:F.innerRef,...F.draggableProps,"data-index":w,onClick:()=>_(w),sx:{cursor:"pointer",height:50},children:[e.jsx(h,{padding:"checkbox",sx:{width:48},children:e.jsx(t,{onClick:$=>$.stopPropagation(),...F.dragHandleProps,sx:{cursor:"grab",display:"inline-flex",width:32,height:32,alignItems:"center",justifyContent:"center"},children:e.jsx(st,{})})}),e.jsx(h,{children:d.playCategoryId?s(d.playCategoryId):d.playCategoryTags&&d.playCategoryTags.length>0?e.jsx(t,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:d.playCategoryTags.map($=>{const N=R.find(ne=>ne.id===$);return e.jsx(pe,{label:(N==null?void 0:N.name)||$,size:"small",sx:{backgroundColor:(N==null?void 0:N.color)||ge,color:"#fff"}},$)})}):""}),e.jsx(h,{children:d.playDetailId?r(d.playDetailId):d.playDetailTags&&d.playDetailTags.length>0?e.jsx(t,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:d.playDetailTags.map($=>{const N=b.find(ne=>ne.id===$);return e.jsx(pe,{label:(N==null?void 0:N.name)||$,size:"small",sx:{backgroundColor:(N==null?void 0:N.color)||ge,color:"#fff"}},$)})}):""}),e.jsx(h,{children:d.pointType||""}),e.jsx(h,{children:d.pointUnitType||""}),e.jsx(h,{children:d.aggregateType||"合算"}),e.jsx(h,{padding:"checkbox",children:e.jsx(t,{onClick:$=>$.stopPropagation(),sx:{width:32,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(le,{size:"small",onClick:()=>se(w),sx:{width:24,height:24},children:e.jsx(ve,{fontSize:"small",color:"error"})})})})]})},d.id)),n.placeholder]})})})]})})]}),e.jsxs(at,{open:re,onClose:G,children:[e.jsxs(Pe,{children:["スタッツ設定",A===-1?"追加":"編集"]}),e.jsxs(Me,{children:[e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"stat-category-label",children:"プレー区分"}),e.jsxs(Oe,{labelId:"stat-category-label",value:W,label:"プレー区分",onChange:n=>{V(n.target.value),I(""),z([]),u([])},disabled:H.length>0||P.length>0,children:[e.jsx(oe,{value:"",children:"なし"}),D.map(n=>e.jsx(oe,{value:n.id,children:n.name},n.id))]})]}),e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"stat-detail-label",children:"プレー詳細"}),e.jsxs(Oe,{labelId:"stat-detail-label",value:v,label:"プレー詳細",onChange:n=>{I(n.target.value),S(""),g(""),z([]),u([])},disabled:q!==""||B!==""||H.length>0||P.length>0,children:[e.jsx(oe,{value:"",children:"なし"}),y.filter(n=>n.playCategoryId===W).map(n=>e.jsx(oe,{value:n.id,children:n.name},n.id))]})]}),e.jsx(Ot,{multiple:!0,options:R,getOptionLabel:n=>n.name,value:R.filter(n=>H.includes(n.id)),onChange:(n,d)=>{z(d.map(w=>w.id)),d.length>0&&(V(""),I(""))},disabled:W!==""||v!=="",renderTags:(n,d)=>n.map((w,F)=>{const{key:$,...N}=d({index:F});return e.jsx(pe,{...N,label:w.name,size:"small",sx:{backgroundColor:w.color||ge,color:"#fff"}},$)}),renderInput:n=>e.jsx(Ce,{...n,label:"プレー区分タグ",margin:"dense"}),fullWidth:!0}),e.jsx(Ot,{multiple:!0,options:b,getOptionLabel:n=>n.name,value:b.filter(n=>P.includes(n.id)),onChange:(n,d)=>{u(d.map(w=>w.id)),d.length>0&&(V(""),I(""))},disabled:W!==""||v!=="",renderTags:(n,d)=>n.map((w,F)=>{const{key:$,...N}=d({index:F});return e.jsx(pe,{...N,label:w.name,size:"small",sx:{backgroundColor:w.color||ge,color:"#fff"}},$)}),renderInput:n=>e.jsx(Ce,{...n,label:"プレー詳細タグ",margin:"dense"}),fullWidth:!0}),e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"stat-point-label",children:"得点区分"}),e.jsxs(Oe,{labelId:"stat-point-label",value:q,label:"得点区分",onChange:n=>{S(n.target.value),n.target.value!==""&&I("")},disabled:v!=="",children:[e.jsx(oe,{value:"",children:"なし"}),e.jsx(oe,{value:"得点",children:"得点"}),e.jsx(oe,{value:"失点",children:"失点"})]})]}),e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"stat-unit-label",children:"得失点単位区分"}),e.jsxs(Oe,{labelId:"stat-unit-label",value:B,label:"得失点単位区分",onChange:n=>{g(n.target.value),n.target.value!==""&&I("")},disabled:v!=="",children:[e.jsx(oe,{value:"",children:"なし"}),e.jsx(oe,{value:"メンバー",children:"メンバー"}),e.jsx(oe,{value:"チーム",children:"チーム"})]})]}),e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"stat-aggregate-label",children:"集計方法"}),e.jsxs(Oe,{labelId:"stat-aggregate-label",value:ee,label:"集計方法",onChange:n=>te(n.target.value),children:[e.jsx(oe,{value:"合算",children:"合算"}),e.jsx(oe,{value:"セット平均",children:"セット平均"})]})]})]}),e.jsxs(Ee,{children:[e.jsx(K,{onClick:G,color:"inherit",startIcon:e.jsx(He,{}),children:"キャンセル"}),e.jsx(K,{onClick:J,disabled:!X(),startIcon:e.jsx(ze,{}),children:"OK"})]})]})]})}var bs={},Ul=fe;Object.defineProperty(bs,"__esModule",{value:!0});var rn=bs.default=void 0,Vl=Ul(je()),Gl=e;rn=bs.default=(0,Vl.default)((0,Gl.jsx)("path",{d:"M9.37 5.51c-.18.64-.27 1.31-.27 1.99 0 4.08 3.32 7.4 7.4 7.4.68 0 1.35-.09 1.99-.27C17.45 17.19 14.93 19 12 19c-3.86 0-7-3.14-7-7 0-2.93 1.81-5.45 4.37-6.49M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1"}),"DarkModeOutlined");var Cs={},Kl=fe;Object.defineProperty(Cs,"__esModule",{value:!0});var on=Cs.default=void 0,ql=Kl(je()),Yl=e;on=Cs.default=(0,ql.default)((0,Yl.jsx)("path",{d:"M12 9c1.65 0 3 1.35 3 3s-1.35 3-3 3-3-1.35-3-3 1.35-3 3-3m0-2c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5M2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1m18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1M11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1m0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1M5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0z"}),"LightModeOutlined");const Qt=[{id:"light1",name:"ライトモード１",setting:{mode:"light",appBarColor:"#F5F5F5",appBarTextColor:"#000000",buttonColor:"#1C8139",scoreColor:"#1C8139",lossColor:"#D21972"}},{id:"light2",name:"ライトモード２",setting:{mode:"light",appBarColor:"#F2EDE3",appBarTextColor:"#000000",buttonColor:"#48A588",scoreColor:"#48A588",lossColor:"#CE5164"}},{id:"dark1",name:"ダークモード１",setting:{mode:"dark",appBarColor:"#333333",appBarTextColor:"#FFFFFF",buttonColor:"#90CAF9",scoreColor:"#90CAF9",lossColor:"#F48FB1"}},{id:"dark2",name:"ダークモード２",setting:{mode:"dark",appBarColor:"#121212",appBarTextColor:"#FFFFFF",buttonColor:"#BB86FC",scoreColor:"#419552",lossColor:"#C77584"}}];function Jl({theme:p,onThemeChange:j}){var R;const D=(R=Qt.find(b=>b.name===p.name))==null?void 0:R.id,y=(b,U)=>{if(!U)return;const A=Qt.find(Y=>Y.id===U);A&&j({name:A.name,...A.setting})};return e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:2,mt:1,maxWidth:1024,width:"100%",mx:"auto"},children:[e.jsxs(t,{sx:{display:"none",alignItems:"center"},children:[e.jsx(t,{sx:{mr:2},children:"アプリカラー"}),e.jsx("input",{type:"color",value:p.appBarColor,onChange:b=>j({...p,appBarColor:b.target.value}),title:"背景色"}),e.jsx("input",{type:"color",value:p.appBarTextColor,onChange:b=>j({...p,appBarTextColor:b.target.value}),title:"文字色",style:{marginLeft:8}})]}),e.jsxs(t,{sx:{display:"none",alignItems:"center"},children:[e.jsx(t,{sx:{mr:2},children:"ボタンカラー"}),e.jsx("input",{type:"color",value:p.buttonColor,onChange:b=>j({...p,buttonColor:b.target.value})})]}),e.jsxs(t,{sx:{display:"none",alignItems:"center"},children:[e.jsx(t,{sx:{mr:2},children:"得点カラー"}),e.jsx("input",{type:"color",value:p.scoreColor,onChange:b=>j({...p,scoreColor:b.target.value})})]}),e.jsxs(t,{sx:{display:"none",alignItems:"center"},children:[e.jsx(t,{sx:{mr:2},children:"失点カラー"}),e.jsx("input",{type:"color",value:p.lossColor,onChange:b=>j({...p,lossColor:b.target.value})})]}),e.jsx(pt,{orientation:"vertical",exclusive:!0,value:D,onChange:y,sx:{"& .MuiToggleButton-root":{justifyContent:"flex-start"}},children:Qt.map(b=>e.jsxs(Ae,{value:b.id,sx:{textAlign:"left"},children:[b.setting.mode==="dark"?e.jsx(rn,{sx:{mr:1}}):e.jsx(on,{sx:{mr:1}}),b.name,D===b.id&&e.jsx(ze,{sx:{ml:"auto"}})]},b.id))})]})}var vs={},Xl=fe;Object.defineProperty(vs,"__esModule",{value:!0});var an=vs.default=void 0,Zl=Xl(je()),Ql=e;an=vs.default=(0,Zl.default)((0,Ql.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8"}),"Replay");function er({scoreInput:p,onScoreInputChange:j,dashboardVisible:D,onDashboardVisibleChange:y,showSnackbar:R,adminMode:b}){const[U,A]=o.useState(!1),Y=()=>{try{const z=[];for(let P=0;P<localStorage.length;P++){const u=localStorage.key(P);u&&u.startsWith("tutorial-")&&z.push(u)}z.forEach(P=>localStorage.removeItem(P)),R("ガイド表示済み状態をクリアしました","success")}catch(z){console.error(z),R("ガイド表示済み状態のクリアに失敗しました","error")}},W=()=>A(!0),V=()=>A(!1),v=()=>{A(!1),Y()},I=[{key:"rallyMemberRequired",label:"ラリー結果メンバー選択必須"},{key:"showRallyIcons",label:"ラリー結果アイコン表示"},{key:"showGridScrollHint",label:"グリッド横スクロール表記表示"},{key:"showScoreProgressArea",label:"得点推移エリア表示"}],H=(z,P)=>{j({...p,[z]:P})};return e.jsxs(t,{sx:{display:"flex",flexDirection:"column",mt:1,maxWidth:1024,width:"100%",mx:"auto"},children:[b&&I.map(({key:z,label:P})=>e.jsx(Hs,{control:e.jsx(vt,{checked:p[z],onChange:u=>H(z,u.target.checked)}),label:P,sx:{mb:1}},z)),e.jsx(Hs,{control:e.jsx(vt,{checked:D,onChange:z=>y(z.target.checked)}),label:"ダッシュボード表示",sx:{mb:1,display:"none"}}),e.jsx(K,{variant:"contained",startIcon:e.jsx(an,{}),onClick:W,sx:{bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark"},alignSelf:"flex-start",mt:2},children:"ガイド再表示"}),e.jsxs(dt,{open:U,onClose:V,children:[e.jsx(Pe,{children:"確認"}),e.jsx(Me,{sx:{mt:2},children:"ガイドを再表示しますか？"}),e.jsxs(Ee,{children:[e.jsx(K,{onClick:V,startIcon:e.jsx(He,{}),color:"inherit",children:"キャンセル"}),e.jsx(K,{onClick:v,startIcon:e.jsx(ze,{}),children:"OK"})]})]})]})}var Is={},tr=fe;Object.defineProperty(Is,"__esModule",{value:!0});var ns=Is.default=void 0,sr=tr(je()),nr=e;ns=Is.default=(0,sr.default)((0,nr.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 12H6V10h12z"}),"LockOpen");function lr({teams:p,matches:j,tags:D,matchLocks:y,setMatchLocks:R,lockGroupBy:b,setLockGroupBy:U}){const A=Be("md"),Y=Be("sm"),W=P=>{var u;return((u=p.find(q=>q.id===P))==null?void 0:u.name)||""},V=Y?"32px 100px 1fr 100px":"32px 100px 1fr 170px 210px 60px",v=b,I=Fn(j,v),H=P=>P.map(u=>{const q=u.sets.filter(g=>g.my>g.opponent).length,S=u.sets.filter(g=>g.my<g.opponent).length,B=y[u.id];return e.jsxs(be,{sx:{height:50},children:[e.jsx(h,{padding:"checkbox",sx:{width:32},children:e.jsx(le,{size:"small",onClick:()=>R(g=>({...g,[u.id]:!g[u.id]})),children:B?e.jsx(es,{sx:{color:"#D21972"}}):e.jsx(ns,{sx:{color:"#1C8139"}})})}),e.jsx(h,{sx:{width:100},children:u.date}),e.jsx(h,{children:u.matchName}),e.jsx(h,{sx:{width:170},children:`${W(u.teamA)} - ${W(u.teamB)}`}),e.jsx(h,{sx:{width:210},children:u.tags.map(g=>{const ee=D.find(re=>re.id===g),te=(ee==null?void 0:ee.color)||ge;return e.jsx(pe,{label:(ee==null?void 0:ee.name)||g,size:"small",sx:{mr:.5,mb:.5,backgroundColor:te,color:"#fff"}},g)})}),e.jsxs(h,{sx:{width:60,textAlign:"left"},children:[q,"-",S]})]},u.id)}),z=P=>P.map(u=>{const q=u.sets.filter(g=>g.my>g.opponent).length,S=u.sets.filter(g=>g.my<g.opponent).length,B=y[u.id];return e.jsxs(t,{sx:{display:"grid",gridTemplateColumns:V,alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider"},children:[e.jsx(t,{children:e.jsx(le,{size:"small",onClick:()=>R(g=>({...g,[u.id]:!g[u.id]})),children:B?e.jsx(es,{sx:{color:"#D21972"}}):e.jsx(ns,{sx:{color:"#1C8139"}})})}),e.jsx(t,{children:u.date}),e.jsx(t,{children:u.matchName}),e.jsx(t,{children:Y?e.jsxs(e.Fragment,{children:[e.jsx(t,{children:W(u.teamA)}),e.jsx(t,{children:W(u.teamB)})]}):`${W(u.teamA)} - ${W(u.teamB)}`}),!Y&&e.jsxs(e.Fragment,{children:[e.jsx(t,{children:u.tags.map(g=>{const ee=D.find(re=>re.id===g),te=(ee==null?void 0:ee.color)||ge;return e.jsx(pe,{label:(ee==null?void 0:ee.name)||g,size:"small",sx:{mr:.5,mb:.5,backgroundColor:te,color:"#fff"}},g)})}),e.jsxs(t,{sx:{textAlign:"left"},children:[q,"-",S]})]})]},u.id)});return e.jsxs(t,{children:[e.jsx(t,{sx:{maxWidth:1024,mx:"auto"},children:A?e.jsx(De,{size:"small",margin:"dense",children:e.jsxs(Oe,{value:b,onChange:P=>U(P.target.value),children:[e.jsx(oe,{value:"none",children:"グルーピングなし"}),e.jsx(oe,{value:"dateName",children:"試合日付＋試合名"}),e.jsx(oe,{value:"card",children:"対戦カード"})]})}):e.jsxs(pt,{exclusive:!0,value:b,onChange:(P,u)=>{u!==null&&U(u)},sx:{mb:1},children:[e.jsx(Ae,{value:"none",children:"グルーピングなし"}),e.jsx(Ae,{value:"dateName",children:"試合日付＋試合名"}),e.jsx(Ae,{value:"card",children:"対戦カード"})]})}),e.jsx(Ke,{component:Ge,storageKey:"match-lock-grid",sx:{maxWidth:1024,mx:"auto"},children:A?e.jsxs(t,{children:[e.jsxs(t,{sx:{display:"grid",gridTemplateColumns:V,alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",...we},children:[e.jsx(t,{}),e.jsx(t,{children:"日付"}),e.jsx(t,{children:"試合名"}),e.jsx(t,{children:"対戦カード"}),!Y&&e.jsxs(e.Fragment,{children:[e.jsx(t,{children:"タグ"}),e.jsx(t,{sx:{textAlign:"left"},children:"セット"})]})]}),v==="none"?z(I.all||[]):Object.entries(I).map(([P,u])=>{const q=v==="card"?As(u[0].teamA,u[0].teamB,p):P;return e.jsxs(t,{children:[e.jsx(t,{sx:{display:"grid",gridTemplateColumns:V,alignItems:"center",height:50,px:1,borderBottom:1,borderColor:"divider",...we},children:e.jsx(t,{sx:{gridColumn:"1 / -1"},children:q})}),z(u)]},P)})]}):e.jsxs(Xe,{size:"small",children:[e.jsx(Ze,{children:e.jsxs(be,{sx:{backgroundColor:P=>P.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(h,{padding:"checkbox",sx:{width:32}}),e.jsx(h,{sx:{width:100,...we},children:"日付"}),e.jsx(h,{sx:we,children:"試合名"}),e.jsx(h,{sx:{width:170,...we},children:"対戦カード"}),e.jsx(h,{sx:{width:210,...we},children:"タグ"}),e.jsx(h,{sx:{width:60,textAlign:"left",...we},children:"セット"})]})}),e.jsx(Qe,{children:v==="none"?H(I.all||[]):Object.entries(I).map(([P,u])=>{const q=v==="card"?As(u[0].teamA,u[0].teamB,p):P;return e.jsxs(o.Fragment,{children:[e.jsx(be,{sx:{height:50},children:e.jsx(h,{colSpan:6,sx:we,children:q})}),H(u)]},P)})})]})}),e.jsx(t,{sx:{maxWidth:1024,mx:"auto",mt:1},children:e.jsx(gt,{severity:"info",children:"試合をロックすると、この試合は削除できなくなり閲覧のみとなります。ロック解除で編集・削除が可能です。"})})]})}var Ss={},rr=fe;Object.defineProperty(Ss,"__esModule",{value:!0});var cn=Ss.default=void 0,or=rr(je()),ir=e;cn=Ss.default=(0,or.default)((0,ir.jsx)("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 12H4V8h16z"}),"FolderOpen");var ws={},ar=fe;Object.defineProperty(ws,"__esModule",{value:!0});var ls=ws.default=void 0,cr=ar(je()),dr=e;ls=ws.default=(0,cr.default)((0,dr.jsx)("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"FileUpload");var ks={},xr=fe;Object.defineProperty(ks,"__esModule",{value:!0});var dn=ks.default=void 0,hr=xr(je()),ur=e;dn=ks.default=(0,hr.default)((0,ur.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"FileDownload");const gr=`[team]
サンプルチーム

[member]
サンプルチーム,1,バレーボーラー

[rally-play-category]
スパイク

[rally-play-detail]
スパイク,イン,得点,メンバー
スパイク,アウト,失点,メンバー
スパイク,アウト,失点,メンバー`,rs=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)+Date.now().toString(36),pr=p=>({id:crypto.randomUUID(),name:p}),fr=p=>({id:rs(),name:p,color:ge,iconType:"none",tags:[],visible:!0});function jr({onDeleteData:p,onImportData:j,onExportData:D,showSnackbar:y,teams:R,setTeams:b,setMembers:U,playCategories:A,setPlayCategories:Y,setPlayDetails:W,adminMode:V}){const[v,I]=o.useState(!1),[H,z]=o.useState(null),[P,u]=o.useState(!1),[q,S]=o.useState(!1),[B,g]=o.useState(gr),ee=()=>{I(!0)},te=async()=>{I(!1);try{await p(),y("全データを削除しました","success")}catch(i){console.error(i),y("全データの削除に失敗しました","error")}},re=()=>{I(!1)},ae=i=>{z(i.target.files&&i.target.files[0]?i.target.files[0]:null)},ue=()=>{u(!0)},ie=async()=>{u(!1);const i=H;z(null);try{i&&await j(i),y("インポートが完了しました","success")}catch(s){console.error(s),y("インポートに失敗しました","error")}},Se=()=>{u(!1)},m=async()=>{try{await D(),y("エクスポートが完了しました","success")}catch(i){console.error(i),y("エクスポートに失敗しました","error")}},k=()=>{S(!0)},C=()=>{S(!1);try{const i=B.replace(/\r\n/g,`
`).split(`
`);let s="";const r=[],l={},x=[],_=[];for(const X of i){const J=X.trim();if(J!==""){if(J.startsWith("[")&&J.endsWith("]")){s=J.toLowerCase();continue}switch(s){case"[team]":r.push(pr(J));break;case"[member]":{const[G,se,ye]=J.split(",").map(n=>n.trim());if(G&&se&&ye){const n=[...R,...r].find(d=>d.name===G);if(n){const d={id:rs(),no:Number(se),name:ye,positions:[],visible:!0};l[n.id]||(l[n.id]=[]),l[n.id].push(d)}}break}case"[rally-play-category]":x.push(fr(J));break;case"[rally-play-detail]":{const[G,se,ye,n]=J.split(",").map(d=>d.trim());if(G&&se&&ye&&n){const d=[...A,...x].find(w=>w.name===G);d&&_.push({id:rs(),playCategoryId:d.id,name:se,pointType:ye,pointUnitType:n,tags:[],visible:!0})}break}default:break}}}r.length&&b(X=>[...X,...r]),Object.keys(l).length&&U(X=>{const J={...X};for(const[G,se]of Object.entries(l))J[G]=[...J[G]||[],...se];return J}),x.length&&Y(X=>[...X,...x]),_.length&&W(X=>[...X,..._]),r.length||Object.keys(l).length||x.length||_.length?(y("一括登録が完了しました","success"),g("")):y("登録対象のデータがありません","error")}catch(i){console.error(i),y("一括登録に失敗しました","error")}},L=()=>{S(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs(t,{sx:{maxWidth:1024,width:"100%",mx:"auto",textAlign:"left",display:"flex",flexDirection:"column",gap:1,alignItems:"flex-start"},children:[e.jsx(t,{sx:{fontWeight:"bold"},children:"データエクスポート"}),e.jsx(t,{children:e.jsx(K,{variant:"contained",startIcon:e.jsx(dn,{}),onClick:m,children:"エクスポート"})}),e.jsx(t,{sx:{mt:2,fontWeight:"bold"},children:"データインポート"}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsxs(K,{variant:"outlined",component:"label",startIcon:e.jsx(cn,{}),children:["ファイル選択",e.jsx("input",{type:"file",accept:".zip",hidden:!0,onChange:ae})]}),e.jsx(K,{variant:"contained",startIcon:e.jsx(ls,{}),onClick:ue,disabled:!H,children:"インポート"})]}),V&&e.jsxs(e.Fragment,{children:[e.jsx(t,{sx:{mt:2,fontWeight:"bold"},children:"一括登録"}),e.jsx(Ce,{value:B,onChange:i=>g(i.target.value),multiline:!0,minRows:10,fullWidth:!0}),e.jsx(t,{sx:{display:"flex",justifyContent:"flex-end",mt:1},children:e.jsx(K,{variant:"contained",startIcon:e.jsx(ls,{}),onClick:k,children:"一括登録"})})]}),e.jsx(t,{sx:{mt:2,fontWeight:"bold"},children:"データ削除"}),e.jsx(K,{variant:"contained",color:"error",startIcon:e.jsx(ve,{}),onClick:ee,children:"全データ削除"})]}),e.jsxs(dt,{open:v,onClose:re,children:[e.jsx(Pe,{children:"削除確認"}),e.jsx(Me,{sx:{mt:2},children:"全データを削除しますか？"}),e.jsxs(Ee,{children:[e.jsx(K,{onClick:re,startIcon:e.jsx(He,{}),color:"inherit",children:"キャンセル"}),e.jsx(K,{onClick:te,color:"error",startIcon:e.jsx(ze,{}),children:"OK"})]})]}),e.jsxs(dt,{open:P,onClose:Se,children:[e.jsx(Pe,{children:"確認"}),e.jsx(Me,{sx:{mt:2},children:"データをインポートしますか？"}),e.jsxs(Ee,{children:[e.jsx(K,{onClick:Se,startIcon:e.jsx(He,{}),color:"inherit",children:"キャンセル"}),e.jsx(K,{onClick:ie,disabled:!H,startIcon:e.jsx(ze,{}),children:"OK"})]})]}),V&&e.jsxs(dt,{open:q,onClose:L,children:[e.jsx(Pe,{children:"確認"}),e.jsx(Me,{sx:{mt:2},children:"一括登録を実行しますか？"}),e.jsxs(Ee,{children:[e.jsx(K,{onClick:L,startIcon:e.jsx(He,{}),color:"inherit",children:"キャンセル"}),e.jsx(K,{onClick:C,startIcon:e.jsx(ze,{}),children:"OK"})]})]})]})}var Ts={},mr=fe;Object.defineProperty(Ts,"__esModule",{value:!0});var xn=Ts.default=void 0,yr=mr(je()),br=e;xn=Ts.default=(0,yr.default)((0,br.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");const Cr=`MIT License

Copyright (c) 2025 shinya_sun_sun

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
`;function vr(p){if(!p)return"";let j=p.replace(/^git\+/,"");const D=j.match(/^git@github\.com:(.+)$/);D&&(j=`https://github.com/${D[1]}`);const y=j.match(/^git:\/\/github\.com\/(.+)$/);y&&(j=`https://github.com/${y[1]}`);const R=j.match(/^ssh:\/\/git@github\.com\/(.+)$/);return R&&(j=`https://github.com/${R[1]}`),j.startsWith("github.com/")&&(j=`https://${j}`),/^[a-zA-Z]+:\/\//.test(j)||(/^[^/]+\/[^/]+$/.test(j)?j=`https://github.com/${j}`:j=`https://${j}`),j=j.replace(/\.git$/,""),j}function Ir(){const[p,j]=o.useState(""),[D,y]=o.useState([]),[R,b]=o.useState(!0),[U,A]=o.useState({}),Y={MIT:"https://opensource.org/license/mit/"};o.useEffect(()=>{Un(()=>import("./licenses-uPPrrUXe.js"),[]).then(v=>y(v.licenses)).finally(()=>b(!1))},[]);const W=o.useMemo(()=>D.filter(v=>v.name.toLowerCase().includes(p.toLowerCase())),[p,D]),V=async v=>{if(!U[v])try{const I=await fetch(`https://raw.githubusercontent.com/spdx/license-list-data/main/text/${v}.txt`);if(!I.ok)throw new Error("not ok");const H=await I.text();A(z=>({...z,[v]:H}))}catch{A(I=>({...I,[v]:""}))}};return e.jsxs(t,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[e.jsx(Ct,{variant:"h6",sx:{mb:1},children:"BreakPoint MIT License"}),e.jsx(t,{component:"pre",sx:{p:1,backgroundColor:v=>v.palette.mode==="dark"?"#343A42":"#f5f5f5",color:v=>v.palette.text.primary,whiteSpace:"pre-wrap",minHeight:128,overflow:"auto"},children:Cr}),e.jsx(Ce,{label:"検索",value:p,onChange:v=>j(v.target.value),sx:{my:2}}),e.jsx(t,{sx:{flexGrow:1,overflow:"auto"},children:R?e.jsx(t,{sx:{display:"flex",justifyContent:"center",mt:2},children:e.jsx(zn,{})}):W.map(v=>{const I=v.license;return e.jsxs($n,{onChange:(H,z)=>{z&&V(I)},children:[e.jsxs(Hn,{expandIcon:e.jsx(xn,{}),children:[e.jsx(Ct,{sx:{flexGrow:1},children:v.name}),e.jsx(Ct,{variant:"body2",sx:{ml:2},children:I})]}),e.jsxs(An,{children:[(()=>{const H=vr(v.url);return H&&e.jsx(Dt,{href:H,target:"_blank",rel:"noopener",sx:{display:"block",mb:1,wordBreak:"break-all"},children:H})})(),v.license.startsWith("CC")&&v.attribution&&e.jsx(Ct,{variant:"body2",sx:{mb:1,whiteSpace:"pre-wrap"},children:v.attribution}),U[I]!==void 0&&(U[I]?e.jsx(t,{component:"pre",sx:{p:1,backgroundColor:H=>H.palette.mode==="dark"?"#343A42":"#f5f5f5",color:H=>H.palette.text.primary,whiteSpace:"pre-wrap",maxHeight:300,overflow:"auto"},children:U[I]}):e.jsx(Dt,{href:Y[I]||`https://spdx.org/licenses/${I}.html`,target:"_blank",rel:"noopener",sx:{wordBreak:"break-all"},children:Y[I]||`https://spdx.org/licenses/${I}.html`}))]})]},v.name)})})]})}const Sr=Yn.create(t),Gs=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)+Date.now().toString(36);function Ks(p){if(typeof window>"u")return p;try{const D=new DOMParser().parseFromString(p,"image/svg+xml"),y=new Set(["svg","g","path","circle","rect","line","polygon","polyline","text","defs","use"]),R=b=>{[...b.children].forEach(U=>{if(y.has(U.tagName))[...U.attributes].forEach(A=>{A.name.startsWith("on")&&U.removeAttribute(A.name)}),R(U);else{const A=document.createTextNode(U.outerHTML);U.replaceWith(A)}})};return R(D.documentElement),D.documentElement.outerHTML}catch{return""}}function wr({src:p,cropX:j,cropY:D,onChange:y}){const R=o.useRef(null),b=o.useRef(null),[U,A]=o.useState(!1),[Y,W]=o.useState({x:0,y:0}),V=()=>R.current?{sx:R.current.clientWidth/R.current.naturalWidth,sy:R.current.clientHeight/R.current.naturalHeight}:{sx:1,sy:1},v=u=>{u.preventDefault(),u.stopPropagation();const q=b.current.getBoundingClientRect();W({x:u.clientX-q.left,y:u.clientY-q.top}),A(!0)},I=u=>{if(!U||!R.current)return;const q=R.current.getBoundingClientRect(),{sx:S,sy:B}=V(),g=u.clientX-q.left-Y.x,ee=u.clientY-q.top-Y.y,te=Math.min(Math.max(0,g/S),R.current.naturalWidth-64),re=Math.min(Math.max(0,ee/B),R.current.naturalHeight-64);y(Math.round(te),Math.round(re))},H=()=>A(!1),{sx:z,sy:P}=V();return e.jsxs(t,{sx:{position:"relative",display:"inline-block"},onMouseMove:I,onMouseUp:H,onMouseLeave:H,children:[e.jsx("img",{src:p,ref:R,style:{maxWidth:256}}),e.jsx(t,{ref:b,sx:{position:"absolute",left:j*z,top:D*P,width:64,height:64,border:"1px solid red",cursor:"move"},onMouseDown:v})]})}function kr({name:p}){const j=o.useRef(null),[D,y]=o.useState(1);return o.useEffect(()=>{const R=j.current;if(!R)return;const b=R.getBBox().width;y(b>64?64/b:1)},[p]),e.jsx("svg",{width:64,height:64,children:e.jsx("g",{transform:`scale(${D})`,children:e.jsx("text",{ref:j,x:32/D,y:32/D,textAnchor:"middle",dominantBaseline:"middle",fontSize:8,children:p})})})}function Er({matches:p,teams:j,teamMembers:D,playCategories:y,playDetails:R,statsSettings:b,tags:U,rallyCategoryTags:A,rallyDetailTags:Y,themeSetting:W,scoreInputSetting:V,onSave:v,onDirtyChange:I,onDeleteData:H,onImportData:z,onExportData:P,showSnackbar:u,dashboardVisible:q,onDashboardVisibleChange:S,setAppBarLeftAction:B}){var $s;const[g,ee]=o.useState("teams");o.useEffect(()=>{window.scrollTo(0,0)},[g]);const[te,re]=o.useState(()=>{try{return localStorage.getItem("break-point-admin")==="1"}catch{return!1}}),ae=o.useRef(0),ue=o.useRef(),[ie,Se]=o.useState([...j]),[m,k]=o.useState({...D}),[C,L]=o.useState((($s=j[0])==null?void 0:$s.id)||""),[i,s]=o.useState([...y]),[r,l]=o.useState(null),[x,_]=o.useState(""),[X,J]=o.useState(ge),[G,se]=o.useState("設定なし"),[ye,n]=o.useState(""),[d,w]=o.useState(""),[F,$]=o.useState(0),[N,ne]=o.useState(0),[Q,ce]=o.useState([]),[qe,ft]=o.useState(!0),[It,xt]=o.useState(!1),[ht,jt]=o.useState(null),[Pt,ut]=o.useState(!1),[Le,Fe]=o.useState([...R]),[rt,Mt]=o.useState([...b]),[Ye,Et]=o.useState([...U]),[We,St]=o.useState([...A]),[c,f]=o.useState([...Y]),[E,O]=o.useState({...W}),[M,xe]=o.useState({...V}),[Je,ct]=o.useState([...p]),[he,_e]=o.useState(()=>{const a={};return p.forEach(T=>{a[T.id]=!!T.locked}),a}),[hn,un]=o.useState("none"),zt=!0,mt=Nn(),wt=Ln();o.useEffect(()=>{if(!mt.pathname.startsWith("/settings"))return;mt.pathname.split("/")[2]},[zt,mt.pathname,wt]),o.useEffect(()=>{const T=mt.pathname.split("/")[2];ee(T??null)},[mt.pathname,zt]);const[yt,Rs]=o.useState(null),[$t,Ht]=o.useState(""),[kt,At]=o.useState(""),[Wt,Nt]=o.useState("得点"),[Lt,Bt]=o.useState("メンバー"),[Ft,Ut]=o.useState([]),[Vt,Gt]=o.useState(!0),[gn,Tt]=o.useState(!1),[_s,Ds]=o.useState(null),[pn,Kt]=o.useState(!1),fn=a=>({id:crypto.randomUUID(),name:a}),jn=a=>({id:Gs(),name:a,color:ge,iconType:"none",tags:[],visible:!0}),Rt=o.useMemo(()=>{const a=p.some(T=>!!T.locked!==he[T.id]);return JSON.stringify(ie)!==JSON.stringify(j)||JSON.stringify(m)!==JSON.stringify(D)||JSON.stringify(i)!==JSON.stringify(y)||JSON.stringify(Le)!==JSON.stringify(R)||JSON.stringify(rt)!==JSON.stringify(b)||JSON.stringify(Ye)!==JSON.stringify(U)||JSON.stringify(We)!==JSON.stringify(A)||JSON.stringify(c)!==JSON.stringify(Y)||JSON.stringify(E)!==JSON.stringify(W)||JSON.stringify(M)!==JSON.stringify(V)||a},[ie,m,i,Le,rt,Ye,We,c,E,M,he,j,D,y,R,b,U,A,Y,W,V,p]),mn=o.useMemo(()=>[{key:"teams",label:"チーム",icon:e.jsx(Js,{})},{key:"members",label:"メンバー",icon:e.jsx(Xs,{})},{key:"scores",label:"ラリー",icon:e.jsx(Zs,{})},{key:"playCombinations",label:"プレー組み合わせ",icon:e.jsx(ln,{})},{key:"tags",label:"タグ",icon:e.jsx(Qs,{})},{key:"stats",label:"スタッツ",icon:e.jsx(Gn,{})},{key:"locks",label:"試合ロック",icon:e.jsx(es,{})},{key:"theme",label:"テーマ",icon:e.jsx(en,{})},{key:"display",label:"表示・操作",icon:e.jsx(tn,{})},{key:"data",label:"データ",icon:e.jsx(sn,{})},{key:"license",label:"ライセンス",icon:e.jsx(Kn,{})},{key:"version",label:"バージョン",icon:e.jsx(nn,{})}],[]),yn=o.useMemo(()=>[["teams","members","scores","playCombinations","tags","stats"],["display","theme"],["locks","data"],["license"],["version"]],[]),Os=o.useCallback(()=>{const a=Je.map(T=>({...T,locked:he[T.id]}));v(ie,m,i,Le,rt,Ye,We,c,E,M,a,!0)},[i,Le,he,Je,v,ie,m,rt,Ye,We,c,E,M]),bn=()=>{l(-1),_(""),J(ge),se("設定なし"),n(""),w(""),$(0),ne(0),ce([]),ft(!0),xt(!0)},Cn=a=>{l(a),_(i[a].name),J(i[a].color||ge);const T=i[a];se(T.iconType==="svg"?"SVG":T.iconType==="image"?"画像":"設定なし"),n(T.svg||""),w(T.image||""),$(T.cropX||0),ne(T.cropY||0),ce(T.tags||[]),ft(T.visible!==!1),xt(!0)},vn=()=>{const a=G==="SVG"?"svg":G==="画像"?"image":"none",T=a==="svg"?{iconType:a,svg:ye}:a==="image"?{iconType:a,image:d,cropX:F,cropY:N}:{iconType:a};r===-1?s(Z=>[...Z,{...jn(x),...T,color:X,tags:Q,visible:qe}]):r!==null&&s(Z=>Z.map((me,ke)=>ke===r?{...me,name:x,...T,color:X,tags:Q,visible:qe}:me)),xt(!1)},Ps=()=>{xt(!1)},In=a=>{jt(a),ut(!0)},Sn=()=>{if(ht!==null&&i[ht].id!=="init-serve"){const a=ht,T=i[a];s(Z=>Z.filter((me,ke)=>ke!==a)),u("プレー区分を削除しました","success",{actionLabel:"元に戻す",onAction:()=>{s(Z=>{const me=[...Z];return me.splice(a,0,T),me})},autoHideDuration:5e3})}ut(!1),jt(null)},Ms=()=>{ut(!1)},wn=()=>{var a;Rs(-1),Ht(((a=i.find(T=>T.visible!==!1))==null?void 0:a.id)||""),At(""),Nt("得点"),Bt("メンバー"),Ut([]),Gt(!0),Tt(!0)},kn=a=>{const T=Le[a];Rs(a),Ht(T.playCategoryId),At(T.name),Nt(T.pointType),Bt(T.pointUnitType),Ut(T.tags||[]),Gt(T.visible!==!1),Tt(!0)},Tn=()=>{yt===-1?Fe(a=>[...a,{id:Gs(),playCategoryId:$t,name:kt,pointType:Wt,pointUnitType:Lt,tags:Ft,visible:Vt}]):yt!==null&&Fe(a=>a.map((T,Z)=>Z===yt?{...T,playCategoryId:$t,name:kt,pointType:Wt,pointUnitType:Lt,tags:Ft,visible:Vt}:T)),Tt(!1)},Es=()=>{Tt(!1)},Rn=a=>{Ds(a),Kt(!0)},_n=()=>{if(_s!==null){const a=_s,T=Le[a];Fe(Z=>Z.filter((me,ke)=>ke!==a)),u("プレー詳細を削除しました","success",{actionLabel:"元に戻す",onAction:()=>{Fe(Z=>{const me=[...Z];return me.splice(a,0,T),me})},autoHideDuration:5e3})}Kt(!1),Ds(null)},zs=()=>{Kt(!1)},Dn=o.useCallback(()=>{if(ae.current+=1,ue.current&&clearTimeout(ue.current),ue.current=window.setTimeout(()=>{ae.current=0},1e3),ae.current>=5){const a=te?"0":"1";try{localStorage.setItem("break-point-admin",a)}catch(T){console.error(T)}re(a==="1"),u(a==="1"?"管理者モードを有効にしました":"管理者モードを無効にしました","success"),ae.current=0}},[te,u]);o.useEffect(()=>()=>{ue.current&&clearTimeout(ue.current)},[]),o.useEffect(()=>(B(g?e.jsx(le,{onClick:()=>wt("/settings"),size:"small",children:e.jsx(Ys,{})}):null),()=>B(null)),[B,zt,g,wt]),o.useEffect(()=>(I==null||I(Rt),()=>I==null?void 0:I(!1)),[Rt,I]),o.useEffect(()=>{Rt&&Os()},[Rt,Os]);const On=a=>a.iconType==="svg"&&a.svg?e.jsx(t,{sx:{width:64,height:64},dangerouslySetInnerHTML:{__html:Ks(a.svg)}}):a.iconType==="image"&&a.image?e.jsx(t,{component:"img",src:a.image,sx:{width:64,height:64,objectFit:"none",objectPosition:`-${a.cropX||0}px -${a.cropY||0}px`}}):e.jsx(kr,{name:a.name});return e.jsxs(t,{sx:{display:"flex",flexDirection:"column",height:g!==null?"auto":"100dvh",...g!==null?{overflowY:"auto"}:{}},children:[g===null?e.jsx(t,{children:yn.map((a,T)=>e.jsx(Wn,{orientation:"vertical",fullWidth:!0,variant:"outlined",sx:{mb:2,"& .MuiButton-root":{justifyContent:"flex-start",color:Z=>Z.palette.text.secondary,height:50,textAlign:"left"},"& .MuiButton-root .MuiButton-startIcon":{mr:1},"& .MuiButton-root .MuiButton-endIcon":{marginLeft:"auto"},"& .MuiButtonGroup-grouped":{borderColor:"divider"}},children:a.map(Z=>{const me=mn.find(ke=>ke.key===Z);return me?e.jsxs(K,{onClick:Z==="version"?Dn:()=>wt(`/settings/${Z}`),disableRipple:Z==="version",startIcon:me.icon,endIcon:Z==="version"?void 0:Z==="theme"?e.jsxs(t,{sx:{display:"flex",alignItems:"center",color:ke=>ke.palette.text.secondary},children:[e.jsx(t,{component:"span",sx:{mr:1,typography:"button"},children:E.name}),e.jsx(ts,{})]}):e.jsx(ts,{sx:{color:ke=>ke.palette.text.secondary}}),children:[me.label,Z==="version"&&e.jsx(t,{component:"span",sx:{ml:"auto",color:ke=>ke.palette.text.secondary},children:"0.0.2"})]},Z):null})},T))}):null,g!==null&&e.jsx(t,{sx:{mt:0,flexGrow:1,overflowY:"visible"},children:e.jsx(qn,{mode:"wait",children:g&&e.jsxs(Sr,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},sx:{display:"flex",flexDirection:"column",flexGrow:1},children:[g==="teams"&&e.jsx(Pl,{teams:ie,setTeams:Se,setMembers:k,selectedTeam:C,setSelectedTeam:L,createTeam:fn,showSnackbar:u}),g==="members"&&(ie.length===0?e.jsxs(gt,{severity:"info",children:["チームを登録するとメンバーを設定できるようになります",e.jsx("br",{}),e.jsx(Dt,{component:Bn,to:"/settings/teams",children:"チーム設定へ"})]}):C&&e.jsx(El,{teams:ie,members:m,setMembers:k,selectedTeam:C,setSelectedTeam:L,showSnackbar:u})),g==="scores"&&e.jsx(zl,{openAddPlayDialog:bn,playCategories:i,setPlayCategories:s,openEditPlayDialog:Cn,scoreInput:M,renderIcon:On,rallyCategoryTags:We,handlePlayDelete:In,openAddDetailDialog:wn,playDetails:Le,setPlayDetails:Fe,openEditDetailDialog:kn,theme:E,rallyDetailTags:c,handleDetailDelete:Rn}),g==="playCombinations"&&e.jsx(Nl,{playCombinationSetting:M.playCombinationSetting,onChange:a=>xe(T=>({...T,playCombinationSetting:a})),playCategories:i,playDetails:Le,showSnackbar:u}),g==="stats"&&e.jsx(Fl,{statsSettings:rt,setStatsSettings:Mt,playCategories:i,playDetails:Le,rallyCategoryTags:We,rallyDetailTags:c,showSnackbar:u}),g==="tags"&&e.jsx(Ll,{tags:Ye,setTags:Et,rallyCategoryTags:We,setRallyCategoryTags:St,rallyDetailTags:c,setRallyDetailTags:f,setMatches:ct,setPlayCategories:s,setPlayDetails:Fe,showSnackbar:u}),g==="locks"&&e.jsx(lr,{teams:ie,matches:Je,tags:Ye,matchLocks:he,setMatchLocks:_e,lockGroupBy:hn,setLockGroupBy:un}),g==="theme"&&e.jsx(Jl,{theme:E,onThemeChange:O}),g==="display"&&e.jsx(er,{scoreInput:M,onScoreInputChange:xe,dashboardVisible:q,onDashboardVisibleChange:S,showSnackbar:u,adminMode:te}),g==="data"&&e.jsx(jr,{onDeleteData:H,onImportData:z,onExportData:P,showSnackbar:u,teams:ie,setTeams:Se,setMembers:k,playCategories:i,setPlayCategories:s,setPlayDetails:Fe,adminMode:te}),g==="license"&&e.jsx(Ir,{})]},g)})}),e.jsxs(at,{open:It,onClose:Ps,children:[e.jsxs(Pe,{children:["プレー区分",r===-1?"追加":"編集"]}),e.jsxs(Me,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[e.jsx(Ce,{label:"プレー区分",value:x,onChange:a=>_(a.target.value),fullWidth:!0,margin:"dense"}),e.jsx(Ce,{label:"色",type:"color",value:X,onChange:a=>J(a.target.value),margin:"dense",InputLabelProps:{shrink:!0},fullWidth:!0}),e.jsx(Ot,{multiple:!0,options:We,getOptionLabel:a=>a.name,value:We.filter(a=>Q.includes(a.id)),onChange:(a,T)=>ce(T.map(Z=>Z.id)),renderTags:(a,T)=>a.map((Z,me)=>{const{key:ke,...qt}=T({index:me});return e.jsx(pe,{...qt,label:Z.name,size:"small",sx:{backgroundColor:Z.color||ge,color:"#fff"}},ke)}),renderInput:a=>e.jsx(Ce,{...a,label:"タグ",margin:"dense"})}),e.jsxs(gt,{severity:"info",children:["プレー区分タグは設定＞タグメニューにて追加できます",e.jsx("br",{}),"プレー区分にタグを設定することにより、プレー区分を横串で集計することが可能となります"]}),e.jsxs(pt,{exclusive:!0,value:qe?"表示":"非表示",onChange:(a,T)=>T&&ft(T==="表示"),fullWidth:!0,children:[e.jsxs(Ae,{value:"表示",sx:{width:"50%",whiteSpace:"nowrap"},children:[e.jsx(Ue,{sx:{mr:1}}),"表示"]}),e.jsxs(Ae,{value:"非表示",sx:{width:"50%",whiteSpace:"nowrap"},children:[e.jsx(Ve,{sx:{mr:1}}),"非表示"]})]}),M.showRallyIcons&&e.jsxs(e.Fragment,{children:[e.jsxs(pt,{exclusive:!0,value:G,onChange:(a,T)=>T&&se(T),children:[e.jsx(Ae,{value:"設定なし",children:"設定なし"}),e.jsx(Ae,{value:"SVG",children:"SVG"}),e.jsx(Ae,{value:"画像",children:"画像"})]}),G==="SVG"&&e.jsxs(e.Fragment,{children:[e.jsx(t,{sx:{width:64,height:64},dangerouslySetInnerHTML:{__html:Ks(ye)}}),e.jsx(Ce,{multiline:!0,minRows:10,label:"SVG",value:ye,onChange:a=>n(a.target.value),fullWidth:!0,margin:"dense"})]}),G==="画像"&&e.jsxs(e.Fragment,{children:[d&&e.jsx(wr,{src:d,cropX:F,cropY:N,onChange:(a,T)=>{$(a),ne(T)}}),e.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/bmp,image/tiff,image/gif",onChange:a=>{var me;const T=(me=a.target.files)==null?void 0:me[0];if(!T)return;const Z=new FileReader;Z.onload=()=>{w(Z.result)},Z.readAsDataURL(T)}})]})]})]}),e.jsxs(Ee,{children:[e.jsx(K,{onClick:Ps,color:"inherit",startIcon:e.jsx(He,{}),children:"キャンセル"}),e.jsx(K,{onClick:vn,disabled:x.trim()==="",startIcon:e.jsx(ze,{}),children:"OK"})]})]}),e.jsxs(at,{open:gn,onClose:Es,children:[e.jsxs(Pe,{children:["プレー詳細",yt===-1?"追加":"編集"]}),e.jsxs(Me,{children:[e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"detail-category-label",children:"プレー区分"}),e.jsx(Oe,{labelId:"detail-category-label",value:$t,label:"プレー区分",onChange:a=>Ht(a.target.value),children:i.map(a=>e.jsx(oe,{value:a.id,children:a.name},a.id))})]}),e.jsx(Ce,{fullWidth:!0,label:"プレー詳細",value:kt,onChange:a=>At(a.target.value),margin:"dense"}),e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"detail-point-label",children:"得点区分"}),e.jsxs(Oe,{labelId:"detail-point-label",value:Wt,label:"得点区分",onChange:a=>Nt(a.target.value),children:[e.jsx(oe,{value:"得点",children:"得点"}),e.jsx(oe,{value:"失点",children:"失点"})]})]}),e.jsxs(De,{fullWidth:!0,margin:"dense",children:[e.jsx($e,{id:"detail-point-unit-label",children:"得失点単位区分"}),e.jsxs(Oe,{labelId:"detail-point-unit-label",value:Lt,label:"得失点単位区分",onChange:a=>Bt(a.target.value),disabled:yt!==-1,children:[e.jsx(oe,{value:"メンバー",children:"メンバー"}),e.jsx(oe,{value:"チーム",children:"チーム"})]})]}),e.jsx(gt,{severity:"warning",sx:{whiteSpace:"pre-line",mt:1},children:`得失点単位区分は追加時にのみ設定でき、後から変更できません
再設定する場合はプレー詳細を作り直してください`}),e.jsx(Ot,{multiple:!0,options:c,getOptionLabel:a=>a.name,value:c.filter(a=>Ft.includes(a.id)),onChange:(a,T)=>Ut(T.map(Z=>Z.id)),renderTags:(a,T)=>a.map((Z,me)=>{const ke=Z.color||ge,{key:qt,...Pn}=T({index:me});return e.jsx(pe,{...Pn,label:Z.name,size:"small",sx:{backgroundColor:ke,color:"#fff"}},qt)}),renderInput:a=>e.jsx(Ce,{...a,label:"タグ",margin:"dense"})}),e.jsxs(gt,{severity:"info",sx:{mt:1},children:["プレー詳細タグは設定＞タグメニューにて追加できます",e.jsx("br",{}),"プレー詳細にタグを設定することにより、プレー詳細を横串で集計することが可能となります"]}),e.jsxs(pt,{exclusive:!0,value:Vt?"表示":"非表示",onChange:(a,T)=>T&&Gt(T==="表示"),fullWidth:!0,sx:{mt:2},children:[e.jsxs(Ae,{value:"表示",sx:{width:"50%",whiteSpace:"nowrap"},children:[e.jsx(Ue,{sx:{mr:1}}),"表示"]}),e.jsxs(Ae,{value:"非表示",sx:{width:"50%",whiteSpace:"nowrap"},children:[e.jsx(Ve,{sx:{mr:1}}),"非表示"]})]})]}),e.jsxs(Ee,{children:[e.jsx(K,{onClick:Es,color:"inherit",startIcon:e.jsx(He,{}),children:"キャンセル"}),e.jsx(K,{onClick:Tn,disabled:kt.trim()==="",startIcon:e.jsx(ze,{}),children:"OK"})]})]}),e.jsxs(dt,{open:Pt,onClose:Ms,children:[e.jsx(Pe,{children:"削除確認"}),e.jsxs(Me,{sx:{mt:2},children:["このプレー区分を削除しますか？",e.jsx(t,{sx:{mt:1},children:"削除すると、すでに入力されている試合のスコアや分析に影響が出る可能性があります。"})]}),e.jsxs(Ee,{children:[e.jsx(K,{onClick:Ms,color:"inherit",startIcon:e.jsx(He,{}),children:"キャンセル"}),e.jsx(K,{onClick:Sn,color:"error",startIcon:e.jsx(ze,{}),children:"OK"})]})]}),e.jsxs(dt,{open:pn,onClose:zs,children:[e.jsx(Pe,{children:"削除確認"}),e.jsxs(Me,{sx:{mt:2},children:["このプレー詳細を削除しますか？",e.jsx(t,{sx:{mt:1},children:"削除すると、すでに入力されている試合のスコアや分析に影響が出る可能性があります。"})]}),e.jsxs(Ee,{children:[e.jsx(K,{onClick:zs,color:"inherit",startIcon:e.jsx(He,{}),children:"キャンセル"}),e.jsx(K,{onClick:_n,color:"error",startIcon:e.jsx(ze,{}),children:"OK"})]})]})]})}export{Er as default};
