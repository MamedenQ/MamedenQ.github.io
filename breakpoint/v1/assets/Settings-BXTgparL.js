import{i as je,j as e,B as c,q as f,f as Me,g as we,h as $e,k as le,l,m as Ae,I as _e,n as ae,o as re,U as ge,p as ie,D as Ce,F as Ie,Q as Oe,S as Se,M as Z,d as it,e as ve,C as fe,R as mt,a2 as lt,a3 as at,G as pt,a4 as Zn,a5 as es,a6 as ts,a7 as ns,L as Nt,a8 as ss,A as ft}from"./mui-vendor-0BmcROP4.js";import{r as t,b as un,u as ls,f as as,L as rs}from"./react-vendor-QLNaZ7XN.js";import{r as pe,a as He,S as Ne,d as We,R as ze,b as oe,c as ce,D as de,g as is,e as os,f as Cn,_ as cs,h as ds}from"./index-DW43Q9OP.js";import{a as xs,d as hs}from"./QueryStatsOutlined-BtopvE_C.js";import{D as Fe,C as Ue,P as Be,d as Ve}from"./DragIndicator-BB1EOart.js";import{A as us,m as gs}from"./motion-vendor-CtLLg_49.js";import"./chart-vendor-BtE8BaVf.js";var Ht={},js=je;Object.defineProperty(Ht,"__esModule",{value:!0});var Ke=Ht.default=void 0,ps=js(pe()),fs=e;Ke=Ht.default=(0,ps.default)((0,fs.jsx)("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4m0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7"}),"VisibilityOutlined");var zt={},ms=je;Object.defineProperty(zt,"__esModule",{value:!0});var qe=zt.default=void 0,ys=ms(pe()),bs=e;qe=zt.default=(0,ys.default)((0,bs.jsx)("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5-.59 1.22-1.42 2.27-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6m-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14M2.01 3.87l2.68 2.68C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45zm7.5 7.5 2.61 2.61c-.04.01-.08.02-.12.02-1.38 0-2.5-1.12-2.5-2.5 0-.05.01-.08.01-.13m-3.4-3.4 1.75 1.75c-.23.55-.36 1.15-.36 1.78 0 2.48 2.02 4.5 4.5 4.5.63 0 1.23-.13 1.77-.36l.98.98c-.88.24-1.8.38-2.75.38-3.79 0-7.17-2.13-8.82-5.5.7-1.43 1.72-2.61 2.93-3.53"}),"VisibilityOffOutlined");var Ft={},vs=je;Object.defineProperty(Ft,"__esModule",{value:!0});var Dn=Ft.default=void 0,Cs=vs(pe()),Ds=e;Dn=Ft.default=(0,Cs.default)((0,Ds.jsx)("path",{d:"M15.61 7.41 14.2 6l-6 6 6 6 1.41-1.41L11.03 12z"}),"NavigateBeforeOutlined");var Ut={},Is=je;Object.defineProperty(Ut,"__esModule",{value:!0});var In=Ut.default=void 0,Ss=Is(pe()),ks=e;In=Ut.default=(0,Ss.default)((0,ks.jsx)("path",{d:"M10.02 6 8.61 7.41 13.19 12l-4.58 4.59L10.02 18l6-6z"}),"NavigateNextOutlined");var Bt={},Os=je;Object.defineProperty(Bt,"__esModule",{value:!0});var Sn=Bt.default=void 0,_s=Os(pe()),Ts=e;Sn=Bt.default=(0,_s.default)((0,Ts.jsx)("path",{d:"M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zm-7.76-2.78c-1.17-.52-2.61-.9-4.24-.9-1.63 0-3.07.39-4.24.9C6.68 14.13 6 15.21 6 16.39V18h12v-1.61c0-1.18-.68-2.26-1.76-2.74M8.07 16c.09-.23.13-.39.91-.69.97-.38 1.99-.56 3.02-.56s2.05.18 3.02.56c.77.3.81.46.91.69zM12 8c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m0-2c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"GroupsOutlined");var Vt={},Rs=je;Object.defineProperty(Vt,"__esModule",{value:!0});var kn=Vt.default=void 0,Es=Rs(pe()),Ps=e;kn=Vt.default=(0,Es.default)((0,Ps.jsx)("path",{d:"M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 10c2.7 0 5.8 1.29 6 2H6c.23-.72 3.31-2 6-2m0-12C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 10c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonOutlined");var Gt={},Ms=je;Object.defineProperty(Gt,"__esModule",{value:!0});var On=Gt.default=void 0,ws=Ms(pe()),gn=e;On=Gt.default=(0,ws.default)([(0,gn.jsx)("path",{d:"m21.41 11.41-8.83-8.83c-.37-.37-.88-.58-1.41-.58H4c-1.1 0-2 .9-2 2v7.17c0 .53.21 1.04.59 1.41l8.83 8.83c.78.78 2.05.78 2.83 0l7.17-7.17c.78-.78.78-2.04-.01-2.83M12.83 20 4 11.17V4h7.17L20 12.83z"},"0"),(0,gn.jsx)("circle",{cx:"6.5",cy:"6.5",r:"1.5"},"1")],"SellOutlined");var Kt={},$s=je;Object.defineProperty(Kt,"__esModule",{value:!0});var Qe=Kt.default=void 0,As=$s(pe()),rt=e;Qe=Kt.default=(0,As.default)([(0,rt.jsx)("path",{d:"M12 22C6.49 22 2 17.51 2 12S6.49 2 12 2s10 4.04 10 9c0 3.31-2.69 6-6 6h-1.77c-.28 0-.5.22-.5.5 0 .12.05.23.13.33.41.47.64 1.06.64 1.67 0 1.38-1.12 2.5-2.5 2.5m0-18c-4.41 0-8 3.59-8 8s3.59 8 8 8c.28 0 .5-.22.5-.5 0-.16-.08-.28-.14-.35-.41-.46-.63-1.05-.63-1.65 0-1.38 1.12-2.5 2.5-2.5H16c2.21 0 4-1.79 4-4 0-3.86-3.59-7-8-7"},"0"),(0,rt.jsx)("circle",{cx:"6.5",cy:"11.5",r:"1.5"},"1"),(0,rt.jsx)("circle",{cx:"9.5",cy:"7.5",r:"1.5"},"2"),(0,rt.jsx)("circle",{cx:"14.5",cy:"7.5",r:"1.5"},"3"),(0,rt.jsx)("circle",{cx:"17.5",cy:"11.5",r:"1.5"},"4")],"PaletteOutlined");var qt={},Ns=je;Object.defineProperty(qt,"__esModule",{value:!0});var _n=qt.default=void 0,Ws=Ns(pe()),jn=e;_n=qt.default=(0,Ws.default)([(0,jn.jsx)("path",{d:"M20 3H4c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h4v2h8v-2h4c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2m0 14H4V5h16z"},"0"),(0,jn.jsx)("path",{d:"M6 8.25h8v1.5H6zm10.5 1.5H18v-1.5h-1.5V7H15v4h1.5zm-6.5 2.5h8v1.5h-8zM7.5 15H9v-4H7.5v1.25H6v1.5h1.5z"},"1")],"DisplaySettingsOutlined");var Jt={},Ls=je;Object.defineProperty(Jt,"__esModule",{value:!0});var Tn=Jt.default=void 0,Hs=Ls(pe()),zs=e;Tn=Jt.default=(0,Hs.default)((0,zs.jsx)("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"StorageOutlined");var Yt={},Fs=je;Object.defineProperty(Yt,"__esModule",{value:!0});var Rn=Yt.default=void 0,Us=Fs(pe()),Bs=e;Rn=Yt.default=(0,Us.default)((0,Bs.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined");function Vs({teams:d,setTeams:i,setMembers:y,selectedTeam:j,setSelectedTeam:C,createTeam:W,showSnackbar:w}){const[L,$]=t.useState(!1),[O,z]=t.useState(""),[o,x]=t.useState(null),[u,B]=t.useState(!1),[q,F]=t.useState(null),K=D=>{if(!D.destination)return;const T=Array.from(d),[J]=T.splice(D.source.index,1);T.splice(D.destination.index,0,J),i(T)},H=()=>{x(-1),z(""),$(!0)},v=D=>{x(D),z(d[D].name),$(!0)},p=()=>{if(o===-1){const D=W(O);i(T=>[...T,D]),y(T=>({...T,[D.id]:[]})),j||C(D.id)}else if(o!==null){const D=d[o].id;i(T=>T.map((J,U)=>U===o?{...J,name:O}:J)),j===D&&C(D)}$(!1)},I=()=>{$(!1)},_=D=>{F(D),B(!0)},X=()=>{var D;if(q!==null){const T=q,J=d[T];let U=[];y(b=>{U=b[J.id]||[];const N={...b};return delete N[J.id],N});const Q=j,m=d.filter((b,N)=>N!==T);i(m),j===J.id&&C(((D=m[0])==null?void 0:D.id)||""),w("チームを削除しました","success",{actionLabel:"元に戻す",onAction:()=>{i(b=>{const N=[...b];return N.splice(T,0,J),N}),y(b=>({...b,[J.id]:U})),C(Q)},autoHideDuration:5e3})}B(!1),F(null)},G=()=>{B(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs(c,{children:[e.jsx(c,{sx:{maxWidth:1024,mx:"auto",display:"flex",justifyContent:"flex-end",mb:1},children:e.jsx(f,{onClick:H,variant:"contained",startIcon:e.jsx(He,{}),children:"追加"})}),e.jsx(Ne,{component:Me,storageKey:"teams-grid",sx:{maxWidth:1024,mx:"auto"},children:e.jsx(Fe,{onDragEnd:K,children:e.jsxs(we,{size:"small",children:[e.jsx($e,{children:e.jsxs(le,{sx:{backgroundColor:D=>D.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(l,{}),e.jsx(l,{children:"チーム名"}),e.jsx(l,{})]})}),e.jsx(Ue,{droppableId:"teams",children:D=>e.jsxs(Ae,{ref:D.innerRef,...D.droppableProps,children:[d.map((T,J)=>e.jsx(Be,{draggableId:T.id,index:J,children:U=>e.jsxs(le,{ref:U.innerRef,...U.draggableProps,style:U.draggableProps.style,onClick:()=>v(J),sx:{cursor:"pointer",height:50},children:[e.jsx(l,{padding:"checkbox",onClick:Q=>Q.stopPropagation(),children:e.jsx(c,{onClick:Q=>Q.stopPropagation(),...U.dragHandleProps,sx:{cursor:"grab",display:"inline-flex",touchAction:"none",width:32,height:32,alignItems:"center",justifyContent:"center"},children:e.jsx(Ve,{})})}),e.jsx(l,{children:T.name}),e.jsx(l,{padding:"checkbox",children:e.jsx(c,{onClick:Q=>Q.stopPropagation(),sx:{width:32,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(_e,{size:"small",onClick:()=>_(J),sx:{width:24,height:24},children:e.jsx(We,{fontSize:"small",color:"error"})})})})]})},T.id)),D.placeholder]})})]})})})]}),e.jsxs(ze,{open:L,onClose:I,children:[e.jsxs(ae,{children:["チーム名",o===-1?"追加":"編集"]}),e.jsx(re,{sx:{mt:2},children:e.jsx(ge,{label:"チーム名",value:O,onChange:D=>z(D.target.value),fullWidth:!0,margin:"dense"})}),e.jsxs(ie,{children:[e.jsx(f,{onClick:I,startIcon:e.jsx(oe,{}),color:"inherit",sx:{color:{xs:"black",md:"inherit"}},children:"キャンセル"}),e.jsx(f,{onClick:p,disabled:O.trim()==="",startIcon:e.jsx(ce,{}),children:"OK"})]})]}),e.jsxs(Ce,{open:u,onClose:G,children:[e.jsx(ae,{children:"削除確認"}),e.jsx(re,{sx:{mt:2},children:"このチームを削除しますか？"}),e.jsxs(ie,{children:[e.jsx(f,{onClick:G,startIcon:e.jsx(oe,{}),color:"inherit",children:"キャンセル"}),e.jsx(f,{onClick:X,color:"error",startIcon:e.jsx(ce,{}),children:"OK"})]})]})]})}const Gs=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)+Date.now().toString(36);function Ks({teams:d,members:i,setMembers:y,selectedTeam:j,setSelectedTeam:C,showSnackbar:W}){const[w,L]=t.useState(null),[$,O]=t.useState(""),[z,o]=t.useState(""),[x,u]=t.useState([]),[B,q]=t.useState(!0),[F,K]=t.useState(!1),[H,v]=t.useState(null),[p,I]=t.useState(!1),_=m=>{if(!m.destination||!j)return;const b=Array.from(i[j]||[]),[N]=b.splice(m.source.index,1);b.splice(m.destination.index,0,N),y(Y=>({...Y,[j]:b}))},X=()=>{L(-1),O(""),o(""),u([]),q(!0),K(!0)},G=m=>{L(m);const b=i[j][m];O(String(b.no)),o(b.name),u(b.positions||[]),q(b.visible!==!1),K(!0)},D=()=>{j&&(w===-1?y(m=>({...m,[j]:[...m[j]||[],{id:Gs(),no:Number($),name:z,positions:x,visible:B}]})):w!==null&&y(m=>({...m,[j]:m[j].map((b,N)=>N===w?{...b,no:Number($),name:z,positions:x,visible:B}:b)})),K(!1))},T=()=>{K(!1)},J=m=>{v(m),I(!0)},U=()=>{if(j&&H!==null){const m=H;let b;y(N=>{const Y=[...N[j]||[]];b=Y[m];const ee=Y.filter((xe,se)=>se!==m);return{...N,[j]:ee}}),W("メンバーを削除しました","success",{actionLabel:"元に戻す",onAction:()=>{b&&y(N=>{const Y=[...N[j]||[]];return Y.splice(m,0,b),{...N,[j]:Y}})},autoHideDuration:5e3})}I(!1),v(null)},Q=()=>{I(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs(c,{children:[e.jsx(c,{sx:{maxWidth:1024,mx:"auto"},children:e.jsxs(Ie,{fullWidth:!0,margin:"dense",children:[e.jsx(Oe,{id:"team-select-label",children:"チーム"}),e.jsx(Se,{labelId:"team-select-label",value:j,label:"チーム",onChange:m=>C(m.target.value),children:d.map(m=>e.jsx(Z,{value:m.id,children:m.name},m.id))})]})}),e.jsx(c,{sx:{maxWidth:1024,mx:"auto",display:"flex",justifyContent:"flex-end",mt:2,mb:1},children:e.jsx(f,{onClick:X,variant:"contained",startIcon:e.jsx(He,{}),children:"追加"})}),e.jsx(Ne,{component:Me,storageKey:"members-grid",sx:{maxWidth:1024,mx:"auto"},children:e.jsxs(we,{size:"small",children:[e.jsx($e,{children:e.jsxs(le,{sx:{backgroundColor:m=>m.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(l,{}),e.jsx(l,{children:"番号"}),e.jsx(l,{children:"名前"}),e.jsx(l,{children:"ポジション"}),e.jsx(l,{children:"表示"}),e.jsx(l,{})]})}),e.jsx(Fe,{onDragEnd:_,children:e.jsx(Ue,{droppableId:"members",children:m=>{var b;return e.jsxs(Ae,{ref:m.innerRef,...m.droppableProps,children:[(b=i[j])==null?void 0:b.map((N,Y)=>e.jsx(Be,{draggableId:N.id,index:Y,children:ee=>e.jsxs(le,{ref:ee.innerRef,...ee.draggableProps,"data-index":Y,onClick:()=>G(Y),sx:{cursor:"pointer",height:50},children:[e.jsx(l,{padding:"checkbox",children:e.jsx(c,{onClick:xe=>xe.stopPropagation(),...ee.dragHandleProps,sx:{cursor:"grab",display:"inline-flex",width:32,height:32,alignItems:"center",justifyContent:"center"},children:e.jsx(Ve,{})})}),e.jsx(l,{children:N.no}),e.jsx(l,{children:N.name}),e.jsx(l,{children:(N.positions||[]).join(", ")}),e.jsx(l,{children:N.visible===!1?e.jsx(qe,{}):e.jsx(Ke,{})}),e.jsx(l,{padding:"checkbox",children:e.jsx(c,{onClick:xe=>xe.stopPropagation(),sx:{width:32,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(_e,{size:"small",onClick:()=>J(Y),sx:{width:24,height:24},children:e.jsx(We,{fontSize:"small",color:"error"})})})})]})},N.id)),m.placeholder]})}})})]})})]}),e.jsxs(ze,{open:F,onClose:T,children:[e.jsxs(ae,{children:["メンバー",w===-1?"追加":"編集"]}),e.jsxs(re,{children:[e.jsx(ge,{label:"番号",type:"number",value:$,onChange:m=>O(m.target.value),fullWidth:!0,margin:"dense"}),e.jsx(ge,{label:"名前",value:z,onChange:m=>o(m.target.value),fullWidth:!0,margin:"dense"}),e.jsxs(Ie,{margin:"dense",fullWidth:!0,children:[e.jsx(Oe,{id:"positions-label",children:"ポジション"}),e.jsxs(Se,{labelId:"positions-label",multiple:!0,value:x,label:"ポジション",onChange:m=>u(typeof m.target.value=="string"?m.target.value.split(","):m.target.value),renderValue:m=>m.join(", "),children:[e.jsx(Z,{value:"レフト",children:"レフト"}),e.jsx(Z,{value:"センター",children:"センター"}),e.jsx(Z,{value:"ライト",children:"ライト"}),e.jsx(Z,{value:"セッター",children:"セッター"}),e.jsx(Z,{value:"リベロ",children:"リベロ"})]})]}),e.jsxs(it,{value:B?"visible":"hidden",exclusive:!0,onChange:(m,b)=>b&&q(b==="visible"),fullWidth:!0,sx:{display:"flex",mt:1},children:[e.jsxs(ve,{value:"visible",sx:{flex:1,whiteSpace:"nowrap",display:"flex",alignItems:"center",justifyContent:"center"},children:[e.jsx(Ke,{sx:{mr:1}}),"表示"]}),e.jsxs(ve,{value:"hidden",sx:{flex:1,whiteSpace:"nowrap",display:"flex",alignItems:"center",justifyContent:"center"},children:[e.jsx(qe,{sx:{mr:1}}),"非表示"]})]})]}),e.jsxs(ie,{children:[e.jsx(f,{onClick:T,startIcon:e.jsx(oe,{}),color:"inherit",children:"キャンセル"}),e.jsx(f,{onClick:D,disabled:$==="",startIcon:e.jsx(ce,{}),children:"OK"})]})]}),e.jsxs(Ce,{open:p,onClose:Q,children:[e.jsx(ae,{children:"削除確認"}),e.jsx(re,{sx:{mt:2},children:"このメンバーを削除しますか？"}),e.jsxs(ie,{children:[e.jsx(f,{onClick:Q,startIcon:e.jsx(oe,{}),color:"inherit",children:"キャンセル"}),e.jsx(f,{onClick:U,color:"error",startIcon:e.jsx(ce,{}),children:"OK"})]})]})]})}const pn=!1;function qs({openAddPlayDialog:d,playCategories:i,setPlayCategories:y,openEditPlayDialog:j,scoreInput:C,renderIcon:W,rallyCategoryTags:w,handlePlayDelete:L,openAddDetailDialog:$,playDetails:O,setPlayDetails:z,openEditDetailDialog:o,theme:x,rallyDetailTags:u,handleDetailDelete:B}){const q=v=>{if(!v.destination)return;const p=Array.from(i),[I]=p.splice(v.source.index,1);p.splice(v.destination.index,0,I),y(p)},F=un.useMemo(()=>{const v=[];return i.forEach(p=>{O.forEach((I,_)=>{I.playCategoryId===p.id&&v.push(_)})}),v},[i,O]),K=v=>{if(!v.destination)return;const p=F[v.source.index],I=F[v.destination.index],_=Array.from(O),[X]=_.splice(p,1);_.splice(I>p?I-1:I,0,X),z(_)};let H=0;return e.jsxs(c,{children:[e.jsx(c,{sx:{maxWidth:1024,mx:"auto",display:"flex",justifyContent:"flex-end",mb:1},children:e.jsx(f,{onClick:d,variant:"contained",startIcon:e.jsx(He,{}),children:"追加"})}),e.jsx(Ne,{component:Me,storageKey:"play-category-grid",sx:{maxWidth:1024,mx:"auto"},children:e.jsxs(we,{size:"small",sx:{minWidth:600},children:[e.jsx($e,{children:e.jsxs(le,{sx:{backgroundColor:v=>v.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(l,{sx:{width:48}}),e.jsx(l,{children:"プレー区分"}),pn,C.showRallyIcons&&e.jsx(l,{children:"アイコン"}),e.jsx(l,{children:"タグ"}),e.jsx(l,{children:"表示"}),e.jsx(l,{})]})}),e.jsx(Fe,{onDragEnd:q,children:e.jsx(Ue,{droppableId:"play-categories",children:v=>e.jsxs(Ae,{ref:v.innerRef,...v.droppableProps,children:[i.map((p,I)=>e.jsx(Be,{draggableId:p.id,index:I,children:_=>e.jsxs(le,{ref:_.innerRef,..._.draggableProps,"data-index":I,onClick:()=>j(I),sx:{cursor:"pointer",height:50},children:[e.jsx(l,{padding:"checkbox",sx:{width:48},children:e.jsx(c,{onClick:X=>X.stopPropagation(),..._.dragHandleProps,sx:{cursor:"grab",display:"inline-flex",width:32,height:32,alignItems:"center",justifyContent:"center"},children:e.jsx(Ve,{})})}),e.jsx(l,{children:e.jsx(fe,{label:p.name,size:"small",variant:"outlined",sx:{backgroundColor:"transparent",borderColor:p.color,color:p.color}})}),pn,C.showRallyIcons&&e.jsx(l,{children:W(p)}),e.jsx(l,{children:(p.tags||[]).map(X=>{const G=w.find(T=>T.id===X),D=(G==null?void 0:G.color)||de;return e.jsx(fe,{label:(G==null?void 0:G.name)||X,size:"small",sx:{mr:.5,mb:.5,backgroundColor:D,color:"#fff"}},X)})}),e.jsx(l,{children:p.visible===!1?e.jsx(qe,{}):e.jsx(Ke,{})}),e.jsx(l,{padding:"checkbox",children:e.jsx(c,{onClick:X=>X.stopPropagation(),sx:{width:32,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(_e,{size:"small",onClick:p.id==="init-serve"?void 0:()=>L(I),disabled:p.id==="init-serve",sx:{width:24,height:24},children:e.jsx(We,{fontSize:"small",color:p.id==="init-serve"?"disabled":"error"})})})})]})},p.id)),v.placeholder]})})})]})}),e.jsx(c,{sx:{maxWidth:1024,mx:"auto",display:"flex",justifyContent:"flex-end",mb:1,mt:2},children:e.jsx(f,{onClick:$,variant:"contained",startIcon:e.jsx(He,{}),children:"追加"})}),e.jsx(Ne,{component:Me,storageKey:"play-detail-grid",sx:{maxWidth:1024,mx:"auto"},children:e.jsxs(we,{size:"small",children:[e.jsx($e,{children:e.jsxs(le,{sx:{backgroundColor:v=>v.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(l,{}),e.jsx(l,{children:"プレー詳細"}),e.jsx(l,{children:"得点区分"}),e.jsx(l,{children:"得失点単位区分"}),e.jsx(l,{children:"タグ"}),e.jsx(l,{children:"表示"}),e.jsx(l,{})]})}),e.jsx(Fe,{onDragEnd:K,children:e.jsx(Ue,{droppableId:"play-details",children:v=>e.jsxs(Ae,{ref:v.innerRef,...v.droppableProps,children:[i.map(p=>e.jsxs(un.Fragment,{children:[e.jsx(le,{sx:{backgroundColor:I=>I.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:e.jsx(l,{colSpan:7,children:p.name})}),O.map((I,_)=>({d:I,i:_})).filter(({d:I})=>I.playCategoryId===p.id).map(({d:I,i:_})=>{const X=H++;return e.jsx(Be,{draggableId:I.id,index:X,children:G=>e.jsxs(le,{ref:G.innerRef,...G.draggableProps,"data-index":_,onClick:()=>o(_),sx:{cursor:"pointer",height:50},children:[e.jsx(l,{padding:"checkbox",children:e.jsx(c,{onClick:D=>D.stopPropagation(),...G.dragHandleProps,sx:{cursor:"grab",display:"inline-flex",width:32,height:32,alignItems:"center",justifyContent:"center"},children:e.jsx(Ve,{})})}),e.jsx(l,{children:e.jsx(fe,{label:I.name,size:"small",sx:{backgroundColor:I.pointType==="得点"?x.scoreColor:x.lossColor,border:`1px solid ${I.pointType==="得点"?x.scoreColor:x.lossColor}`,color:"#fff"}})}),e.jsx(l,{children:I.pointType}),e.jsx(l,{children:I.pointUnitType}),e.jsx(l,{children:(I.tags||[]).map(D=>{const T=u.find(U=>U.id===D),J=(T==null?void 0:T.color)||de;return e.jsx(fe,{label:(T==null?void 0:T.name)||D,size:"small",sx:{mr:.5,mb:.5,backgroundColor:J,color:"#fff"}},D)})}),e.jsx(l,{children:I.visible===!1?e.jsx(qe,{}):e.jsx(Ke,{})}),e.jsx(l,{padding:"checkbox",children:e.jsx(c,{onClick:D=>D.stopPropagation(),sx:{width:32,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(_e,{size:"small",onClick:()=>B(_),sx:{width:24,height:24},children:e.jsx(We,{fontSize:"small",color:"error"})})})})]})},I.id)})]},p.id)),v.placeholder]})})})]})})]})}const fn=!1,mn=!1,yn=!1;function Js({tags:d,setTags:i,rallyCategoryTags:y,setRallyCategoryTags:j,rallyDetailTags:C,setRallyDetailTags:W,setMatches:w,setPlayCategories:L,setPlayDetails:$,showSnackbar:O}){const[z,o]=t.useState(null),[x,u]=t.useState(""),[B,q]=t.useState(de),[F,K]=t.useState(!1),[H,v]=t.useState(null),[p,I]=t.useState(!1),[_,X]=t.useState(null),[G,D]=t.useState(""),[T,J]=t.useState(de),[U,Q]=t.useState(!1),[m,b]=t.useState(null),[N,Y]=t.useState(!1),[ee,xe]=t.useState(null),[se,he]=t.useState(""),[te,ue]=t.useState(de),[n,r]=t.useState(!1),[h,k]=t.useState(null),[P,E]=t.useState(!1),Te=a=>{if(!a.destination)return;const S=Array.from(d),[M]=S.splice(a.source.index,1);S.splice(a.destination.index,0,M),i(S)},Ze=a=>{if(!a.destination)return;const S=Array.from(y),[M]=S.splice(a.source.index,1);S.splice(a.destination.index,0,M),j(S)},et=a=>{if(!a.destination)return;const S=Array.from(C),[M]=S.splice(a.source.index,1);S.splice(a.destination.index,0,M),W(S)},tt=()=>{o(-1),u(""),q(de),K(!0)},yt=a=>{o(a),u(d[a].name),q(d[a].color),K(!0)},Je=()=>{z===-1?i(a=>[...a,{id:crypto.randomUUID(),name:x,color:B}]):z!==null&&i(a=>a.map((S,M)=>M===z?{...S,name:x,color:B}:S)),K(!1)},Ye=()=>{K(!1)},ot=a=>{v(a),I(!0)},bt=()=>{if(H!==null){const a=H,S=d[a];let M=[];i(V=>V.filter((R,me)=>me!==a)),w(V=>(M=V.map(R=>({...R,tags:[...R.tags]})),V.map(R=>({...R,tags:R.tags.filter(me=>me!==S.id)})))),O("試合タグを削除しました","success",{actionLabel:"元に戻す",onAction:()=>{i(V=>{const R=[...V];return R.splice(a,0,S),R}),w(()=>M)},autoHideDuration:5e3})}I(!1),v(null)},Xe=()=>{I(!1)},ke=()=>{X(-1),D(""),J(de),Q(!0)},Re=a=>{X(a),D(y[a].name),J(y[a].color),Q(!0)},Ge=()=>{_===-1?j(a=>[...a,{id:crypto.randomUUID(),name:G,color:T}]):_!==null&&j(a=>a.map((S,M)=>M===_?{...S,name:G,color:T}:S)),Q(!1)},ct=()=>{Q(!1)},Le=a=>{b(a),Y(!0)},vt=()=>{if(m!==null){const a=m,S=y[a];let M=[];j(V=>V.filter((R,me)=>me!==a)),L(V=>(M=V.map(R=>({...R,tags:[...R.tags||[]]})),V.map(R=>({...R,tags:(R.tags||[]).filter(me=>me!==S.id)})))),O("プレー区分タグを削除しました","success",{actionLabel:"元に戻す",onAction:()=>{j(V=>{const R=[...V];return R.splice(a,0,S),R}),L(()=>M)},autoHideDuration:5e3})}Y(!1),b(null)},be=()=>{Y(!1)},Ct=()=>{xe(-1),he(""),ue(de),r(!0)},De=a=>{xe(a),he(C[a].name),ue(C[a].color),r(!0)},Dt=()=>{ee===-1?W(a=>[...a,{id:crypto.randomUUID(),name:se,color:te}]):ee!==null&&W(a=>a.map((S,M)=>M===ee?{...S,name:se,color:te}:S)),r(!1)},Ee=()=>{r(!1)},It=a=>{k(a),E(!0)},Pe=()=>{if(h!==null){const a=h,S=C[a];let M=[];W(V=>V.filter((R,me)=>me!==a)),$(V=>(M=V.map(R=>({...R,tags:[...R.tags||[]]})),V.map(R=>({...R,tags:(R.tags||[]).filter(me=>me!==S.id)})))),O("プレー詳細タグを削除しました","success",{actionLabel:"元に戻す",onAction:()=>{W(V=>{const R=[...V];return R.splice(a,0,S),R}),$(()=>M)},autoHideDuration:5e3})}E(!1),k(null)},dt=()=>{E(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs(c,{children:[e.jsxs(c,{sx:{maxWidth:1024,mx:"auto",display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[e.jsx(c,{sx:{fontWeight:"bold"},children:"試合タグ"}),e.jsx(f,{onClick:tt,variant:"contained",startIcon:e.jsx(He,{}),children:"追加"})]}),e.jsx(Ne,{component:Me,storageKey:"match-tag-grid",sx:{maxWidth:1024,mx:"auto"},children:e.jsxs(we,{size:"small",children:[e.jsx($e,{children:e.jsxs(le,{sx:{backgroundColor:a=>a.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(l,{}),e.jsx(l,{children:"タグ名称"}),fn,e.jsx(l,{})]})}),e.jsx(Fe,{onDragEnd:Te,children:e.jsx(Ue,{droppableId:"match-tags",children:a=>e.jsxs(Ae,{ref:a.innerRef,...a.droppableProps,children:[d.map((S,M)=>e.jsx(Be,{draggableId:S.id,index:M,children:V=>e.jsxs(le,{ref:V.innerRef,...V.draggableProps,"data-index":M,onClick:()=>yt(M),sx:{cursor:"pointer",height:50},children:[e.jsx(l,{padding:"checkbox",children:e.jsx(c,{onClick:R=>R.stopPropagation(),...V.dragHandleProps,sx:{cursor:"grab",display:"inline-flex",width:32,height:32,alignItems:"center",justifyContent:"center"},children:e.jsx(Ve,{})})}),e.jsx(l,{children:e.jsx(fe,{label:S.name,size:"small",sx:{backgroundColor:S.color,border:`1px solid ${S.color}`,color:"#fff"}})}),fn,e.jsx(l,{padding:"checkbox",children:e.jsx(c,{onClick:R=>R.stopPropagation(),sx:{width:32,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(_e,{size:"small",onClick:()=>ot(M),sx:{width:24,height:24},children:e.jsx(We,{fontSize:"small",color:"error"})})})})]})},S.id)),a.placeholder]})})})]})}),e.jsxs(c,{sx:{maxWidth:1024,mx:"auto",display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,mt:2},children:[e.jsx(c,{sx:{fontWeight:"bold"},children:"プレー区分タグ"}),e.jsx(f,{onClick:ke,variant:"contained",startIcon:e.jsx(He,{}),children:"追加"})]}),e.jsx(Ne,{component:Me,storageKey:"play-category-tag-grid",sx:{maxWidth:1024,mx:"auto"},children:e.jsxs(we,{size:"small",children:[e.jsx($e,{children:e.jsxs(le,{sx:{backgroundColor:a=>a.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(l,{}),e.jsx(l,{children:"タグ名称"}),mn,e.jsx(l,{})]})}),e.jsx(Fe,{onDragEnd:Ze,children:e.jsx(Ue,{droppableId:"rally-category-tags",children:a=>e.jsxs(Ae,{ref:a.innerRef,...a.droppableProps,children:[y.map((S,M)=>e.jsx(Be,{draggableId:S.id,index:M,children:V=>e.jsxs(le,{ref:V.innerRef,...V.draggableProps,"data-index":M,onClick:()=>Re(M),sx:{cursor:"pointer",height:50},children:[e.jsx(l,{padding:"checkbox",children:e.jsx(c,{onClick:R=>R.stopPropagation(),...V.dragHandleProps,sx:{cursor:"grab",display:"inline-flex",width:32,height:32,alignItems:"center",justifyContent:"center"},children:e.jsx(Ve,{})})}),e.jsx(l,{children:e.jsx(fe,{label:S.name,size:"small",sx:{backgroundColor:S.color,border:`1px solid ${S.color}`,color:"#fff"}})}),mn,e.jsx(l,{padding:"checkbox",children:e.jsx(c,{onClick:R=>R.stopPropagation(),sx:{width:32,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(_e,{size:"small",onClick:()=>Le(M),sx:{width:24,height:24},children:e.jsx(We,{fontSize:"small",color:"error"})})})})]})},S.id)),a.placeholder]})})})]})}),e.jsxs(c,{sx:{maxWidth:1024,mx:"auto",display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,mt:2},children:[e.jsx(c,{sx:{fontWeight:"bold"},children:"プレー詳細タグ"}),e.jsx(f,{onClick:Ct,variant:"contained",startIcon:e.jsx(He,{}),children:"追加"})]}),e.jsx(Ne,{component:Me,storageKey:"play-detail-tag-grid",sx:{maxWidth:1024,mx:"auto"},children:e.jsxs(we,{size:"small",children:[e.jsx($e,{children:e.jsxs(le,{sx:{backgroundColor:a=>a.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(l,{}),e.jsx(l,{children:"タグ名称"}),yn,e.jsx(l,{})]})}),e.jsx(Fe,{onDragEnd:et,children:e.jsx(Ue,{droppableId:"rally-detail-tags",children:a=>e.jsxs(Ae,{ref:a.innerRef,...a.droppableProps,children:[C.map((S,M)=>e.jsx(Be,{draggableId:S.id,index:M,children:V=>e.jsxs(le,{ref:V.innerRef,...V.draggableProps,"data-index":M,onClick:()=>De(M),sx:{cursor:"pointer",height:50},children:[e.jsx(l,{padding:"checkbox",children:e.jsx(c,{onClick:R=>R.stopPropagation(),...V.dragHandleProps,sx:{cursor:"grab",display:"inline-flex",width:32,height:32,alignItems:"center",justifyContent:"center"},children:e.jsx(Ve,{})})}),e.jsx(l,{children:e.jsx(fe,{label:S.name,size:"small",sx:{backgroundColor:S.color,border:`1px solid ${S.color}`,color:"#fff"}})}),yn,e.jsx(l,{padding:"checkbox",children:e.jsx(c,{onClick:R=>R.stopPropagation(),sx:{width:32,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(_e,{size:"small",onClick:()=>It(M),sx:{width:24,height:24},children:e.jsx(We,{fontSize:"small",color:"error"})})})})]})},S.id)),a.placeholder]})})})]})})]}),e.jsxs(ze,{open:F,onClose:Ye,children:[e.jsxs(ae,{children:["タグ",z===-1?"追加":"編集"]}),e.jsxs(re,{sx:{mt:2},children:[e.jsx(ge,{label:"タグ名称",value:x,onChange:a=>u(a.target.value),fullWidth:!0,margin:"dense"}),e.jsx(ge,{label:"色",type:"color",value:B,onChange:a=>q(a.target.value),fullWidth:!0,margin:"dense",InputLabelProps:{shrink:!0},sx:{mt:2}})]}),e.jsxs(ie,{children:[e.jsx(f,{onClick:Ye,startIcon:e.jsx(oe,{}),color:"inherit",children:"キャンセル"}),e.jsx(f,{onClick:Je,disabled:x.trim()==="",startIcon:e.jsx(ce,{}),children:"OK"})]})]}),e.jsxs(Ce,{open:p,onClose:Xe,children:[e.jsx(ae,{children:"削除確認"}),e.jsx(re,{sx:{mt:2},children:"このタグを削除しますか？"}),e.jsxs(ie,{children:[e.jsx(f,{onClick:Xe,startIcon:e.jsx(oe,{}),color:"inherit",children:"キャンセル"}),e.jsx(f,{onClick:bt,color:"error",startIcon:e.jsx(ce,{}),children:"OK"})]})]}),e.jsxs(ze,{open:U,onClose:ct,children:[e.jsxs(ae,{children:["タグ",_===-1?"追加":"編集"]}),e.jsxs(re,{sx:{mt:2},children:[e.jsx(ge,{label:"タグ名称",value:G,onChange:a=>D(a.target.value),fullWidth:!0,margin:"dense"}),e.jsx(ge,{label:"色",type:"color",value:T,onChange:a=>J(a.target.value),fullWidth:!0,margin:"dense",InputLabelProps:{shrink:!0},sx:{mt:2}})]}),e.jsxs(ie,{children:[e.jsx(f,{onClick:ct,startIcon:e.jsx(oe,{}),color:"inherit",children:"キャンセル"}),e.jsx(f,{onClick:Ge,disabled:G.trim()==="",startIcon:e.jsx(ce,{}),children:"OK"})]})]}),e.jsxs(Ce,{open:N,onClose:be,children:[e.jsx(ae,{children:"削除確認"}),e.jsx(re,{sx:{mt:2},children:"このタグを削除しますか？"}),e.jsxs(ie,{children:[e.jsx(f,{onClick:be,startIcon:e.jsx(oe,{}),color:"inherit",children:"キャンセル"}),e.jsx(f,{onClick:vt,color:"error",startIcon:e.jsx(ce,{}),children:"OK"})]})]}),e.jsxs(ze,{open:n,onClose:Ee,children:[e.jsxs(ae,{children:["タグ",ee===-1?"追加":"編集"]}),e.jsxs(re,{sx:{mt:2},children:[e.jsx(ge,{label:"タグ名称",value:se,onChange:a=>he(a.target.value),fullWidth:!0,margin:"dense"}),e.jsx(ge,{label:"色",type:"color",value:te,onChange:a=>ue(a.target.value),fullWidth:!0,margin:"dense",InputLabelProps:{shrink:!0},sx:{mt:2}})]}),e.jsxs(ie,{children:[e.jsx(f,{onClick:Ee,startIcon:e.jsx(oe,{}),color:"inherit",children:"キャンセル"}),e.jsx(f,{onClick:Dt,disabled:se.trim()==="",startIcon:e.jsx(ce,{}),children:"OK"})]})]}),e.jsxs(Ce,{open:P,onClose:dt,children:[e.jsx(ae,{children:"削除確認"}),e.jsx(re,{sx:{mt:2},children:"このタグを削除しますか？"}),e.jsxs(ie,{children:[e.jsx(f,{onClick:dt,startIcon:e.jsx(oe,{}),color:"inherit",children:"キャンセル"}),e.jsx(f,{onClick:Pe,color:"error",startIcon:e.jsx(ce,{}),children:"OK"})]})]})]})}const Ys=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)+Date.now().toString(36);function Xs({statsSettings:d,setStatsSettings:i,playCategories:y,playDetails:j,rallyCategoryTags:C,rallyDetailTags:W,showSnackbar:w}){const[L,$]=t.useState(null),[O,z]=t.useState(""),[o,x]=t.useState(""),[u,B]=t.useState([]),[q,F]=t.useState([]),[K,H]=t.useState(""),[v,p]=t.useState(""),[I,_]=t.useState("合算"),[X,G]=t.useState(!1),[D,T]=t.useState(null),[J,U]=t.useState(!1),Q=n=>{if(!n.destination)return;const r=Array.from(d),[h]=r.splice(n.source.index,1);r.splice(n.destination.index,0,h),i(r)},m=n=>{var r;return((r=y.find(h=>h.id===n))==null?void 0:r.name)||""},b=n=>{var r;return((r=j.find(h=>h.id===n))==null?void 0:r.name)||""},N=()=>{$(-1),z(""),x(""),B([]),F([]),H(""),p(""),_("合算"),G(!0)},Y=n=>{const r=d[n];$(n),z(r.playCategoryId||""),x(r.playDetailId||""),B(r.playCategoryTags||[]),F(r.playDetailTags||[]),H(r.pointType||""),p(r.pointUnitType||""),_(r.aggregateType||"合算"),G(!0)},ee=()=>{const n=O!=="",r=o!=="",h=u.length>0,k=q.length>0,P=K!=="",E=v!=="";return n&&!r&&!h&&!k&&!P&&!E||n&&r&&!h&&!k&&!P&&!E||n&&!r&&!h&&!k&&P&&!E||n&&!r&&!h&&!k&&!P&&E||n&&!r&&!h&&!k&&P&&E||!n&&!r&&!h&&!k&&P&&!E||!n&&!r&&!h&&!k&&P&&E||!n&&!r&&!h&&!k&&!P&&E||h&&!n&&!r&&!k&&!P&&!E||h&&k&&!n&&!r&&!P&&!E||h&&k&&!n&&!r&&P&&!E||h&&k&&!n&&!r&&!P&&E||h&&k&&!n&&!r&&P&&E||h&&!n&&!r&&P&&!E||h&&!n&&!r&&!P&&E||h&&!n&&!r&&P&&E||k&&!n&&!r&&!h&&!P&&!E||k&&!n&&!r&&!h&&P&&!E||k&&!n&&!r&&!h&&!P&&E||k&&!n&&!r&&!h&&P&&E},xe=()=>{const n={id:L===-1?Ys():d[L].id,playCategoryId:O||void 0,playDetailId:o||void 0,playCategoryTags:O===""&&u.length>0?u:void 0,playDetailTags:o===""&&q.length>0?q:void 0,pointType:o?void 0:K||void 0,pointUnitType:o?void 0:v||void 0,aggregateType:I};L===-1?i(r=>[...r,n]):L!==null&&i(r=>r.map((h,k)=>k===L?n:h)),G(!1)},se=()=>{G(!1)},he=n=>{T(n),U(!0)},te=()=>{if(D!==null){const n=D,r=d[n];i(h=>h.filter((k,P)=>P!==n)),w("スタッツを削除しました","success",{actionLabel:"元に戻す",onAction:()=>{i(h=>{const k=[...h];return k.splice(n,0,r),k})},autoHideDuration:5e3})}U(!1),T(null)},ue=()=>{U(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs(c,{children:[e.jsx(c,{sx:{maxWidth:1024,mx:"auto",display:"flex",justifyContent:"flex-end",mb:1},children:e.jsx(f,{onClick:N,variant:"contained",startIcon:e.jsx(He,{}),children:"追加"})}),e.jsx(Ne,{component:Me,storageKey:"stats-grid",sx:{maxWidth:1024,mx:"auto"},children:e.jsxs(we,{size:"small",children:[e.jsx($e,{children:e.jsxs(le,{sx:{backgroundColor:n=>n.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(l,{}),e.jsx(l,{children:"プレー区分"}),e.jsx(l,{children:"プレー詳細"}),e.jsx(l,{children:"得点区分"}),e.jsx(l,{children:"得失点単位区分"}),e.jsx(l,{children:"集計方法"}),e.jsx(l,{})]})}),e.jsx(Fe,{onDragEnd:Q,children:e.jsx(Ue,{droppableId:"stats-settings",children:n=>e.jsxs(Ae,{ref:n.innerRef,...n.droppableProps,children:[d.map((r,h)=>e.jsx(Be,{draggableId:r.id,index:h,children:k=>e.jsxs(le,{ref:k.innerRef,...k.draggableProps,"data-index":h,onClick:()=>Y(h),sx:{cursor:"pointer",height:50},children:[e.jsx(l,{padding:"checkbox",children:e.jsx(c,{onClick:P=>P.stopPropagation(),...k.dragHandleProps,sx:{cursor:"grab",display:"inline-flex",width:32,height:32,alignItems:"center",justifyContent:"center"},children:e.jsx(Ve,{})})}),e.jsx(l,{children:r.playCategoryId?m(r.playCategoryId):r.playCategoryTags&&r.playCategoryTags.length>0?e.jsx(c,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:r.playCategoryTags.map(P=>{const E=C.find(Te=>Te.id===P);return e.jsx(fe,{label:(E==null?void 0:E.name)||P,size:"small",sx:{backgroundColor:(E==null?void 0:E.color)||de,color:"#fff"}},P)})}):""}),e.jsx(l,{children:r.playDetailId?b(r.playDetailId):r.playDetailTags&&r.playDetailTags.length>0?e.jsx(c,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:r.playDetailTags.map(P=>{const E=W.find(Te=>Te.id===P);return e.jsx(fe,{label:(E==null?void 0:E.name)||P,size:"small",sx:{backgroundColor:(E==null?void 0:E.color)||de,color:"#fff"}},P)})}):""}),e.jsx(l,{children:r.pointType||""}),e.jsx(l,{children:r.pointUnitType||""}),e.jsx(l,{children:r.aggregateType||"合算"}),e.jsx(l,{padding:"checkbox",children:e.jsx(c,{onClick:P=>P.stopPropagation(),sx:{width:32,height:32,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(_e,{size:"small",onClick:()=>he(h),sx:{width:24,height:24},children:e.jsx(We,{fontSize:"small",color:"error"})})})})]})},r.id)),n.placeholder]})})})]})})]}),e.jsxs(ze,{open:X,onClose:se,children:[e.jsxs(ae,{children:["スタッツ設定",L===-1?"追加":"編集"]}),e.jsxs(re,{children:[e.jsxs(Ie,{fullWidth:!0,margin:"dense",children:[e.jsx(Oe,{id:"stat-category-label",children:"プレー区分"}),e.jsxs(Se,{labelId:"stat-category-label",value:O,label:"プレー区分",onChange:n=>{z(n.target.value),x(""),B([]),F([])},disabled:u.length>0||q.length>0,children:[e.jsx(Z,{value:"",children:"なし"}),y.map(n=>e.jsx(Z,{value:n.id,children:n.name},n.id))]})]}),e.jsxs(Ie,{fullWidth:!0,margin:"dense",children:[e.jsx(Oe,{id:"stat-detail-label",children:"プレー詳細"}),e.jsxs(Se,{labelId:"stat-detail-label",value:o,label:"プレー詳細",onChange:n=>{x(n.target.value),H(""),p(""),B([]),F([])},disabled:K!==""||v!==""||u.length>0||q.length>0,children:[e.jsx(Z,{value:"",children:"なし"}),j.filter(n=>n.playCategoryId===O).map(n=>e.jsx(Z,{value:n.id,children:n.name},n.id))]})]}),e.jsx(mt,{multiple:!0,options:C,getOptionLabel:n=>n.name,value:C.filter(n=>u.includes(n.id)),onChange:(n,r)=>{B(r.map(h=>h.id)),r.length>0&&(z(""),x(""))},disabled:O!==""||o!=="",renderTags:(n,r)=>n.map((h,k)=>e.jsx(fe,{...r({index:k}),label:h.name,size:"small",sx:{backgroundColor:h.color||de,color:"#fff"}})),renderInput:n=>e.jsx(ge,{...n,label:"プレー区分タグ",margin:"dense"}),fullWidth:!0}),e.jsx(mt,{multiple:!0,options:W,getOptionLabel:n=>n.name,value:W.filter(n=>q.includes(n.id)),onChange:(n,r)=>{F(r.map(h=>h.id)),r.length>0&&(z(""),x(""))},disabled:O!==""||o!=="",renderTags:(n,r)=>n.map((h,k)=>e.jsx(fe,{...r({index:k}),label:h.name,size:"small",sx:{backgroundColor:h.color||de,color:"#fff"}})),renderInput:n=>e.jsx(ge,{...n,label:"プレー詳細タグ",margin:"dense"}),fullWidth:!0}),e.jsxs(Ie,{fullWidth:!0,margin:"dense",children:[e.jsx(Oe,{id:"stat-point-label",children:"得点区分"}),e.jsxs(Se,{labelId:"stat-point-label",value:K,label:"得点区分",onChange:n=>{H(n.target.value),n.target.value!==""&&x("")},disabled:o!=="",children:[e.jsx(Z,{value:"",children:"なし"}),e.jsx(Z,{value:"得点",children:"得点"}),e.jsx(Z,{value:"失点",children:"失点"})]})]}),e.jsxs(Ie,{fullWidth:!0,margin:"dense",children:[e.jsx(Oe,{id:"stat-unit-label",children:"得失点単位区分"}),e.jsxs(Se,{labelId:"stat-unit-label",value:v,label:"得失点単位区分",onChange:n=>{p(n.target.value),n.target.value!==""&&x("")},disabled:o!=="",children:[e.jsx(Z,{value:"",children:"なし"}),e.jsx(Z,{value:"メンバー",children:"メンバー"}),e.jsx(Z,{value:"チーム",children:"チーム"})]})]}),e.jsxs(Ie,{fullWidth:!0,margin:"dense",children:[e.jsx(Oe,{id:"stat-aggregate-label",children:"集計方法"}),e.jsxs(Se,{labelId:"stat-aggregate-label",value:I,label:"集計方法",onChange:n=>_(n.target.value),children:[e.jsx(Z,{value:"合算",children:"合算"}),e.jsx(Z,{value:"セット平均",children:"セット平均"})]})]})]}),e.jsxs(ie,{children:[e.jsx(f,{onClick:se,color:"inherit",startIcon:e.jsx(oe,{}),children:"キャンセル"}),e.jsx(f,{onClick:xe,disabled:!ee(),startIcon:e.jsx(ce,{}),children:"OK"})]})]}),e.jsxs(Ce,{open:J,onClose:ue,children:[e.jsx(ae,{children:"削除確認"}),e.jsx(re,{sx:{mt:2},children:"このスタッツ設定を削除しますか？"}),e.jsxs(ie,{children:[e.jsx(f,{onClick:ue,color:"inherit",startIcon:e.jsx(oe,{}),children:"キャンセル"}),e.jsx(f,{onClick:te,color:"error",startIcon:e.jsx(ce,{}),children:"OK"})]})]})]})}const Qs={mode:"light",appBarColor:"#F5F5F5",appBarTextColor:"#000000",buttonColor:"#1C8139",scoreColor:"#1C8139",lossColor:"#D21972"},Zs={mode:"light",appBarColor:"#F2EDE3",appBarTextColor:"#000000",buttonColor:"#48A588",scoreColor:"#48A588",lossColor:"#CE5164"},el={mode:"dark",appBarColor:"#333333",appBarTextColor:"#FFFFFF",buttonColor:"#90CAF9",scoreColor:"#90CAF9",lossColor:"#F48FB1"},tl={mode:"dark",appBarColor:"#121212",appBarTextColor:"#FFFFFF",buttonColor:"#BB86FC",scoreColor:"#419552",lossColor:"#C77584"};function nl({theme:d,onThemeChange:i}){return e.jsxs(c,{sx:{display:"flex",flexDirection:"column",gap:2,mt:1,maxWidth:1024,width:"100%",mx:"auto"},children:[e.jsxs(c,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(c,{sx:{mr:2},children:"アプリカラー"}),e.jsx("input",{type:"color",value:d.appBarColor,onChange:y=>i({...d,appBarColor:y.target.value}),title:"背景色"}),e.jsx("input",{type:"color",value:d.appBarTextColor,onChange:y=>i({...d,appBarTextColor:y.target.value}),title:"文字色",style:{marginLeft:8}})]}),e.jsxs(c,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(c,{sx:{mr:2},children:"ボタンカラー"}),e.jsx("input",{type:"color",value:d.buttonColor,onChange:y=>i({...d,buttonColor:y.target.value})})]}),e.jsxs(c,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(c,{sx:{mr:2},children:"得点カラー"}),e.jsx("input",{type:"color",value:d.scoreColor,onChange:y=>i({...d,scoreColor:y.target.value})})]}),e.jsxs(c,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(c,{sx:{mr:2},children:"失点カラー"}),e.jsx("input",{type:"color",value:d.lossColor,onChange:y=>i({...d,lossColor:y.target.value})})]}),e.jsxs(c,{sx:{display:"flex",gap:1},children:[e.jsx(f,{variant:"contained",onClick:()=>i({...Qs}),startIcon:e.jsx(Qe,{}),children:"ライトモード１"}),e.jsx(f,{variant:"contained",onClick:()=>i({...Zs}),startIcon:e.jsx(Qe,{}),children:"ライトモード２"}),e.jsx(f,{variant:"contained",onClick:()=>i({...el}),startIcon:e.jsx(Qe,{}),children:"ダークモード１"}),e.jsx(f,{variant:"contained",onClick:()=>i({...tl}),startIcon:e.jsx(Qe,{}),children:"ダークモード２"})]})]})}var Xt={},sl=je;Object.defineProperty(Xt,"__esModule",{value:!0});var En=Xt.default=void 0,ll=sl(pe()),al=e;En=Xt.default=(0,ll.default)((0,al.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8"}),"Replay");function rl({scoreInput:d,onScoreInputChange:i,dashboardVisible:y,onDashboardVisibleChange:j,showSnackbar:C}){const[W,w]=t.useState(!1),L=()=>{try{const o=[];for(let x=0;x<localStorage.length;x++){const u=localStorage.key(x);u&&u.startsWith("tutorial-")&&o.push(u)}o.forEach(x=>localStorage.removeItem(x)),C("ガイド表示済み状態をクリアしました","success")}catch(o){console.error(o),C("ガイド表示済み状態のクリアに失敗しました","error")}},$=()=>w(!0),O=()=>w(!1),z=()=>{w(!1),L()};return e.jsxs(c,{sx:{display:"flex",flexDirection:"column",mt:1,maxWidth:1024,width:"100%",mx:"auto"},children:[e.jsx(lt,{control:e.jsx(at,{checked:d.rallyMemberRequired,onChange:o=>i({...d,rallyMemberRequired:o.target.checked})}),label:"ラリー結果メンバー選択必須",sx:{mb:1}}),e.jsx(lt,{control:e.jsx(at,{checked:d.showRallyIcons,onChange:o=>i({...d,showRallyIcons:o.target.checked})}),label:"ラリー結果アイコン表示",sx:{mb:1}}),e.jsx(lt,{control:e.jsx(at,{checked:d.showScoreProgressArea,onChange:o=>i({...d,showScoreProgressArea:o.target.checked})}),label:"得点推移エリア表示",sx:{mb:1}}),e.jsx(lt,{control:e.jsx(at,{checked:d.showGridScrollHint,onChange:o=>i({...d,showGridScrollHint:o.target.checked})}),label:"グリッド横スクロール表記表示",sx:{mb:1}}),e.jsx(lt,{control:e.jsx(at,{checked:y,onChange:o=>j(o.target.checked)}),label:"ダッシュボード表示",sx:{mb:1,display:"none"}}),e.jsx(f,{variant:"contained",startIcon:e.jsx(En,{}),onClick:$,sx:{bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark"},alignSelf:"flex-start",mt:2},children:"ガイド再表示"}),e.jsxs(Ce,{open:W,onClose:O,children:[e.jsx(ae,{children:"確認"}),e.jsx(re,{sx:{mt:2},children:"ガイドを再表示しますか？"}),e.jsxs(ie,{children:[e.jsx(f,{onClick:O,startIcon:e.jsx(oe,{}),color:"inherit",children:"キャンセル"}),e.jsx(f,{onClick:z,startIcon:e.jsx(ce,{}),children:"OK"})]})]})]})}var Qt={},il=je;Object.defineProperty(Qt,"__esModule",{value:!0});var Pn=Qt.default=void 0,ol=il(pe()),cl=e;Pn=Qt.default=(0,ol.default)((0,cl.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 12H6V10h12z"}),"LockOpen");function dl({teams:d,matches:i,tags:y,matchLocks:j,setMatchLocks:C,lockGroupBy:W,setLockGroupBy:w,isMobile:L}){return e.jsxs(c,{children:[e.jsx(c,{sx:{maxWidth:1024,mx:"auto"},children:L?e.jsx(Ie,{size:"small",margin:"dense",children:e.jsxs(Se,{value:W,onChange:$=>w($.target.value),children:[e.jsx(Z,{value:"none",children:"グルーピングなし"}),e.jsx(Z,{value:"dateName",children:"試合日付＋試合名"}),e.jsx(Z,{value:"card",children:"対戦カード"})]})}):e.jsxs(it,{exclusive:!0,value:W,onChange:($,O)=>{O!==null&&w(O)},sx:{mb:1},children:[e.jsx(ve,{value:"none",children:"グルーピングなし"}),e.jsx(ve,{value:"dateName",children:"試合日付＋試合名"}),e.jsx(ve,{value:"card",children:"対戦カード"})]})}),e.jsx(Ne,{component:Me,storageKey:"match-lock-grid",sx:{maxWidth:1024,mx:"auto"},children:e.jsxs(we,{size:"small",children:[e.jsx($e,{children:e.jsxs(le,{sx:{backgroundColor:$=>$.palette.mode==="dark"?"#343A42":"#f5f5f5",height:50},children:[e.jsx(l,{padding:"checkbox"}),e.jsx(l,{children:"日付"}),e.jsx(l,{children:"試合名"}),e.jsx(l,{children:"対戦カード"}),e.jsx(l,{children:"タグ"}),e.jsx(l,{children:"セット"})]})}),e.jsx(Ae,{children:function(){const $=x=>{var u;return((u=d.find(B=>B.id===x))==null?void 0:u.name)||""},O=W,z=is(i,O),o=x=>x.map(u=>{const B=u.sets.filter(H=>H.my>H.opponent).length,q=u.sets.filter(H=>H.my<H.opponent).length,F=u.sets.map((H,v)=>{const p=v<u.sets.length-1?", ":"";return`${H.my}-${H.opponent}${p}`}).join(""),K=j[u.id];return e.jsxs(le,{sx:{height:50},children:[e.jsx(l,{padding:"checkbox",children:e.jsx(_e,{size:"small",onClick:()=>C(H=>({...H,[u.id]:!H[u.id]})),children:K?e.jsx(Cn,{sx:{color:"#D21972"}}):e.jsx(Pn,{sx:{color:"#1C8139"}})})}),e.jsx(l,{children:u.date}),e.jsx(l,{children:u.matchName}),e.jsx(l,{children:`${$(u.teamA)} - ${$(u.teamB)}`}),e.jsx(l,{children:u.tags.map(H=>{const v=y.find(I=>I.id===H),p=(v==null?void 0:v.color)||de;return e.jsx(fe,{label:(v==null?void 0:v.name)||H,size:"small",sx:{mr:.5,mb:.5,backgroundColor:p,color:"#fff"}},H)})}),e.jsxs(l,{children:[B,"-",q," (",F,")"]})]},u.id)});return O==="none"?o(z.all||[]):Object.entries(z).map(([x,u])=>{const B=O==="card"?os(u[0].teamA,u[0].teamB,d):x;return e.jsxs(t.Fragment,{children:[e.jsx(le,{sx:{height:50},children:e.jsx(l,{colSpan:6,sx:{backgroundColor:q=>q.palette.mode==="dark"?"#343A42":"#f5f5f5",fontWeight:"bold"},children:B})}),o(u)]},x)})}()})]})})]})}var Zt={},xl=je;Object.defineProperty(Zt,"__esModule",{value:!0});var Mn=Zt.default=void 0,hl=xl(pe()),ul=e;Mn=Zt.default=(0,hl.default)((0,ul.jsx)("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 12H4V8h16z"}),"FolderOpen");var en={},gl=je;Object.defineProperty(en,"__esModule",{value:!0});var Wt=en.default=void 0,jl=gl(pe()),pl=e;Wt=en.default=(0,jl.default)((0,pl.jsx)("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"FileUpload");var tn={},fl=je;Object.defineProperty(tn,"__esModule",{value:!0});var wn=tn.default=void 0,ml=fl(pe()),yl=e;wn=tn.default=(0,ml.default)((0,yl.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"FileDownload");const bl=`[team]
サンプルチーム

[member]
サンプルチーム,1,バレーボーラー

[rally-play-category]
スパイク

[rally-play-detail]
スパイク,イン,得点,メンバー
スパイク,アウト,失点,メンバー
スパイク,アウト,失点,メンバー`,Lt=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)+Date.now().toString(36),vl=d=>({id:crypto.randomUUID(),name:d}),Cl=d=>({id:Lt(),name:d,color:de,iconType:"none",tags:[],visible:!0});function Dl({onDeleteData:d,onImportData:i,onExportData:y,showSnackbar:j,teams:C,setTeams:W,setMembers:w,playCategories:L,setPlayCategories:$,setPlayDetails:O}){const[z,o]=t.useState(!1),[x,u]=t.useState(null),[B,q]=t.useState(!1),[F,K]=t.useState(!1),[H,v]=t.useState(bl),p=()=>{o(!0)},I=async()=>{o(!1);try{await d(),j("全データを削除しました","success")}catch(b){console.error(b),j("全データの削除に失敗しました","error")}},_=()=>{o(!1)},X=b=>{u(b.target.files&&b.target.files[0]?b.target.files[0]:null)},G=()=>{q(!0)},D=async()=>{q(!1);const b=x;u(null);try{b&&await i(b),j("インポートが完了しました","success")}catch(N){console.error(N),j("インポートに失敗しました","error")}},T=()=>{q(!1)},J=async()=>{try{await y(),j("エクスポートが完了しました","success")}catch(b){console.error(b),j("エクスポートに失敗しました","error")}},U=()=>{K(!0)},Q=()=>{K(!1);try{const b=H.replace(/\r\n/g,`
`).split(`
`);let N="";const Y=[],ee={},xe=[],se=[];for(const he of b){const te=he.trim();if(te!==""){if(te.startsWith("[")&&te.endsWith("]")){N=te.toLowerCase();continue}switch(N){case"[team]":Y.push(vl(te));break;case"[member]":{const[ue,n,r]=te.split(",").map(h=>h.trim());if(ue&&n&&r){const h=[...C,...Y].find(k=>k.name===ue);if(h){const k={id:Lt(),no:Number(n),name:r,positions:[],visible:!0};ee[h.id]||(ee[h.id]=[]),ee[h.id].push(k)}}break}case"[rally-play-category]":xe.push(Cl(te));break;case"[rally-play-detail]":{const[ue,n,r,h]=te.split(",").map(k=>k.trim());if(ue&&n&&r&&h){const k=[...L,...xe].find(P=>P.name===ue);k&&se.push({id:Lt(),playCategoryId:k.id,name:n,pointType:r,pointUnitType:h,tags:[],visible:!0})}break}default:break}}}Y.length&&W(he=>[...he,...Y]),Object.keys(ee).length&&w(he=>{const te={...he};for(const[ue,n]of Object.entries(ee))te[ue]=[...te[ue]||[],...n];return te}),xe.length&&$(he=>[...he,...xe]),se.length&&O(he=>[...he,...se]),Y.length||Object.keys(ee).length||xe.length||se.length?(j("一括登録が完了しました","success"),v("")):j("登録対象のデータがありません","error")}catch(b){console.error(b),j("一括登録に失敗しました","error")}},m=()=>{K(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs(c,{sx:{maxWidth:1024,mx:"auto",textAlign:"left",display:"flex",flexDirection:"column",gap:1,alignItems:"flex-start"},children:[e.jsx(c,{sx:{fontWeight:"bold"},children:"データエクスポート"}),e.jsx(c,{children:e.jsx(f,{variant:"contained",startIcon:e.jsx(wn,{}),onClick:J,children:"エクスポート"})}),e.jsx(c,{sx:{mt:2,fontWeight:"bold"},children:"データインポート"}),e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsxs(f,{variant:"outlined",component:"label",startIcon:e.jsx(Mn,{}),children:["ファイル選択",e.jsx("input",{type:"file",accept:".zip",hidden:!0,onChange:X})]}),e.jsx(f,{variant:"contained",startIcon:e.jsx(Wt,{}),onClick:G,disabled:!x,children:"インポート"})]}),e.jsx(c,{sx:{mt:2,fontWeight:"bold"},children:"一括登録"}),e.jsx(ge,{value:H,onChange:b=>v(b.target.value),multiline:!0,minRows:10,fullWidth:!0}),e.jsx(c,{sx:{display:"flex",justifyContent:"flex-end",mt:1},children:e.jsx(f,{variant:"contained",startIcon:e.jsx(Wt,{}),onClick:U,children:"一括登録"})}),e.jsx(c,{sx:{mt:2,fontWeight:"bold"},children:"データ削除"}),e.jsx(f,{variant:"contained",color:"error",startIcon:e.jsx(We,{}),onClick:p,children:"全データ削除"})]}),e.jsxs(Ce,{open:z,onClose:_,children:[e.jsx(ae,{children:"削除確認"}),e.jsx(re,{sx:{mt:2},children:"全データを削除しますか？"}),e.jsxs(ie,{children:[e.jsx(f,{onClick:_,startIcon:e.jsx(oe,{}),color:"inherit",children:"キャンセル"}),e.jsx(f,{onClick:I,color:"error",startIcon:e.jsx(ce,{}),children:"OK"})]})]}),e.jsxs(Ce,{open:B,onClose:T,children:[e.jsx(ae,{children:"確認"}),e.jsx(re,{sx:{mt:2},children:"データをインポートしますか？"}),e.jsxs(ie,{children:[e.jsx(f,{onClick:T,startIcon:e.jsx(oe,{}),color:"inherit",children:"キャンセル"}),e.jsx(f,{onClick:D,disabled:!x,startIcon:e.jsx(ce,{}),children:"OK"})]})]}),e.jsxs(Ce,{open:F,onClose:m,children:[e.jsx(ae,{children:"確認"}),e.jsx(re,{sx:{mt:2},children:"一括登録を実行しますか？"}),e.jsxs(ie,{children:[e.jsx(f,{onClick:m,startIcon:e.jsx(oe,{}),color:"inherit",children:"キャンセル"}),e.jsx(f,{onClick:Q,startIcon:e.jsx(ce,{}),children:"OK"})]})]})]})}var nn={},Il=je;Object.defineProperty(nn,"__esModule",{value:!0});var $n=nn.default=void 0,Sl=Il(pe()),kl=e;$n=nn.default=(0,Sl.default)((0,kl.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");const Ol=`MIT License

Copyright (c) 2025 shinya_sun_sun

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
`;function _l(d){if(!d)return"";let i=d.replace(/^git\+/,"");const y=i.match(/^git@github\.com:(.+)$/);y&&(i=`https://github.com/${y[1]}`);const j=i.match(/^git:\/\/github\.com\/(.+)$/);j&&(i=`https://github.com/${j[1]}`);const C=i.match(/^ssh:\/\/git@github\.com\/(.+)$/);return C&&(i=`https://github.com/${C[1]}`),i.startsWith("github.com/")&&(i=`https://${i}`),/^[a-zA-Z]+:\/\//.test(i)||(/^[^/]+\/[^/]+$/.test(i)?i=`https://github.com/${i}`:i=`https://${i}`),i=i.replace(/\.git$/,""),i}function Tl(){const[d,i]=t.useState(""),[y,j]=t.useState([]),[C,W]=t.useState(!0),[w,L]=t.useState({}),$={MIT:"https://opensource.org/license/mit/"};t.useEffect(()=>{cs(()=>import("./licenses-CkgLLKu8.js"),[]).then(o=>j(o.licenses)).finally(()=>W(!1))},[]);const O=t.useMemo(()=>y.filter(o=>o.name.toLowerCase().includes(d.toLowerCase())),[d,y]),z=async o=>{if(!w[o])try{const x=await fetch(`https://raw.githubusercontent.com/spdx/license-list-data/main/text/${o}.txt`);if(!x.ok)throw new Error("not ok");const u=await x.text();L(B=>({...B,[o]:u}))}catch{L(x=>({...x,[o]:""}))}};return e.jsxs(c,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[e.jsx(pt,{variant:"h6",sx:{mb:1},children:"BreakPoint MIT License"}),e.jsx(c,{component:"pre",sx:{p:1,backgroundColor:o=>o.palette.mode==="dark"?"#343A42":"#f5f5f5",color:o=>o.palette.text.primary,whiteSpace:"pre-wrap",minHeight:128,overflow:"auto"},children:Ol}),e.jsx(ge,{label:"検索",value:d,onChange:o=>i(o.target.value),sx:{my:2}}),e.jsx(c,{sx:{flexGrow:1,overflow:"auto"},children:C?e.jsx(c,{sx:{display:"flex",justifyContent:"center",mt:2},children:e.jsx(Zn,{})}):O.map(o=>{const x=o.license;return e.jsxs(es,{onChange:(u,B)=>{B&&z(x)},children:[e.jsxs(ts,{expandIcon:e.jsx($n,{}),children:[e.jsx(pt,{sx:{flexGrow:1},children:o.name}),e.jsx(pt,{variant:"body2",sx:{ml:2},children:x})]}),e.jsxs(ns,{children:[(()=>{const u=_l(o.url);return u&&e.jsx(Nt,{href:u,target:"_blank",rel:"noopener",sx:{display:"block",mb:1,wordBreak:"break-all"},children:u})})(),o.license.startsWith("CC")&&o.attribution&&e.jsx(pt,{variant:"body2",sx:{mb:1,whiteSpace:"pre-wrap"},children:o.attribution}),w[x]!==void 0&&(w[x]?e.jsx(c,{component:"pre",sx:{p:1,backgroundColor:u=>u.palette.mode==="dark"?"#343A42":"#f5f5f5",color:u=>u.palette.text.primary,whiteSpace:"pre-wrap",maxHeight:300,overflow:"auto"},children:w[x]}):e.jsx(Nt,{href:$[x]||`https://spdx.org/licenses/${x}.html`,target:"_blank",rel:"noopener",sx:{wordBreak:"break-all"},children:$[x]||`https://spdx.org/licenses/${x}.html`}))]})]},o.name)})})]})}const Rl=gs.create(c),bn=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)+Date.now().toString(36);function vn(d){if(typeof window>"u")return d;try{const y=new DOMParser().parseFromString(d,"image/svg+xml"),j=new Set(["svg","g","path","circle","rect","line","polygon","polyline","text","defs","use"]),C=W=>{[...W.children].forEach(w=>{if(j.has(w.tagName))[...w.attributes].forEach(L=>{L.name.startsWith("on")&&w.removeAttribute(L.name)}),C(w);else{const L=document.createTextNode(w.outerHTML);w.replaceWith(L)}})};return C(y.documentElement),y.documentElement.outerHTML}catch{return""}}function El({src:d,cropX:i,cropY:y,onChange:j}){const C=t.useRef(null),W=t.useRef(null),[w,L]=t.useState(!1),[$,O]=t.useState({x:0,y:0}),z=()=>C.current?{sx:C.current.clientWidth/C.current.naturalWidth,sy:C.current.clientHeight/C.current.naturalHeight}:{sx:1,sy:1},o=F=>{F.preventDefault(),F.stopPropagation();const K=W.current.getBoundingClientRect();O({x:F.clientX-K.left,y:F.clientY-K.top}),L(!0)},x=F=>{if(!w||!C.current)return;const K=C.current.getBoundingClientRect(),{sx:H,sy:v}=z(),p=F.clientX-K.left-$.x,I=F.clientY-K.top-$.y,_=Math.min(Math.max(0,p/H),C.current.naturalWidth-64),X=Math.min(Math.max(0,I/v),C.current.naturalHeight-64);j(Math.round(_),Math.round(X))},u=()=>L(!1),{sx:B,sy:q}=z();return e.jsxs(c,{sx:{position:"relative",display:"inline-block"},onMouseMove:x,onMouseUp:u,onMouseLeave:u,children:[e.jsx("img",{src:d,ref:C,style:{maxWidth:256}}),e.jsx(c,{ref:W,sx:{position:"absolute",left:i*B,top:y*q,width:64,height:64,border:"1px solid red",cursor:"move"},onMouseDown:o})]})}function Pl({name:d}){const i=t.useRef(null),[y,j]=t.useState(1);return t.useEffect(()=>{const C=i.current;if(!C)return;const W=C.getBBox().width;j(W>64?64/W:1)},[d]),e.jsx("svg",{width:64,height:64,children:e.jsx("g",{transform:`scale(${y})`,children:e.jsx("text",{ref:i,x:32/y,y:32/y,textAnchor:"middle",dominantBaseline:"middle",fontSize:8,children:d})})})}function Hl({matches:d,teams:i,teamMembers:y,playCategories:j,playDetails:C,statsSettings:W,tags:w,rallyCategoryTags:L,rallyDetailTags:$,themeSetting:O,scoreInputSetting:z,onSave:o,onDirtyChange:x,onDeleteData:u,onImportData:B,onExportData:q,showSnackbar:F,dashboardVisible:K,onDashboardVisibleChange:H,setAppBarLeftAction:v}){var hn;const[p,I]=t.useState("teams");t.useEffect(()=>{window.scrollTo(0,0)},[p]);const[_,X]=t.useState([...i]),[G,D]=t.useState({...y}),[T,J]=t.useState(((hn=i[0])==null?void 0:hn.id)||""),[U,Q]=t.useState([...j]),[m,b]=t.useState(null),[N,Y]=t.useState(""),[ee,xe]=t.useState(de),[se,he]=t.useState("設定なし"),[te,ue]=t.useState(""),[n,r]=t.useState(""),[h,k]=t.useState(0),[P,E]=t.useState(0),[Te,Ze]=t.useState([]),[et,tt]=t.useState(!0),[yt,Je]=t.useState(!1),[Ye,ot]=t.useState(null),[bt,Xe]=t.useState(!1),[ke,Re]=t.useState([...C]),[Ge,ct]=t.useState([...W]),[Le,vt]=t.useState([...w]),[be,Ct]=t.useState([...L]),[De,Dt]=t.useState([...$]),[Ee,It]=t.useState({...O}),[Pe,dt]=t.useState({...z}),[a,S]=t.useState([...d]),[M,V]=t.useState(()=>{const s={};return d.forEach(g=>{s[g.id]=!!g.locked}),s}),[R,me]=t.useState("none"),xt=!0,nt=ls(),ht=as();t.useEffect(()=>{if(!nt.pathname.startsWith("/settings"))return;nt.pathname.split("/")[2]},[xt,nt.pathname,ht]),t.useEffect(()=>{const g=nt.pathname.split("/")[2];I(g??null)},[nt.pathname,xt]);const[st,sn]=t.useState(null),[St,kt]=t.useState(""),[ut,Ot]=t.useState(""),[_t,Tt]=t.useState("得点"),[Rt,Et]=t.useState("メンバー"),[Pt,Mt]=t.useState([]),[wt,$t]=t.useState(!0),[An,gt]=t.useState(!1),[ln,an]=t.useState(null),[Nn,At]=t.useState(!1),Wn=s=>({id:crypto.randomUUID(),name:s}),Ln=s=>({id:bn(),name:s,color:de,iconType:"none",tags:[],visible:!0}),jt=t.useMemo(()=>{const s=d.some(g=>!!g.locked!==M[g.id]);return JSON.stringify(_)!==JSON.stringify(i)||JSON.stringify(G)!==JSON.stringify(y)||JSON.stringify(U)!==JSON.stringify(j)||JSON.stringify(ke)!==JSON.stringify(C)||JSON.stringify(Ge)!==JSON.stringify(W)||JSON.stringify(Le)!==JSON.stringify(w)||JSON.stringify(be)!==JSON.stringify(L)||JSON.stringify(De)!==JSON.stringify($)||JSON.stringify(Ee)!==JSON.stringify(O)||JSON.stringify(Pe)!==JSON.stringify(z)||s},[_,G,U,ke,Ge,Le,be,De,Ee,Pe,M,i,y,j,C,W,w,L,$,O,z,d]),Hn=t.useMemo(()=>[{key:"teams",label:"チーム",icon:e.jsx(Sn,{})},{key:"members",label:"メンバー",icon:e.jsx(kn,{})},{key:"scores",label:"ラリー",icon:e.jsx(ds,{})},{key:"tags",label:"タグ",icon:e.jsx(On,{})},{key:"stats",label:"スタッツ",icon:e.jsx(xs,{})},{key:"locks",label:"試合ロック",icon:e.jsx(Cn,{})},{key:"theme",label:"テーマ",icon:e.jsx(Qe,{})},{key:"display",label:"表示・操作",icon:e.jsx(_n,{})},{key:"data",label:"データ",icon:e.jsx(Tn,{})},{key:"license",label:"ライセンス",icon:e.jsx(hs,{})},{key:"version",label:"バージョン",icon:e.jsx(Rn,{})}],[]),zn=t.useMemo(()=>[["teams","members","scores","tags","stats"],["display","theme"],["locks","data"],["license"],["version"]],[]),rn=t.useCallback(()=>{const s=a.map(g=>({...g,locked:M[g.id]}));o(_,G,U,ke,Ge,Le,be,De,Ee,Pe,s,!0)},[U,ke,M,a,o,_,G,Ge,Le,be,De,Ee,Pe]),Fn=()=>{b(-1),Y(""),xe(de),he("設定なし"),ue(""),r(""),k(0),E(0),Ze([]),tt(!0),Je(!0)},Un=s=>{b(s),Y(U[s].name),xe(U[s].color||de);const g=U[s];he(g.iconType==="svg"?"SVG":g.iconType==="image"?"画像":"設定なし"),ue(g.svg||""),r(g.image||""),k(g.cropX||0),E(g.cropY||0),Ze(g.tags||[]),tt(g.visible!==!1),Je(!0)},Bn=()=>{const s=se==="SVG"?"svg":se==="画像"?"image":"none",g=s==="svg"?{iconType:s,svg:te}:s==="image"?{iconType:s,image:n,cropX:h,cropY:P}:{iconType:s};m===-1?Q(A=>[...A,{...Ln(N),...g,color:ee,tags:Te,visible:et}]):m!==null&&Q(A=>A.map((ne,ye)=>ye===m?{...ne,name:N,...g,color:ee,tags:Te,visible:et}:ne)),Je(!1)},on=()=>{Je(!1)},Vn=s=>{ot(s),Xe(!0)},Gn=()=>{if(Ye!==null&&U[Ye].id!=="init-serve"){const s=Ye,g=U[s];Q(A=>A.filter((ne,ye)=>ye!==s)),F("プレー区分を削除しました","success",{actionLabel:"元に戻す",onAction:()=>{Q(A=>{const ne=[...A];return ne.splice(s,0,g),ne})},autoHideDuration:5e3})}Xe(!1),ot(null)},cn=()=>{Xe(!1)},Kn=()=>{var s;sn(-1),kt(((s=U.find(g=>g.visible!==!1))==null?void 0:s.id)||""),Ot(""),Tt("得点"),Et("メンバー"),Mt([]),$t(!0),gt(!0)},qn=s=>{const g=ke[s];sn(s),kt(g.playCategoryId),Ot(g.name),Tt(g.pointType),Et(g.pointUnitType),Mt(g.tags||[]),$t(g.visible!==!1),gt(!0)},Jn=()=>{st===-1?Re(s=>[...s,{id:bn(),playCategoryId:St,name:ut,pointType:_t,pointUnitType:Rt,tags:Pt,visible:wt}]):st!==null&&Re(s=>s.map((g,A)=>A===st?{...g,playCategoryId:St,name:ut,pointType:_t,pointUnitType:Rt,tags:Pt,visible:wt}:g)),gt(!1)},dn=()=>{gt(!1)},Yn=s=>{an(s),At(!0)},Xn=()=>{if(ln!==null){const s=ln,g=ke[s];Re(A=>A.filter((ne,ye)=>ye!==s)),F("プレー詳細を削除しました","success",{actionLabel:"元に戻す",onAction:()=>{Re(A=>{const ne=[...A];return ne.splice(s,0,g),ne})},autoHideDuration:5e3})}At(!1),an(null)},xn=()=>{At(!1)};t.useEffect(()=>(v(p?e.jsx(_e,{onClick:()=>ht("/settings"),size:"small",children:e.jsx(Dn,{})}):null),()=>v(null)),[v,xt,p,ht]),t.useEffect(()=>(x==null||x(jt),()=>x==null?void 0:x(!1)),[jt,x]),t.useEffect(()=>{jt&&rn()},[jt,rn]);const Qn=s=>s.iconType==="svg"&&s.svg?e.jsx(c,{sx:{width:64,height:64},dangerouslySetInnerHTML:{__html:vn(s.svg)}}):s.iconType==="image"&&s.image?e.jsx(c,{component:"img",src:s.image,sx:{width:64,height:64,objectFit:"none",objectPosition:`-${s.cropX||0}px -${s.cropY||0}px`}}):e.jsx(Pl,{name:s.name});return e.jsxs(c,{sx:{display:"flex",flexDirection:"column",height:"100dvh"},children:[p===null?e.jsx(c,{children:zn.map((s,g)=>e.jsx(ss,{orientation:"vertical",fullWidth:!0,variant:"outlined",sx:{mb:2,"& .MuiButton-root":{justifyContent:"flex-start",color:A=>A.palette.text.secondary,height:50,textAlign:"left"},"& .MuiButton-root .MuiButton-startIcon":{mr:1},"& .MuiButton-root .MuiButton-endIcon":{marginLeft:"auto"},"& .MuiButtonGroup-grouped":{borderColor:"divider"}},children:s.map(A=>{const ne=Hn.find(ye=>ye.key===A);return ne?e.jsxs(f,{onClick:A==="version"?void 0:()=>ht(`/settings/${A}`),disableRipple:A==="version",startIcon:ne.icon,endIcon:A==="version"?void 0:e.jsx(In,{sx:{color:ye=>ye.palette.text.secondary}}),children:[ne.label,A==="version"&&e.jsx(c,{component:"span",sx:{ml:"auto",color:ye=>ye.palette.text.secondary},children:"1.1.1"})]},A):null})},g))}):null,p!==null&&e.jsx(c,{sx:{mt:0,flexGrow:1,overflowY:"visible"},children:e.jsx(us,{mode:"wait",children:p&&e.jsxs(Rl,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},sx:{display:"flex",flexDirection:"column",flexGrow:1},children:[p==="teams"&&e.jsx(Vs,{teams:_,setTeams:X,setMembers:D,selectedTeam:T,setSelectedTeam:J,createTeam:Wn,showSnackbar:F}),p==="members"&&(_.length===0?e.jsxs(ft,{severity:"info",children:["チームを登録するとメンバーを設定できるようになります",e.jsx("br",{}),e.jsx(Nt,{component:rs,to:"/settings/teams",children:"チーム設定へ"})]}):T&&e.jsx(Ks,{teams:_,members:G,setMembers:D,selectedTeam:T,setSelectedTeam:J,showSnackbar:F})),p==="scores"&&e.jsx(qs,{openAddPlayDialog:Fn,playCategories:U,setPlayCategories:Q,openEditPlayDialog:Un,scoreInput:Pe,renderIcon:Qn,rallyCategoryTags:be,handlePlayDelete:Vn,openAddDetailDialog:Kn,playDetails:ke,setPlayDetails:Re,openEditDetailDialog:qn,theme:Ee,rallyDetailTags:De,handleDetailDelete:Yn}),p==="stats"&&e.jsx(Xs,{statsSettings:Ge,setStatsSettings:ct,playCategories:U,playDetails:ke,rallyCategoryTags:be,rallyDetailTags:De,showSnackbar:F}),p==="tags"&&e.jsx(Js,{tags:Le,setTags:vt,rallyCategoryTags:be,setRallyCategoryTags:Ct,rallyDetailTags:De,setRallyDetailTags:Dt,setMatches:S,setPlayCategories:Q,setPlayDetails:Re,showSnackbar:F}),p==="locks"&&e.jsx(dl,{teams:_,matches:a,tags:Le,matchLocks:M,setMatchLocks:V,lockGroupBy:R,setLockGroupBy:me,isMobile:xt}),p==="theme"&&e.jsx(nl,{theme:Ee,onThemeChange:It}),p==="display"&&e.jsx(rl,{scoreInput:Pe,onScoreInputChange:dt,dashboardVisible:K,onDashboardVisibleChange:H,showSnackbar:F}),p==="data"&&e.jsx(Dl,{onDeleteData:u,onImportData:B,onExportData:q,showSnackbar:F,teams:_,setTeams:X,setMembers:D,playCategories:U,setPlayCategories:Q,setPlayDetails:Re}),p==="license"&&e.jsx(Tl,{})]},p)})}),e.jsxs(ze,{open:yt,onClose:on,children:[e.jsxs(ae,{children:["プレー区分",m===-1?"追加":"編集"]}),e.jsxs(re,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[e.jsx(ge,{label:"プレー区分",value:N,onChange:s=>Y(s.target.value),fullWidth:!0,margin:"dense"}),e.jsx(ge,{label:"色",type:"color",value:ee,onChange:s=>xe(s.target.value),margin:"dense",InputLabelProps:{shrink:!0},fullWidth:!0}),e.jsx(mt,{multiple:!0,options:be,getOptionLabel:s=>s.name,value:be.filter(s=>Te.includes(s.id)),onChange:(s,g)=>Ze(g.map(A=>A.id)),renderTags:(s,g)=>s.map((A,ne)=>t.createElement(fe,{...g({index:ne}),key:A.id,label:A.name,size:"small",sx:{backgroundColor:A.color||de,color:"#fff"}})),renderInput:s=>e.jsx(ge,{...s,label:"タグ",margin:"dense"})}),e.jsxs(ft,{severity:"info",children:["プレー区分タグは設定＞タグメニューにて追加できます",e.jsx("br",{}),"プレー区分にタグを設定することにより、プレー区分を横串で集計することが可能となります"]}),e.jsxs(it,{exclusive:!0,value:et?"表示":"非表示",onChange:(s,g)=>g&&tt(g==="表示"),fullWidth:!0,children:[e.jsxs(ve,{value:"表示",sx:{width:"50%",whiteSpace:"nowrap"},children:[e.jsx(Ke,{sx:{mr:1}}),"表示"]}),e.jsxs(ve,{value:"非表示",sx:{width:"50%",whiteSpace:"nowrap"},children:[e.jsx(qe,{sx:{mr:1}}),"非表示"]})]}),Pe.showRallyIcons&&e.jsxs(e.Fragment,{children:[e.jsxs(it,{exclusive:!0,value:se,onChange:(s,g)=>g&&he(g),children:[e.jsx(ve,{value:"設定なし",children:"設定なし"}),e.jsx(ve,{value:"SVG",children:"SVG"}),e.jsx(ve,{value:"画像",children:"画像"})]}),se==="SVG"&&e.jsxs(e.Fragment,{children:[e.jsx(c,{sx:{width:64,height:64},dangerouslySetInnerHTML:{__html:vn(te)}}),e.jsx(ge,{multiline:!0,minRows:10,label:"SVG",value:te,onChange:s=>ue(s.target.value),fullWidth:!0,margin:"dense"})]}),se==="画像"&&e.jsxs(e.Fragment,{children:[n&&e.jsx(El,{src:n,cropX:h,cropY:P,onChange:(s,g)=>{k(s),E(g)}}),e.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/bmp,image/tiff,image/gif",onChange:s=>{var ne;const g=(ne=s.target.files)==null?void 0:ne[0];if(!g)return;const A=new FileReader;A.onload=()=>{r(A.result)},A.readAsDataURL(g)}})]})]})]}),e.jsxs(ie,{children:[e.jsx(f,{onClick:on,color:"inherit",startIcon:e.jsx(oe,{}),children:"キャンセル"}),e.jsx(f,{onClick:Bn,disabled:N.trim()==="",startIcon:e.jsx(ce,{}),children:"OK"})]})]}),e.jsxs(ze,{open:An,onClose:dn,children:[e.jsxs(ae,{children:["プレー詳細",st===-1?"追加":"編集"]}),e.jsxs(re,{children:[e.jsxs(Ie,{fullWidth:!0,margin:"dense",children:[e.jsx(Oe,{id:"detail-category-label",children:"プレー区分"}),e.jsx(Se,{labelId:"detail-category-label",value:St,label:"プレー区分",onChange:s=>kt(s.target.value),children:U.map(s=>e.jsx(Z,{value:s.id,children:s.name},s.id))})]}),e.jsx(ge,{fullWidth:!0,label:"プレー詳細",value:ut,onChange:s=>Ot(s.target.value),margin:"dense"}),e.jsxs(Ie,{fullWidth:!0,margin:"dense",children:[e.jsx(Oe,{id:"detail-point-label",children:"得点区分"}),e.jsxs(Se,{labelId:"detail-point-label",value:_t,label:"得点区分",onChange:s=>Tt(s.target.value),children:[e.jsx(Z,{value:"得点",children:"得点"}),e.jsx(Z,{value:"失点",children:"失点"})]})]}),e.jsxs(Ie,{fullWidth:!0,margin:"dense",children:[e.jsx(Oe,{id:"detail-point-unit-label",children:"得失点単位区分"}),e.jsxs(Se,{labelId:"detail-point-unit-label",value:Rt,label:"得失点単位区分",onChange:s=>Et(s.target.value),disabled:st!==-1,children:[e.jsx(Z,{value:"メンバー",children:"メンバー"}),e.jsx(Z,{value:"チーム",children:"チーム"})]})]}),e.jsx(ft,{severity:"warning",sx:{whiteSpace:"pre-line",mt:1},children:`得失点単位区分は追加時にのみ設定でき、後から変更できません
再設定する場合はプレー詳細を作り直してください`}),e.jsx(mt,{multiple:!0,options:De,getOptionLabel:s=>s.name,value:De.filter(s=>Pt.includes(s.id)),onChange:(s,g)=>Mt(g.map(A=>A.id)),renderTags:(s,g)=>s.map((A,ne)=>{const ye=A.color||de;return t.createElement(fe,{...g({index:ne}),key:A.id,label:A.name,size:"small",sx:{backgroundColor:ye,color:"#fff"}})}),renderInput:s=>e.jsx(ge,{...s,label:"タグ",margin:"dense"})}),e.jsxs(ft,{severity:"info",sx:{mt:1},children:["プレー詳細タグは設定＞タグメニューにて追加できます",e.jsx("br",{}),"プレー詳細にタグを設定することにより、プレー詳細を横串で集計することが可能となります"]}),e.jsxs(it,{exclusive:!0,value:wt?"表示":"非表示",onChange:(s,g)=>g&&$t(g==="表示"),fullWidth:!0,sx:{mt:2},children:[e.jsxs(ve,{value:"表示",sx:{width:"50%",whiteSpace:"nowrap"},children:[e.jsx(Ke,{sx:{mr:1}}),"表示"]}),e.jsxs(ve,{value:"非表示",sx:{width:"50%",whiteSpace:"nowrap"},children:[e.jsx(qe,{sx:{mr:1}}),"非表示"]})]})]}),e.jsxs(ie,{children:[e.jsx(f,{onClick:dn,color:"inherit",startIcon:e.jsx(oe,{}),children:"キャンセル"}),e.jsx(f,{onClick:Jn,disabled:ut.trim()==="",startIcon:e.jsx(ce,{}),children:"OK"})]})]}),e.jsxs(Ce,{open:bt,onClose:cn,children:[e.jsx(ae,{children:"削除確認"}),e.jsxs(re,{sx:{mt:2},children:["このプレー区分を削除しますか？",e.jsx(c,{sx:{mt:1},children:"削除すると、すでに入力されている試合のスコアや分析に影響が出る可能性があります。"})]}),e.jsxs(ie,{children:[e.jsx(f,{onClick:cn,color:"inherit",startIcon:e.jsx(oe,{}),children:"キャンセル"}),e.jsx(f,{onClick:Gn,color:"error",startIcon:e.jsx(ce,{}),children:"OK"})]})]}),e.jsxs(Ce,{open:Nn,onClose:xn,children:[e.jsx(ae,{children:"削除確認"}),e.jsxs(re,{sx:{mt:2},children:["このプレー詳細を削除しますか？",e.jsx(c,{sx:{mt:1},children:"削除すると、すでに入力されている試合のスコアや分析に影響が出る可能性があります。"})]}),e.jsxs(ie,{children:[e.jsx(f,{onClick:xn,color:"inherit",startIcon:e.jsx(oe,{}),children:"キャンセル"}),e.jsx(f,{onClick:Xn,color:"error",startIcon:e.jsx(ce,{}),children:"OK"})]})]})]})}export{Hl as default};
